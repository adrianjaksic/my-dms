/*core*/
(function(a){a.jqx=a.jqx||{};a.jqx.define=function(b,c,d){b[c]=function(){if(this.baseType){this.base=new b[this.baseType]();this.base.defineInstance()}this.defineInstance()};b[c].prototype.defineInstance=function(){};b[c].prototype.base=null;b[c].prototype.baseType=undefined;if(d&&b[d]){b[c].prototype.baseType=d}};a.jqx.invoke=function(e,d){if(d.length==0){return}var f=typeof(d)==Array||d.length>0?d[0]:d;var c=typeof(d)==Array||d.length>1?Array.prototype.slice.call(d,1):a({}).toArray();while(e[f]==undefined&&e.base!=null){if(e[f]!=undefined&&a.isFunction(e[f])){return e[f].apply(e,c)}if(typeof f=="string"){var b=f.toLowerCase();if(e[b]!=undefined&&a.isFunction(e[b])){return e[b].apply(e,c)}}e=e.base}if(e[f]!=undefined&&a.isFunction(e[f])){return e[f].apply(e,c)}if(typeof f=="string"){var b=f.toLowerCase();if(e[b]!=undefined&&a.isFunction(e[b])){return e[b].apply(e,c)}}return};a.jqx.hasProperty=function(c,b){if(typeof(b)=="object"){for(var e in b){var d=c;while(d){if(d.hasOwnProperty(e)){return true}if(d.hasOwnProperty(e.toLowerCase())){return true}d=d.base}return false}}else{while(c){if(c.hasOwnProperty(b)){return true}if(c.hasOwnProperty(b.toLowerCase())){return true}c=c.base}}return false};a.jqx.hasFunction=function(e,d){if(d.length==0){return false}if(e==undefined){return false}var f=typeof(d)==Array||d.length>0?d[0]:d;var c=typeof(d)==Array||d.length>1?Array.prototype.slice.call(d,1):{};while(e[f]==undefined&&e.base!=null){if(e[f]&&a.isFunction(e[f])){return true}if(typeof f=="string"){var b=f.toLowerCase();if(e[b]&&a.isFunction(e[b])){return true}}e=e.base}if(e[f]&&a.isFunction(e[f])){return true}if(typeof f=="string"){var b=f.toLowerCase();if(e[b]&&a.isFunction(e[b])){return true}}return false};a.jqx.isPropertySetter=function(c,b){if(b.length==1&&typeof(b[0])=="object"){return true}if(b.length==2&&typeof(b[0])=="string"&&!a.jqx.hasFunction(c,b)){return true}return false};a.jqx.validatePropertySetter=function(f,d,b){if(!a.jqx.propertySetterValidation){return true}if(d.length==1&&typeof(d[0])=="object"){for(var e in d[0]){var g=f;while(!g.hasOwnProperty(e)&&g.base){g=g.base}if(!g||!g.hasOwnProperty(e)){if(!b){var c=g.hasOwnProperty(e.toString().toLowerCase());if(!c){throw"Invalid property: "+e}else{return true}}return false}}return true}if(d.length!=2){if(!b){throw"Invalid property: "+d.length>=0?d[0]:""}return false}while(!f.hasOwnProperty(d[0])&&f.base){f=f.base}if(!f||!f.hasOwnProperty(d[0])){if(!b){throw"Invalid property: "+d[0]}return false}return true};a.jqx.set=function(c,b){if(b.length==1&&typeof(b[0])=="object"){a.each(b[0],function(d,e){var f=c;while(!f.hasOwnProperty(d)&&f.base!=null){f=f.base}if(f.hasOwnProperty(d)){a.jqx.setvalueraiseevent(f,d,e)}else{if(f.hasOwnProperty(d.toLowerCase())){a.jqx.setvalueraiseevent(f,d.toLowerCase(),e)}else{if(a.jqx.propertySetterValidation){throw"jqxCore: invalid property '"+d+"'"}}}})}else{if(b.length==2){while(!c.hasOwnProperty(b[0])&&c.base){c=c.base}if(c.hasOwnProperty(b[0])){a.jqx.setvalueraiseevent(c,b[0],b[1])}else{if(c.hasOwnProperty(b[0].toLowerCase())){a.jqx.setvalueraiseevent(c,b[0].toLowerCase(),b[1])}else{if(a.jqx.propertySetterValidation){throw"jqxCore: invalid property '"+b[0]+"'"}}}}}};a.jqx.setvalueraiseevent=function(c,d,e){var b=c[d];c[d]=e;if(!c.isInitialized){return}if(c.propertyChangedHandler!=undefined){c.propertyChangedHandler(c,d,b,e)}if(c.propertyChangeMap!=undefined&&c.propertyChangeMap[d]!=undefined){c.propertyChangeMap[d](c,d,b,e)}};a.jqx.get=function(e,d){if(d==undefined||d==null){return undefined}if(e.propertyMap){var c=e.propertyMap(d);if(c!=null){return c}}if(e.hasOwnProperty(d)){return e[d]}if(e.hasOwnProperty(d.toLowerCase())){return e[d.toLowerCase()]}var b=undefined;if(typeof(d)==Array){if(d.length!=1){return undefined}b=d[0]}else{if(typeof(d)=="string"){b=d}}while(!e.hasOwnProperty(b)&&e.base){e=e.base}if(e){return e[b]}return undefined};a.jqx.serialize=function(e){var b="";if(a.isArray(e)){b="[";for(var d=0;d<e.length;d++){if(d>0){b+=", "}b+=a.jqx.serialize(e[d])}b+="]"}else{if(typeof(e)=="object"){b="{";var c=0;for(var d in e){if(c++>0){b+=", "}b+=d+": "+a.jqx.serialize(e[d])}b+="}"}else{b=e.toString()}}return b};a.jqx.propertySetterValidation=true;a.jqx.jqxWidgetProxy=function(g,c,b){var d=a(c);var f=a.data(c,g);if(f==undefined){return undefined}var e=f.instance;if(a.jqx.hasFunction(e,b)){return a.jqx.invoke(e,b)}if(a.jqx.isPropertySetter(e,b)){if(a.jqx.validatePropertySetter(e,b)){a.jqx.set(e,b);return undefined}}else{if(typeof(b)=="object"&&b.length==0){return}else{if(typeof(b)=="object"&&b.length==1&&a.jqx.hasProperty(e,b[0])){return a.jqx.get(e,b[0])}else{if(typeof(b)=="string"&&a.jqx.hasProperty(e,b[0])){return a.jqx.get(e,b)}}}}throw"jqxCore: Invalid parameter '"+a.jqx.serialize(b)+"' does not exist.";return undefined};a.jqx.applyWidget=function(c,d,k,l){var g=false;try{g=window.MSApp!=undefined}catch(f){}var m=a(c);if(!l){l=new a.jqx["_"+d]()}else{l.host=m;l.element=c}if(c.id==""){c.id=a.jqx.utilities.createId()}var j={host:m,element:c,instance:l};l.widgetName=d;a.data(c,d,j);a.data(c,"jqxWidget",j.instance);var h=new Array();var l=j.instance;while(l){l.isInitialized=false;h.push(l);l=l.base}h.reverse();h[0].theme=a.jqx.theme||"";a.jqx.jqxWidgetProxy(d,c,k);for(var b in h){l=h[b];if(b==0){l.host=m;l.element=c;l.WinJS=g}if(l!=undefined){if(l.createInstance!=null){if(g){MSApp.execUnsafeLocalFunction(function(){l.createInstance(k)})}else{l.createInstance(k)}}}}for(var b in h){if(h[b]!=undefined){h[b].isInitialized=true}}if(g){MSApp.execUnsafeLocalFunction(function(){j.instance.refresh(true)})}else{j.instance.refresh(true)}};a.jqx.jqxWidget=function(b,d,j){var c=false;try{jqxArgs=Array.prototype.slice.call(j,0)}catch(h){jqxArgs=""}try{c=window.MSApp!=undefined}catch(h){}var g=b;var f="";if(d){f="_"+d}a.jqx.define(a.jqx,"_"+g,f);a.fn[g]=function(){var e=Array.prototype.slice.call(arguments,0);if(e.length==0||(e.length==1&&typeof(e[0])=="object")){if(this.length==0){if(this.selector){throw new Error("Invalid jQuery Selector - "+this.selector+"! Please, check whether the used ID or CSS Class name is correct.")}else{throw new Error("Invalid jQuery Selector! Please, check whether the used ID or CSS Class name is correct.")}}return this.each(function(){var n=a(this);var m=this;var o=a.data(m,g);if(o==null){a.jqx.applyWidget(m,g,e,undefined)}else{a.jqx.jqxWidgetProxy(g,this,e)}})}else{if(this.length==0){if(this.selector){throw new Error("Invalid jQuery Selector - "+this.selector+"! Please, check whether the used ID or CSS Class name is correct.")}else{throw new Error("Invalid jQuery Selector! Please, check whether the used ID or CSS Class name is correct.")}}var l=null;var k=0;this.each(function(){var m=a.jqx.jqxWidgetProxy(g,this,e);if(k==0){l=m;k++}else{if(k==1){var n=[];n.push(l);l=n}l.push(m)}})}return l};try{a.extend(a.jqx["_"+g].prototype,Array.prototype.slice.call(j,0)[0])}catch(h){}a.extend(a.jqx["_"+g].prototype,{toThemeProperty:function(e,k){if(this.theme==""){return e}if(k!=null&&k){return e+"-"+this.theme}return e+" "+e+"-"+this.theme}});a.jqx["_"+g].prototype.refresh=function(){if(this.base){this.base.refresh(true)}};a.jqx["_"+g].prototype.createInstance=function(){};a.jqx["_"+g].prototype.applyTo=function(l,k){if(!(k instanceof Array)){var e=[];e.push(k);k=e}a.jqx.applyWidget(l,g,k,this)};a.jqx["_"+g].prototype.getInstance=function(){return this};a.jqx["_"+g].prototype.propertyChangeMap={};a.jqx["_"+g].prototype.addHandler=function(m,k,e,l){switch(k){case"mousewheel":if(window.addEventListener){if(a.jqx.browser.mozilla){m[0].addEventListener("DOMMouseScroll",e,false)}else{m[0].addEventListener("mousewheel",e,false)}return false}break;case"mousemove":if(window.addEventListener&&!l){m[0].addEventListener("mousemove",e,false);return false}break}if(l==undefined||l==null){if(m.on){m.on(k,e)}else{m.bind(k,e)}}else{if(m.on){m.on(k,l,e)}else{m.bind(k,l,e)}}};a.jqx["_"+g].prototype.removeHandler=function(l,k,e){switch(k){case"mousewheel":if(window.removeEventListener){if(a.jqx.browser.mozilla){l[0].removeEventListener("DOMMouseScroll",e,false)}else{l[0].removeEventListener("mousewheel",e,false)}return false}break;case"mousemove":if(e){if(window.removeEventListener){l[0].removeEventListener("mousemove",e,false)}}break}if(k==undefined){if(l.off){l.off()}else{l.unbind()}return}if(e==undefined){if(l.off){l.off(k)}else{l.unbind(k)}}else{if(l.off){l.off(k,e)}else{l.unbind(k,e)}}}};a.jqx.theme=a.jqx.theme||"";a.jqx.ready=function(){a(window).trigger("jqxReady")};a.jqx.utilities=a.jqx.utilities||{};a.extend(a.jqx.utilities,{scrollBarSize:15,touchScrollBarSize:10,createId:function(){var b=function(){return(((1+Math.random())*65536)|0).toString(16).substring(1)};return"jqxWidget"+b()+b()},setTheme:function(f,g,e){if(typeof e==="undefined"){return}var h=e[0].className.split(" "),b=[],j=[],d=e.children();for(var c=0;c<h.length;c+=1){if(h[c].indexOf(f)>=0){if(f.length>0){b.push(h[c]);j.push(h[c].replace(f,g))}else{j.push(h[c]+"-"+g)}}}this._removeOldClasses(b,e);this._addNewClasses(j,e);for(var c=0;c<d.length;c+=1){this.setTheme(f,g,a(d[c]))}},_removeOldClasses:function(d,c){for(var b=0;b<d.length;b+=1){c.removeClass(d[b])}},_addNewClasses:function(d,c){for(var b=0;b<d.length;b+=1){c.addClass(d[b])}},getOffset:function(b){var d=a.jqx.mobile.getLeftPos(b[0]);var c=a.jqx.mobile.getTopPos(b[0]);return{top:c,left:d}},resize:function(d,m,l,k){if(k===undefined){k=true}var g=-1;var f=this;var c=function(o){if(!f.hiddenWidgets){return -1}var p=-1;for(var n=0;n<f.hiddenWidgets.length;n++){if(o.id){if(f.hiddenWidgets[n].id==o.id){p=n;break}}else{if(f.hiddenWidgets[n].id==o[0].id){p=n;break}}}return p};if(this.resizeHandlers){for(var e=0;e<this.resizeHandlers.length;e++){if(d.id){if(this.resizeHandlers[e].id==d.id){g=e;break}}else{if(this.resizeHandlers[e].id==d[0].id){g=e;break}}}if(l===true){if(g!=-1){this.resizeHandlers.splice(g,1)}if(this.resizeHandlers.length==0){var j=a(window);if(j.off){j.off("resize.jqx");j.off("orientationchange.jqx");j.off("orientationchanged.jqx")}else{j.unbind("resize.jqx");j.unbind("orientationchange.jqx");j.unbind("orientationchanged.jqx")}this.resizeHandlers=null}var b=c(d);if(b!=-1&&this.hiddenWidgets){this.hiddenWidgets.splice(b,1)}return}}else{if(l===true){var b=c(d);if(b!=-1&&this.hiddenWidgets){this.hiddenWidgets.splice(b,1)}return}}var f=this;var h=function(n,o){if(!f.resizeHandlers){return}var p=function(t,r){var s=t.widget.parents().length;var q=r.widget.parents().length;try{if(s<q){return -1}if(s>q){return 1}}catch(u){var v=u}return 0};f.hiddenWidgets=new Array();f.resizeHandlers.sort(p);a.each(f.resizeHandlers,function(s,v){var u=this.widget.data();if(!u){return true}if(!u.jqxWidget){return true}var t=u.jqxWidget.width;var q=u.jqxWidget.height;if(u.jqxWidget.base){if(t==undefined){t=u.jqxWidget.base.width}if(q==undefined){q=u.jqxWidget.base.height}}var r=false;if(t!=null&&t.toString().indexOf("%")!=-1){r=true}if(q!=null&&q.toString().indexOf("%")!=-1){r=true}if(a.jqx.isHidden(this.widget)){if(c(this.widget)===-1){f.hiddenWidgets.push(this)}}else{if(n===undefined||n!==true){if(r){this.callback(o);if(f.hiddenWidgets.indexOf(this)>=0){f.hiddenWidgets.splice(f.hiddenWidgets.indexOf(this),1)}}}}});if(f.hiddenWidgets.length>0){f.hiddenWidgets.sort(p);if(f.__resizeInterval){clearInterval(f.__resizeInterval)}f.__resizeInterval=setInterval(function(){var q=false;var r=new Array();a.each(f.hiddenWidgets,function(s,t){if(a.jqx.isHidden(this.widget)){q=true;r.push(this)}else{this.callback(o)}});f.hiddenWidgets=r;if(!q){clearInterval(f.__resizeInterval)}},100)}};if(!this.resizeHandlers){this.resizeHandlers=new Array();var j=a(window);if(j.on){j.on("resize.jqx",function(n){h(null,"resize")});j.on("orientationchange.jqx",function(n){h(null,"orientationchange")});j.on("orientationchanged.jqx",function(n){h(null,"orientationchange")})}else{j.bind("resize.jqx",function(n){h(null,"orientationchange")});j.bind("orientationchange.jqx",function(n){h(null,"orientationchange")});j.bind("orientationchanged.jqx",function(n){h(null,"orientationchange")})}}if(k){if(g===-1){this.resizeHandlers.push({id:d[0].id,widget:d,callback:m})}}if(a.jqx.isHidden(d)&&k===true){h(true)}},html:function(c,d){if(!a(c).on){return a(c).html(d)}try{return jQuery.access(c,function(s){var f=c[0]||{},m=0,j=c.length;if(s===undefined){return f.nodeType===1?f.innerHTML.replace(rinlinejQuery,""):undefined}var r=/<(?:script|style|link)/i,n="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",h=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,p=/<([\w:]+)/,g=/<(?:script|object|embed|option|style)/i,k=new RegExp("<(?:"+n+")[\\s/>]","i"),q=/^\s+/,t={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]};if(typeof s==="string"&&!r.test(s)&&(jQuery.support.htmlSerialize||!k.test(s))&&(jQuery.support.leadingWhitespace||!q.test(s))&&!t[(p.exec(s)||["",""])[1].toLowerCase()]){s=s.replace(h,"<$1></$2>");try{for(;m<j;m++){f=this[m]||{};if(f.nodeType===1){jQuery.cleanData(f.getElementsByTagName("*"));f.innerHTML=s}}f=0}catch(o){}}if(f){c.empty().append(s)}},null,d,arguments.length)}catch(b){return a(c).html(d)}},hasTransform:function(d){var c="";c=d.css("transform");if(c==""||c=="none"){c=d.parents().css("transform");if(c==""||c=="none"){var b=a.jqx.utilities.getBrowser();if(b.browser=="msie"){c=d.css("-ms-transform");if(c==""||c=="none"){c=d.parents().css("-ms-transform")}}else{if(b.browser=="chrome"){c=d.css("-webkit-transform");if(c==""||c=="none"){c=d.parents().css("-webkit-transform")}}else{if(b.browser=="opera"){c=d.css("-o-transform");if(c==""||c=="none"){c=d.parents().css("-o-transform")}}else{if(b.browser=="mozilla"){c=d.css("-moz-transform");if(c==""||c=="none"){c=d.parents().css("-moz-transform")}}}}}}else{return c!=""&&c!="none"}}if(c==""||c=="none"){c=a(document.body).css("transform")}return c!=""&&c!="none"&&c!=null},getBrowser:function(){var c=navigator.userAgent.toLowerCase();var b=/(chrome)[ \/]([\w.]+)/.exec(c)||/(webkit)[ \/]([\w.]+)/.exec(c)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(c)||/(msie) ([\w.]+)/.exec(c)||c.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(c)||[];var d={browser:b[1]||"",version:b[2]||"0"};if(c.indexOf("rv:11.0")>=0&&c.indexOf(".net4.0c")>=0){d.browser="msie";d.version="11";b[1]="msie"}d[b[1]]=b[1];return d}});a.jqx.browser=a.jqx.utilities.getBrowser();a.jqx.isHidden=function(d){try{var b=d[0].offsetWidth,e=d[0].offsetHeight;if(b===0||e===0){return true}else{return false}}catch(c){return false}};a.jqx.ariaEnabled=true;a.jqx.aria=function(c,e,d){if(!a.jqx.ariaEnabled){return}if(e==undefined){a.each(c.aria,function(g,h){var k=!c.base?c.host.attr(g):c.base.host.attr(g);if(k!=undefined&&!a.isFunction(k)){var j=k;switch(h.type){case"number":j=new Number(k);if(isNaN(j)){j=k}break;case"boolean":j=k=="true"?true:false;break;case"date":j=new Date(k);if(j=="Invalid Date"||isNaN(j)){j=k}break}c[h.name]=j}else{var k=c[h.name];if(a.isFunction(k)){k=c[h.name]()}if(k==undefined){k=""}try{!c.base?c.host.attr(g,k.toString()):c.base.host.attr(g,k.toString())}catch(f){}}})}else{try{if(c.host){if(!c.base){if(c.host){if(c.element.setAttribute){c.element.setAttribute(e,d.toString())}else{c.host.attr(e,d.toString())}}else{c.attr(e,d.toString())}}else{if(c.base.host){c.base.host.attr(e,d.toString())}else{c.attr(e,d.toString())}}}else{if(c.setAttribute){c.setAttribute(e,d.toString())}}}catch(b){}}};if(!Array.prototype.indexOf){Array.prototype.indexOf=function(c){var b=this.length;var d=Number(arguments[1])||0;d=(d<0)?Math.ceil(d):Math.floor(d);if(d<0){d+=b}for(;d<b;d++){if(d in this&&this[d]===c){return d}}return -1}}a.jqx.mobile=a.jqx.mobile||{};a.jqx.position=function(b){var e=parseInt(b.pageX);var d=parseInt(b.pageY);if(a.jqx.mobile.isTouchDevice()){var c=a.jqx.mobile.getTouches(b);var f=c[0];e=parseInt(f.pageX);d=parseInt(f.pageY)}return{left:e,top:d}};a.extend(a.jqx.mobile,{_touchListener:function(h,f){var b=function(j,l){var k=document.createEvent("MouseEvents");k.initMouseEvent(j,l.bubbles,l.cancelable,l.view,l.detail,l.screenX,l.screenY,l.clientX,l.clientY,l.ctrlKey,l.altKey,l.shiftKey,l.metaKey,l.button,l.relatedTarget);k._pageX=l.pageX;k._pageY=l.pageY;return k};var g={mousedown:"touchstart",mouseup:"touchend",mousemove:"touchmove"};var d=b(g[h.type],h);h.target.dispatchEvent(d);var c=h.target["on"+g[h.type]];if(typeof c==="function"){c(h)}},setMobileSimulator:function(c,e){if(this.isTouchDevice()){return}this.simulatetouches=true;if(e==false){this.simulatetouches=false}var d={mousedown:"touchstart",mouseup:"touchend",mousemove:"touchmove"};var b=this;if(window.addEventListener){var f=function(){for(var g in d){if(c.addEventListener){c.removeEventListener(g,b._touchListener);c.addEventListener(g,b._touchListener,false)}}};if(a.jqx.browser.msie){f()}else{f()}}},isTouchDevice:function(){if(this.touchDevice!=undefined){return this.touchDevice}var b="Browser CodeName: "+navigator.appCodeName+"";b+="Browser Name: "+navigator.appName+"";b+="Browser Version: "+navigator.appVersion+"";b+="Platform: "+navigator.platform+"";b+="User-agent header: "+navigator.userAgent+"";if(b.indexOf("Android")!=-1){return true}if(b.indexOf("IEMobile")!=-1){return true}if(b.indexOf("Windows Phone")!=-1){return true}if(b.indexOf("WPDesktop")!=-1){return true}if(b.indexOf("ZuneWP7")!=-1){return true}if(b.indexOf("BlackBerry")!=-1&&b.indexOf("Mobile Safari")!=-1){return true}if(b.indexOf("ipod")!=-1){return true}if(b.indexOf("nokia")!=-1||b.indexOf("Nokia")!=-1){return true}if(b.indexOf("Chrome/17")!=-1){return false}if(b.indexOf("CrOS")!=-1){return false}if(b.indexOf("Opera")!=-1&&b.indexOf("Mobi")==-1&&b.indexOf("Mini")==-1&&b.indexOf("Platform: Win")!=-1){return false}if(b.indexOf("Opera")!=-1&&b.indexOf("Mobi")!=-1&&b.indexOf("Opera Mobi")!=-1){return true}var c={ios:"i(?:Pad|Phone|Pod)(?:.*)CPU(?: iPhone)? OS ",android:"(Android |HTC_|Silk/)",blackberry:"BlackBerry(?:.*)Version/",rimTablet:"RIM Tablet OS ",webos:"(?:webOS|hpwOS)/",bada:"Bada/"};try{if(this.touchDevice!=undefined){return this.touchDevice}this.touchDevice=false;for(i in c){if(c.hasOwnProperty(i)){prefix=c[i];match=b.match(new RegExp("(?:"+prefix+")([^\\s;]+)"));if(match){if(i.toString()=="blackberry"){this.touchDevice=false;return false}this.touchDevice=true;return true}}}if(navigator.platform.toLowerCase().indexOf("win")!=-1){this.touchDevice=false;return false}if(("ontouchstart" in window)||window.DocumentTouch&&document instanceof DocumentTouch){this.touchDevice=true}return this.touchDevice}catch(d){this.touchDevice=false;return false}},getLeftPos:function(b){var c=b.offsetLeft;while((b=b.offsetParent)!=null){if(b.tagName!="HTML"){c+=b.offsetLeft;if(document.all){c+=b.clientLeft}}}return c},getTopPos:function(c){var e=c.offsetTop;var b=a(c).coord();while((c=c.offsetParent)!=null){if(c.tagName!="HTML"){e+=(c.offsetTop-c.scrollTop);if(document.all){e+=c.clientTop}}}var d=navigator.userAgent.toLowerCase();var f=(d.indexOf("windows phone")!=-1||d.indexOf("WPDesktop")!=-1||d.indexOf("ZuneWP7")!=-1||d.indexOf("msie 9")!=-1||d.indexOf("msie 11")!=-1||d.indexOf("msie 10")!=-1)&&d.indexOf("touch")!=-1;if(f){return b.top}if(this.isSafariMobileBrowser()){if(this.isSafari4MobileBrowser()&&this.isIPadSafariMobileBrowser()){return e}if(d.indexOf("version/7")!=-1){return b.top}e=e+a(window).scrollTop()}return e},isChromeMobileBrowser:function(){var c=navigator.userAgent.toLowerCase();var b=c.indexOf("android")!=-1;return b},isOperaMiniMobileBrowser:function(){var c=navigator.userAgent.toLowerCase();var b=c.indexOf("opera mini")!=-1||c.indexOf("opera mobi")!=-1;return b},isOperaMiniBrowser:function(){var c=navigator.userAgent.toLowerCase();var b=c.indexOf("opera mini")!=-1;return b},isNewSafariMobileBrowser:function(){var c=navigator.userAgent.toLowerCase();var b=c.indexOf("ipad")!=-1||c.indexOf("iphone")!=-1||c.indexOf("ipod")!=-1;b=b&&(c.indexOf("version/5")!=-1);return b},isSafari4MobileBrowser:function(){var c=navigator.userAgent.toLowerCase();var b=c.indexOf("ipad")!=-1||c.indexOf("iphone")!=-1||c.indexOf("ipod")!=-1;b=b&&(c.indexOf("version/4")!=-1);return b},isWindowsPhone:function(){var c=navigator.userAgent.toLowerCase();var b=(c.indexOf("windows phone")!=-1||c.indexOf("WPDesktop")!=-1||c.indexOf("ZuneWP7")!=-1||c.indexOf("msie 9")!=-1||c.indexOf("msie 11")!=-1||c.indexOf("msie 10")!=-1)&&c.indexOf("touch")!=-1;return b},isSafariMobileBrowser:function(){var c=navigator.userAgent.toLowerCase();var b=c.indexOf("ipad")!=-1||c.indexOf("iphone")!=-1||c.indexOf("ipod")!=-1;return b},isIPadSafariMobileBrowser:function(){var c=navigator.userAgent.toLowerCase();var b=c.indexOf("ipad")!=-1;return b},isMobileBrowser:function(){var c=navigator.userAgent.toLowerCase();var b=c.indexOf("ipad")!=-1||c.indexOf("iphone")!=-1||c.indexOf("android")!=-1;return b},getTouches:function(b){if(b.originalEvent){if(b.originalEvent.touches&&b.originalEvent.touches.length){return b.originalEvent.touches}else{if(b.originalEvent.changedTouches&&b.originalEvent.changedTouches.length){return b.originalEvent.changedTouches}}}if(!b.touches){b.touches=new Array();b.touches[0]=b.originalEvent!=undefined?b.originalEvent:b;if(b.originalEvent!=undefined&&b.pageX){b.touches[0]=b}if(b.type=="mousemove"){b.touches[0]=b}}return b.touches},getTouchEventName:function(b){if(this.isWindowsPhone()){if(b.toLowerCase().indexOf("start")!=-1){return"MSPointerDown"}if(b.toLowerCase().indexOf("move")!=-1){return"MSPointerMove"}if(b.toLowerCase().indexOf("end")!=-1){return"MSPointerUp"}}else{return b}},dispatchMouseEvent:function(b,f,d){if(this.simulatetouches){return}var c=document.createEvent("MouseEvent");c.initMouseEvent(b,true,true,f.view,1,f.screenX,f.screenY,f.clientX,f.clientY,false,false,false,false,0,null);if(d!=null){d.dispatchEvent(c)}},getRootNode:function(b){while(b.nodeType!==1){b=b.parentNode}return b},setTouchScroll:function(b,c){if(!this.enableScrolling){this.enableScrolling=[]}this.enableScrolling[c]=b},touchScroll:function(d,y,g,D,b,k){if(d==null){return}var B=this;var t=0;var j=0;var l=0;var u=0;var m=0;var n=0;if(!this.scrolling){this.scrolling=[]}this.scrolling[D]=false;var h=false;var q=a(d);var v=["select","input","textarea"];var c=0;var e=0;if(!this.enableScrolling){this.enableScrolling=[]}this.enableScrolling[D]=true;var D=D;var C=this.getTouchEventName("touchstart")+".touchScroll";var p=this.getTouchEventName("touchend")+".touchScroll";var A=this.getTouchEventName("touchmove")+".touchScroll";var c=function(E){if(!B.enableScrolling[D]){return true}if(a.inArray(E.target.tagName.toLowerCase(),v)!==-1){return}var F=B.getTouches(E);var G=F[0];if(F.length==1){B.dispatchMouseEvent("mousedown",G,B.getRootNode(G.target))}h=false;j=G.pageY;m=G.pageX;if(B.simulatetouches){j=G._pageY;m=G._pageX}B.scrolling[D]=true;t=0;u=0;return true};if(q.on){q.on(C,c)}else{q.bind(C,c)}var x=function(J){if(!B.enableScrolling[D]){return true}if(!B.scrolling[D]){return true}var L=B.getTouches(J);if(L.length>1){return true}var H=L[0].pageY;var I=L[0].pageX;if(B.simulatetouches){H=L[0]._pageY;I=L[0]._pageX}var E=H-j;var F=I-m;e=H;touchHorizontalEnd=I;l=E-t;n=F-u;h=true;t=E;u=F;g(-n*1,-l*1,F,E,J);var G=b!=null?b[0].style.visibility!="hidden":true;var K=k!=null?k[0].style.visibility!="hidden":true;if(G||K){if((n!==0&&G)||(l!==0&&K)){J.preventDefault();J.stopPropagation();if(J.preventManipulation){J.preventManipulation()}return false}}};if(q.on){q.on(A,x)}else{q.bind(A,x)}if(this.simulatetouches){var o=a(window).on!=undefined||a(window).bind;var z=function(E){B.scrolling[D]=false};a(window).on!=undefined?a(document).on("mouseup.touchScroll",z):a(document).bind("mouseup.touchScroll",z);if(window.frameElement){if(window.top!=null){var r=function(E){B.scrolling[D]=false};if(window.top.document){a(window.top.document).on?a(window.top.document).on("mouseup",r):a(window.top.document).bind("mouseup",r)}}}var s=a(document).on!=undefined||a(document).bind;var w=function(E){if(!B.scrolling[D]){return true}B.scrolling[D]=false;var G=B.getTouches(E)[0],F=B.getRootNode(G.target);B.dispatchMouseEvent("mouseup",G,F);B.dispatchMouseEvent("click",G,F)};a(document).on!=undefined?a(document).on("touchend",w):a(document).bind("touchend",w)}var f=function(E){if(!B.enableScrolling[D]){return true}var G=B.getTouches(E)[0];if(!B.scrolling[D]){return true}B.scrolling[D]=false;if(h){B.dispatchMouseEvent("mouseup",G,F)}else{var G=B.getTouches(E)[0],F=B.getRootNode(G.target);B.dispatchMouseEvent("mouseup",G,F);B.dispatchMouseEvent("click",G,F);return true}};q.on?q.on(p+" touchcancel.touchScroll",f):q.bind(p+" touchcancel.touchScroll",f)}});a.jqx.cookie=a.jqx.cookie||{};a.extend(a.jqx.cookie,{cookie:function(e,f,c){if(arguments.length>1&&String(f)!=="[object Object]"){c=jQuery.extend({},c);if(f===null||f===undefined){c.expires=-1}if(typeof c.expires==="number"){var h=c.expires,d=c.expires=new Date();d.setDate(d.getDate()+h)}f=String(f);return(document.cookie=[encodeURIComponent(e),"=",c.raw?f:encodeURIComponent(f),c.expires?"; expires="+c.expires.toUTCString():"",c.path?"; path="+c.path:"",c.domain?"; domain="+c.domain:"",c.secure?"; secure":""].join(""))}c=f||{};var b,g=c.raw?function(j){return j}:decodeURIComponent;return(b=new RegExp("(?:^|; )"+encodeURIComponent(e)+"=([^;]*)").exec(document.cookie))?g(b[1]):null}});a.jqx.string=a.jqx.string||{};a.extend(a.jqx.string,{replace:function(f,d,e){if(d===e){return this}var b=f;var c=b.indexOf(d);while(c!=-1){b=b.replace(d,e);c=b.indexOf(d)}return b},contains:function(b,c){if(b==null||c==null){return false}return b.indexOf(c)!=-1},containsIgnoreCase:function(b,c){if(b==null||c==null){return false}return b.toUpperCase().indexOf(c.toUpperCase())!=-1},equals:function(b,c){if(b==null||c==null){return false}b=this.normalize(b);if(c.length==b.length){return b.slice(0,c.length)==c}return false},equalsIgnoreCase:function(b,c){if(b==null||c==null){return false}b=this.normalize(b);if(c.length==b.length){return b.toUpperCase().slice(0,c.length)==c.toUpperCase()}return false},startsWith:function(b,c){if(b==null||c==null){return false}return b.slice(0,c.length)==c},startsWithIgnoreCase:function(b,c){if(b==null||c==null){return false}return b.toUpperCase().slice(0,c.length)==c.toUpperCase()},normalize:function(b){if(b.charCodeAt(b.length-1)==65279){b=b.substring(0,b.length-1)}return b},endsWith:function(b,c){if(b==null||c==null){return false}b=this.normalize(b);return b.slice(-c.length)==c},endsWithIgnoreCase:function(b,c){if(b==null||c==null){return false}b=this.normalize(b);return b.toUpperCase().slice(-c.length)==c.toUpperCase()}});a.extend(jQuery.easing,{easeOutBack:function(f,g,e,k,j,h){if(h==undefined){h=1.70158}return k*((g=g/j-1)*g*((h+1)*g+h)+1)+e},easeInQuad:function(f,g,e,j,h){return j*(g/=h)*g+e},easeInOutCirc:function(f,g,e,j,h){if((g/=h/2)<1){return -j/2*(Math.sqrt(1-g*g)-1)+e}return j/2*(Math.sqrt(1-(g-=2)*g)+1)+e},easeInOutSine:function(f,g,e,j,h){return -j/2*(Math.cos(Math.PI*g/h)-1)+e},easeInCubic:function(f,g,e,j,h){return j*(g/=h)*g*g+e},easeOutCubic:function(f,g,e,j,h){return j*((g=g/h-1)*g*g+1)+e},easeInOutCubic:function(f,g,e,j,h){if((g/=h/2)<1){return j/2*g*g*g+e}return j/2*((g-=2)*g*g+2)+e},easeInSine:function(f,g,e,j,h){return -j*Math.cos(g/h*(Math.PI/2))+j+e},easeOutSine:function(f,g,e,j,h){return j*Math.sin(g/h*(Math.PI/2))+e},easeInOutSine:function(f,g,e,j,h){return -j/2*(Math.cos(Math.PI*g/h)-1)+e}})})(jQuery);(function(b){b.extend(jQuery.event.special,{close:{noBubble:true},open:{noBubble:true},cellclick:{noBubble:true},rowclick:{noBubble:true},tabclick:{noBubble:true},selected:{noBubble:true},expanded:{noBubble:true},collapsed:{noBubble:true},valuechanged:{noBubble:true},expandedItem:{noBubble:true},collapsedItem:{noBubble:true},expandingItem:{noBubble:true},collapsingItem:{noBubble:true}});b.fn.extend({ischildof:function(f){var d=b(this).parents().get();for(var c=0;c<d.length;c++){if(typeof f!="string"){var e=d[c];if(f!==undefined){if(e==f[0]){return true}}}else{if(f!==undefined){if(b(d[c]).is(f)){return true}}}}return false}});b.fn.jqxProxy=function(){var d=b(this).data().jqxWidget;var c=Array.prototype.slice.call(arguments,0);return b.jqx.jqxWidgetProxy(d.widgetName,d.element,c)};var a=this.originalVal=b.fn.val;b.fn.val=function(d){if(typeof d=="undefined"){if(b(this).hasClass("jqx-widget")){var c=b(this).data().jqxWidget;if(c&&c.val){return c.val()}}return a.call(this)}else{if(b(this).hasClass("jqx-widget")){var c=b(this).data().jqxWidget;if(c&&c.val){if(arguments.length!=2){return c.val(d)}else{return c.val(d,arguments[1])}}}return a.call(this,d)}};b.fn.coord=function(o){var e,k,j={top:0,left:0},f=this[0],m=f&&f.ownerDocument;if(!m){return}e=m.documentElement;if(!jQuery.contains(e,f)){return j}if(typeof f.getBoundingClientRect!==undefined){j=f.getBoundingClientRect()}var d=function(p){return jQuery.isWindow(p)?p:p.nodeType===9?p.defaultView||p.parentWindow:false};k=d(m);var h=0;var c=0;var g=navigator.userAgent.toLowerCase();var n=g.indexOf("ipad")!=-1||g.indexOf("iphone")!=-1;if(n){h=2}if(true==o){if(b(document.body).css("position")!="static"){var l=b(document.body).coord();h=-l.left;c=-l.top}}return{top:c+j.top+(k.pageYOffset||e.scrollTop)-(e.clientTop||0),left:h+j.left+(k.pageXOffset||e.scrollLeft)-(e.clientLeft||0)}}})(jQuery);

/*data*/
(function(i){i.jqx.dataAdapter=function(J,e){if(J!=undefined){if(J.dataFields!==undefined){J.datafields=J.dataFields}if(J.dataType!==undefined){J.datatype=J.dataType}if(J.localData!==undefined){J.localdata=J.localData}if(J.sortColumn!==undefined){J.sortcolumn=J.sortColumn}if(J.sortDirection!==undefined){J.sortdirection=J.sortDirection}if(J.sortOrder!==undefined){J.sortdirection=J.sortOrder}if(J.formatData!==undefined){J.formatdata=J.formatData}if(J.processData!==undefined){J.processdata=J.processData}if(J.pageSize!==undefined){J.pagesize=J.pageSize}if(J.pageNum!==undefined){J.pagenum=J.pageNum}if(J.updateRow!==undefined){J.updaterow=J.updateRow}if(J.addRow!==undefined){J.addrow=J.addRow}if(J.deleteRow!==undefined){J.deleterow=J.deleteRow}if(J.contentType!==undefined){J.contenttype=J.contentType}if(J.totalRecords!=undefined){J.totalrecords=J.totalRecords}if(J.loadError!=undefined){J.loadError=J.loadError}if(J.sortComparer!=undefined){J.sortcomparer=J.sortComparer}}this._source=J;this._options=e||{};this.records=new Array();this._downloadComplete=new Array();this._bindingUpdate=new Array();if(J!=undefined&&J.localdata!=null&&typeof J.localdata=="function"){var I=J.localdata();if(I!=null){J._localdata=J.localdata;var H=this;if(J._localdata.subscribe){H._oldlocaldata=[];J._localdata.subscribe(function(K){var L=function(M){if(jQuery.isArray(M)){return jQuery.makeArray(L(i(M)))}return jQuery.extend(true,{},M)};if(H.suspendKO==false||H.suspendKO==undefined||H._oldlocaldata.length==0){H._oldlocaldata=L(K)}},J._localdata,"beforeChange");J._localdata.subscribe(function(L){if(H.suspendKO==false||H.suspendKO==undefined){var K="";H._oldrecords=H.records;if(H._oldlocaldata.length==0){J.localdata=J._localdata()}if(H._oldlocaldata.length==0){K="change"}else{if(H._oldlocaldata.length==L.length){K="update"}if(H._oldlocaldata.length>L.length){K="remove"}if(H._oldlocaldata.length<L.length){K="add"}}H.dataBind(null,K)}},J._localdata,"change");H._knockoutdatasource=true}J.localdata=I}}if(this._options.autoBind==true){this.dataBind()}};i.jqx.dataAdapter.prototype={getrecords:function(){return this.records},beginUpdate:function(){this.isUpdating=true},endUpdate:function(e){this.isUpdating=false;if(e!=false){if(this._changedrecords&&this._changedrecords.length>0){this.callBindingUpdate("update");this._changedrecords=[]}else{this.dataBind(null,"")}}},formatDate:function(H,J,I){var e=i.jqx.dataFormat.formatdate(H,J,I);return e},formatNumber:function(H,J,I){var e=i.jqx.dataFormat.formatnumber(H,J,I);return e},dataBind:function(R,X){if(this.isUpdating==true){return}var U=this._source;if(!U){return}i.jqx.dataFormat.datescache=new Array();if(U.dataFields!=null){U.datafields=U.dataFields}if(U.recordstartindex==undefined){U.recordstartindex=0}if(U.recordendindex==undefined){U.recordendindex=0}if(U.loadallrecords==undefined){U.loadallrecords=true}if(U.sort!=undefined){this.sort=U.sort}if(U.filter!=undefined){this.filter=U.filter}else{this.filter=null}if(U.sortcolumn!=undefined){this.sortcolumn=U.sortcolumn}if(U.sortdirection!=undefined){this.sortdirection=U.sortdirection}if(U.sortcomparer!=undefined){this.sortcomparer=U.sortcomparer}this.records=new Array();var K=this._options||{};this.virtualmode=K.virtualmode!=undefined?K.virtualmode:false;this.totalrecords=K.totalrecords!=undefined?K.totalrecords:0;this.pageable=K.pageable!=undefined?K.pageable:false;this.pagesize=K.pagesize!=undefined?K.pagesize:0;this.pagenum=K.pagenum!=undefined?K.pagenum:0;this.cachedrecords=K.cachedrecords!=undefined?K.cachedrecords:new Array();this.originaldata=new Array();this.recordids=new Array();this.updaterow=K.updaterow!=undefined?K.updaterow:null;this.addrow=K.addrow!=undefined?K.addrow:null;this.deleterow=K.deleterow!=undefined?K.deleterow:null;this.cache=K.cache!=undefined?K.cache:false;this.unboundmode=false;if(U.formatdata!=undefined){K.formatData=U.formatdata}if(U.data!=undefined){if(K.data==undefined){K.data={}}i.extend(K.data,U.data)}if(U.mapchar!=undefined){this.mapChar=U.mapchar?U.mapchar:">"}else{this.mapChar=K.mapChar?K.mapChar:">"}if(K.unboundmode||U.unboundmode){this.unboundmode=K.unboundmode||U.unboundmode}if(U.cache!=undefined){this.cache=U.cache}if(this.koSubscriptions){for(var Z=0;Z<this.koSubscriptions.length;Z++){this.koSubscriptions[Z].dispose()}}this.koSubscriptions=new Array();if(this.pagenum<0){this.pagenum=0}var ae=this;var Q=U.datatype;if(U.datatype==="csv"||U.datatype==="tab"||U.datatype==="tsv"||U.datatype=="text"){Q="text"}var N=K.async!=undefined?K.async:true;if(U.async!=undefined){N=U.async}switch(Q){case"local":case"array":case"observablearray":default:if(U.localdata==undefined&&U.length){U.localdata=new Array();for(var W=0;W<U.length;W++){U.localdata[U.localdata.length]=U[W];U[W].uid=W}}if(U.beforeprocessing&&i.isFunction(U.beforeprocessing)){U.beforeprocessing(U.localdata)}var M=U.localdata.length;this.totalrecords=this.virtualmode?(U.totalrecords||M):M;if(this.unboundmode){this.totalrecords=this.unboundmode?(U.totalrecords||M):M;var aa=U.datafields?U.datafields.length:0;if(aa>0){for(var W=0;W<this.totalrecords;W++){var I={};for(var V=0;V<aa;V++){I[U.datafields[V].name]=""}I.uid=W;U.localdata[U.localdata.length]=I}}}if(this.totalrecords==undefined){this.totalrecords=0}var aa=U.datafields?U.datafields.length:0;var H=function(ak,am){var al={};for(var ai=0;ai<am;ai++){var ah=U.datafields[ai];var an="";if(undefined==ah||ah==null){continue}if(ah.map){if(i.isFunction(ah.map)){an=ah.map(ak)}else{var af=ah.map.split(ae.mapChar);if(af.length>0){var aj=ak;for(var ag=0;ag<af.length;ag++){aj=aj[af[ag]]}an=aj}else{an=ak[ah.map]}}if(an!=undefined&&an!=null){an=an.toString()}else{if(an==undefined&&an!=null){an=""}}}if(an==""){an=ak[ah.name];if(an!=undefined&&an!=null){if(U._localdata&&an.subscribe){an=an()}else{an=an.toString()}}}an=ae.getvaluebytype(an,ah);if(ah.displayname!=undefined){al[ah.displayname]=an}else{al[ah.name]=an}}return al};if(U._localdata){this._changedrecords=[];this.records=new Array();var ad=U._localdata();i.each(ad,function(ai,al){if(typeof al==="string"){ae.records.push(al)}else{var ag={};var ak=0;var aj=this;i.each(this,function(au,az){var ao=null;var aA="string";var ay=au;if(aa>0){var aC=false;var ax=false;for(var at=0;at<aa;at++){var ar=U.datafields[at];if(ar!=undefined&&(ar.name==au)){aC=true;ao=ar.map;aA=ar.type;ay=ar.name;break}else{if(ar!=undefined&&ar.map&&(ar.map.indexOf(au)>=0)){aC=true;ao=ar.map;aA=ar.type;ay=ar.name;ax=true;var aB=aj[au];if(ao!=null){var an=ao.split(ae.mapChar);if(an.length>0){var av=aj;for(var ap=0;ap<an.length;ap++){av=av[an[ap]]}aB=av}else{aB=aj[ao]}}if(aA!="string"){aB=ae.getvaluebytype(aB,{type:aA})}ag[ay]=aB;if(ag[ay]!=undefined){ak+=ag[ay].toString().length+ag[ay].toString().substr(0,1)}}}}if(!aC){return true}if(ax){return true}}var aq=i.isFunction(aj[au]);if(aq){var aB=aj[au]();if(aA!="string"){aB=ae.getvaluebytype(aB,{type:aA})}ag[au]=aB;if(aj[au].subscribe){var aw=ai;ae.koSubscriptions[ae.koSubscriptions.length]=aj[au].subscribe(function(aE){var aD=aw;ag[au]=aE;var aF={index:aD,oldrecord:ag,record:ag};ae._changedrecords.push(aF);if(ae.isUpdating){return}ae.callBindingUpdate("update");ae._changedrecords=[];return false})}}else{var aB=aj[au];if(ao!=null){var an=ao.split(ae.mapChar);if(an.length>0){var av=aj;for(var ap=0;ap<an.length;ap++){av=av[an[ap]]}aB=av}else{aB=aj[ao]}}if(aA!="string"){aB=ae.getvaluebytype(aB,{type:aA})}ag[ay]=aB;if(ag[ay]!=undefined){ak+=ag[ay].toString().length+ag[ay].toString().substr(0,1)}}});var ah=ae.getid(U.id,aj,ai);ag.uid=ah;ae.records.push(ag);ag._koindex=ak;if(ae._oldrecords){var af=ae.records.length-1;if(X=="update"){if(ae._oldrecords[af]._koindex!=ak){var am={index:af,oldrecord:ae._oldrecords[af],record:ag};ae._changedrecords.push(am)}}}}});if(X=="add"){var M=ae.records.length;for(var W=0;W<M;W++){var I=ae.records[W];var L=false;for(var T=0;T<ae._oldrecords.length;T++){if(ae._oldrecords[T]._koindex===I._koindex){L=true;break}}if(!L){ae._changedrecords.push({index:W,oldrecord:null,record:I,position:(W!=0?"last":"first")})}}}else{if(X=="remove"){var M=ae._oldrecords.length;for(var W=0;W<M;W++){var P=ae._oldrecords[W];if(!ae.records[W]){ae._changedrecords.push({index:W,oldrecord:P,record:null})}else{if(ae.records[W]._koindex!=P._koindex){ae._changedrecords.push({index:W,oldrecord:P,record:null})}}}}}}else{if(!i.isArray(U.localdata)){this.records=new Array();i.each(U.localdata,function(ah){var ag=ae.getid(U.id,this,ah);if(aa>0){var af=this;var ai=H(af,aa);ai.uid=ag;ae.records[ae.records.length]=ai}else{this.uid=ag;ae.records[ae.records.length]=this}})}else{if(aa==0){i.each(U.localdata,function(ah,ai){var af=i.extend({},this);if(typeof ai==="string"){ae.records=U.localdata;return false}else{var ag=ae.getid(U.id,af,ah);if(typeof(ag)==="object"){ag=ah}af.uid=ag;ae.records[ae.records.length]=af}})}else{i.each(U.localdata,function(ah){var af=this;var ai=H(af,aa);var ag=ae.getid(U.id,ai,ah);if(typeof(ag)==="object"){ag=ah}var af=i.extend({},ai);af.uid=ag;ae.records[ae.records.length]=af})}}}this.originaldata=U.localdata;this.cachedrecords=this.records;this.addForeignValues(U);if(K.uniqueDataFields){var S=this.getUniqueRecords(this.records,K.uniqueDataFields);this.records=S;this.cachedrecords=S}if(K.beforeLoadComplete){var ab=K.beforeLoadComplete(ae.records,this.originaldata);if(ab!=undefined){ae.records=ab;ae.cachedrecords=ab}}if(K.autoSort&&K.autoSortField){var O=Object.prototype.toString;Object.prototype.toString=(typeof field=="function")?field:function(){return this[K.autoSortField]};ae.records.sort(function(ag,af){if(ag===undefined){ag=null}if(af===undefined){af=null}if(ag===null&&af===null){return 0}if(ag===null&&af!==null){return 1}if(ag!==null&&af===null){return -1}ag=ag.toString();af=af.toString();if(i.jqx.dataFormat.isNumber(ag)&&i.jqx.dataFormat.isNumber(af)){if(ag<af){return -1}if(ag>af){return 1}return 0}else{if(i.jqx.dataFormat.isDate(ag)&&i.jqx.dataFormat.isDate(af)){if(ag<af){return -1}if(ag>af){return 1}return 0}else{if(!i.jqx.dataFormat.isNumber(ag)&&!i.jqx.dataFormat.isNumber(af)){ag=String(ag).toLowerCase();af=String(af).toLowerCase()}}}try{if(ag<af){return -1}if(ag>af){return 1}}catch(ah){var ai=ah}return 0});Object.prototype.toString=O}ae.loadedData=U.localdata;ae.buildHierarchy();if(i.isFunction(K.loadComplete)){K.loadComplete(U.localdata,ae.records)}break;case"json":case"jsonp":case"xml":case"xhtml":case"script":case"text":if(U.localdata!=null){if(i.isFunction(U.beforeprocessing)){U.beforeprocessing(U.localdata)}if(U.datatype==="xml"){ae.loadxml(U.localdata,U.localdata,U)}else{if(Q==="text"){ae.loadtext(U.localdata,U)}else{ae.loadjson(U.localdata,U.localdata,U)}}ae.addForeignValues(U);if(K.uniqueDataFields){var S=ae.getUniqueRecords(ae.records,K.uniqueDataFields);ae.records=S;ae.cachedrecords=S}if(K.beforeLoadComplete){var ab=K.beforeLoadComplete(ae.records,this.originaldata);if(ab!=undefined){ae.records=ab;ae.cachedrecords=ab}}ae.loadedData=U.localdata;ae.buildHierarchy.call(ae);if(i.isFunction(K.loadComplete)){K.loadComplete(U.localdata,ae.records)}ae.callBindingUpdate(X);return}var ac=K.data!=undefined?K.data:{};if(U.processdata){U.processdata(ac)}if(i.isFunction(K.processData)){K.processData(ac)}if(i.isFunction(K.formatData)){var e=K.formatData(ac);if(e!=undefined){ac=e}}var Y="application/x-www-form-urlencoded";if(K.contentType){Y=K.contentType}var J="GET";if(U.type){J=U.type}if(K.type){J=K.type}if(U.url&&U.url.length>0){if(i.isFunction(K.loadServerData)){ae._requestData(ac,U,K)}else{this.xhr=i.jqx.data.ajax({dataType:Q,cache:this.cache,type:J,url:U.url,async:N,contentType:Y,data:ac,success:function(ai,af,al){if(i.isFunction(U.beforeprocessing)){var ak=U.beforeprocessing(ai,af,al);if(ak!=undefined){ai=ak}}if(i.isFunction(K.downloadComplete)){var ak=K.downloadComplete(ai,af,al);if(ak!=undefined){ai=ak}}if(ai==null){ae.records=new Array();ae.cachedrecords=new Array();ae.originaldata=new Array();ae.callDownloadComplete();if(i.isFunction(K.loadComplete)){K.loadComplete(new Array())}return}var ag=ai;if(ai.records){ag=ai.records}if(ai.totalrecords!=undefined){U.totalrecords=ai.totalrecords}if(U.datatype==="xml"){ae.loadxml(null,ag,U)}else{if(Q==="text"){ae.loadtext(ag,U)}else{ae.loadjson(null,ag,U)}}ae.addForeignValues(U);if(K.uniqueDataFields){var ah=ae.getUniqueRecords(ae.records,K.uniqueDataFields);ae.records=ah;ae.cachedrecords=ah}if(K.beforeLoadComplete){var aj=K.beforeLoadComplete(ae.records,ai);if(aj!=undefined){ae.records=aj;ae.cachedrecords=aj}}ae.loadedData=ai;ae.buildHierarchy.call(ae);ae.callDownloadComplete();if(i.isFunction(K.loadComplete)){K.loadComplete(ai,af,al,ae.records)}},error:function(ah,af,ag){if(i.isFunction(U.loaderror)){U.loaderror(ah,af,ag)}if(i.isFunction(K.loadError)){K.loadError(ah,af,ag)}ah=null;ae.callDownloadComplete()},beforeSend:function(ag,af){if(i.isFunction(K.beforeSend)){K.beforeSend(ag,af)}if(i.isFunction(U.beforesend)){U.beforesend(ag,af)}}})}}else{ae.callDownloadComplete();if(i.isFunction(K.loadComplete)){K.loadComplete(data)}}break}this.callBindingUpdate(X)},buildHierarchy:function(K){var e=this._source;var P=new Array();if(!e.datafields){return}if(e.hierarchy&&!e.hierarchy.reservedNames){e.hierarchy.reservedNames={leaf:"leaf",parent:"parent",expanded:"expanded",checked:"checked",selected:"selected",level:"level",icon:"icon",data:"data"}}else{if(e.hierarchy){var O=e.hierarchy.reservedNames;if(!O.leaf){O.leaf="leaf"}if(!O.parent){O.parent="parent"}if(!O.expanded){O.expanded="expanded"}if(!O.checked){O.checked="checked"}if(!O.selected){O.selected="selected"}if(!O.level){O.level="level"}if(!O.data){O.data="data"}}}if(!e.hierarchy){return}var N=this;var O=e.hierarchy.reservedNames;if(e.hierarchy.root){if(e.dataType=="xml"){var P=this.getRecordsHierarchy("uid","parentuid","records",null,K);this.hierarchy=P;return P}else{this.hierarchy=this.records;var R=e.hierarchy.root;for(var L=0;L<this.records.length;L++){var M=this.records[L];if(!M){continue}var H=function(S){if(e.hierarchy.record){S.records=S[R][e.hierarchy.record]}else{var U=R.split(N.mapChar);var T=null;if(U.length>1){var W=S;for(var V=0;V<U.length;V++){if(W!=undefined){W=W[U[V]]}}T=W}else{T=S[R]}S.records=T}if(S.records==null||(S.records&&S.records.length==0)){S[O.leaf]=true}};H(M);M[O.level]=0;var I=this.getid(e.id,M,L);M.uid=I;M[O.parent]=null;M[O.data]=M;if(M[O.expanded]===undefined){M[O.expanded]=false}var Q=function(W,U){if(!U){W.records=new Array();return}for(var V=0;V<U.length;V++){var S=U[V];if(!S){continue}H(S);S[O.level]=W[O.level]+1;S[O.parent]=W;S[O.data]=S;var T=N.getid(e.id,S,V);if(T==V&&e.id==null){S.uid=W.uid+"_"+T}else{S.uid=T}if(S[O.expanded]===undefined){S[O.expanded]=false}Q(S,S.records)}};Q(M,M.records)}}return this.hierarchy}if(e.hierarchy.keyDataField&&e.hierarchy.parentDataField){var P=this.getRecordsHierarchy(e.hierarchy.keyDataField.name,e.hierarchy.parentDataField.name,"records",null,K);this.hierarchy=P;return P}if(e.hierarchy.groupingDataFields){var J=new Array();for(var L=0;L<e.hierarchy.groupingDataFields.length;L++){J.push(e.hierarchy.groupingDataFields[L].name)}var P=this.getGroupedRecords(J,"records","label",null,"data",null,"parent",K);this.hierarchy=P;return P}},addRecord:function(H,e,K){var I=this;if(H!=undefined){if(K!=undefined){if(this.hierarchy.length>0){var J=function(L){if(L){for(var M=0;M<L.length;M++){var N=L[M];if(N.uid==K){var O=(I._source&&I._source.hierarchy)?I._source.hierarchy.reservedNames:null;H[O.parent]=N;H[O.level]=N[O.level]+1;if(!N.records){N.records=new Array()}if(e=="last"){N.records.push(H)}else{if(typeof e==="number"&&isFinite(e)){N.records.splice(e,0,H)}else{N.records.splice(0,0,H)}}I.records.push(H);return true}if(N.records){J(N.records)}}}};J(this.hierarchy)}}else{if(this.hierarchy&&this.hierarchy.length>0){if(e=="last"){this.hierarchy.push(H)}else{if(typeof e==="number"&&isFinite(e)){this.hierarchy.splice(e,0,H)}else{this.hierarchy.splice(0,0,H)}}}else{if(e=="last"){this.records.push(H)}else{if(typeof e==="number"&&isFinite(e)){this.records.splice(e,0,H)}else{this.records.splice(0,0,H)}}}return true}}return false},deleteRecord:function(H){var J=this;if(this.hierarchy.length>0){var K=function(L){if(L){for(var O=0;O<L.length;O++){var P=L[O];if(P.uid==H){L.splice(O,1);if(J.recordids[H]){delete J.recordids[H]}var N=function(T){for(var Q=0;Q<T.length;Q++){var S=T[Q].uid;for(var R=0;R<J.records.length;R++){var U=J.records[R];if(U.uid==S){J.records.splice(R,1);break}}if(T[Q].records){N(T[Q].records)}}};if(P.records){N(P.records)}for(var M=0;M<J.records.length;M++){var P=J.records[M];if(P.uid==H){J.records.splice(M,1);break}}return true}if(P.records){K(P.records)}}}};K(this.hierarchy)}else{for(var e=0;e<this.records.length;e++){var I=this.records[e];if(I.uid==H){this.records.splice(e,1);return true}}}return false},addForeignValues:function(H){var Q=this;var V=H.datafields?H.datafields.length:0;for(var N=0;N<V;N++){var L=H.datafields[N];if(L!=undefined){if(L.values!=undefined){if(L.value==undefined){L.value=L.name}if(L.values.value==undefined){L.values.value=L.value}var T=new Array();var K,M;if(Q.pageable&&Q.virtualmode){K=Q.pagenum*Q.pagesize;M=K+Q.pagesize;if(M>Q.totalrecords){M=Q.totalrecords}}else{K=0;M=Q.records.length}for(var O=K;O<M;O++){var P=Q.records[O];var I=L.name;var U=P[L.value];if(T[U]!=undefined){P[I]=T[U]}else{for(var J=0;J<L.values.source.length;J++){var S=L.values.source[J];var e=S[L.values.value];if(e==undefined){e=S.uid}if(e==U){var R=S[L.values.name];P[I]=R;T[U]=R;break}}}}}else{if(L.value!=undefined){for(var O=0;O<Q.records.length;O++){var P=Q.records[O];P[L.name]=P[L.value]}}}}}},abort:function(){if(this.xhr&&this.xhr.readyState!=4){this.xhr.abort();me.callDownloadComplete()}},_requestData:function(H,J,e){var I=this;var K=function(L){if(L.totalrecords){J.totalrecords=L.totalrecords;I.totalrecords=L.totalrecords}if(L.records){I.records=L.records;I.cachedrecords=L.records}if(i.isFunction(e.loadComplete)){e.loadComplete(data)}I.callDownloadComplete()};e.loadServerData(H,J,K)},getUniqueRecords:function(I,L){if(I&&L){var e=I.length;var Q=L.length;var N=new Array();var O=new Array();for(var P=0;P<e;P++){var M=I[P];var J="";if(M==undefined){continue}for(var K=0;K<Q;K++){var H=L[K];J+=M[H]+"_"}if(!O[J]){N[N.length]=M}O[J]=true}}return N},getAggregatedData:function(R,N,L){var K=L;if(!K){K=this.records}var O={};var J=new Array();var I=K.length;if(I==0){return}if(I==undefined){return}for(var P=0;P<I;P++){var Q=K[P];for(var M=0;M<R.length;M++){var H=R[M];var T=Q[H.name];if(T===null){continue}if(H.aggregates){O[H.name]=O[H.name]||{};J[H.name]=J[H.name]||0;J[H.name]++;var e=function(V){for(obj in V){var W=O[H.name][obj];if(W==null){O[H.name][obj]=0;W=0}if(i.isFunction(V[obj])){W=V[obj](W,T,H.name,Q)}O[H.name][obj]=W}};var S=parseFloat(T);if(isNaN(S)){S=false}else{S=true}if(S){T=parseFloat(T)}if(typeof T==="number"&&isFinite(T)){i.each(H.aggregates,function(){var V=O[H.name][this];if(V==null){V=0;if(this=="min"){V=9999999999999}if(this=="max"){V=-9999999999999}}if(this=="sum"||this=="avg"||this=="stdev"||this=="stdevp"||this=="var"||this=="varp"){V+=parseFloat(T)}else{if(this=="product"){if(P==0){V=parseFloat(T)}else{V*=parseFloat(T)}}else{if(this=="min"){V=Math.min(V,parseFloat(T))}else{if(this=="max"){V=Math.max(V,parseFloat(T))}else{if(this=="count"){V++}else{if(typeof(this)=="object"){e(this);return}}}}}}O[H.name][this]=V})}else{i.each(H.aggregates,function(){if(this=="min"||this=="max"||this=="count"||this=="product"||this=="sum"||this=="avg"||this=="stdev"||this=="stdevp"||this=="var"||this=="varp"){var V=O[H.name][this];if(V==null){V=0}O[H.name][this]=V;return true}if(typeof(this)=="object"){e(this)}})}}}}for(var M=0;M<R.length;M++){var H=R[M];if(!O[H.name]){O[H.name]={};i.each(H.aggregates,function(V){O[H.name][this]=0})}if(O[H.name]["avg"]!=undefined){var T=O[H.name]["avg"];var U=J[H.name];if(U===0||U==undefined){O[H.name]["avg"]=0}else{O[H.name]["avg"]=T/U}}else{if(O[H.name]["count"]!=undefined){O[H.name]["count"]=I}}if(O[H.name]["stdev"]||O[H.name]["stdevp"]||O[H.name]["var"]||O[H.name]["varp"]){i.each(H.aggregates,function(ab){if(this=="stdev"||this=="var"||this=="varp"||this=="stdevp"){var ac=O[H.name][this];var aa=I;var V=(ac/I);var X=0;for(var Y=0;Y<I;Y++){var Z=K[Y];var ad=Z[H.name];X+=(ad-V)*(ad-V)}var W=(this=="stdevp"||this=="varp")?aa:aa-1;if(W==0){W=1}if(this=="var"||this=="varp"){O[H.name][this]=X/W}else{if(this=="stdevp"||this=="stdev"){O[H.name][this]=Math.sqrt(X/W)}}}})}if(H.formatStrings){i.each(H.aggregates,function(W){var V=H.formatStrings[W];if(V){if(this=="min"||this=="max"||this=="count"||this=="product"||this=="sum"||this=="avg"||this=="stdev"||this=="stdevp"||this=="var"||this=="varp"){var X=O[H.name][this];O[H.name][this]=i.jqx.dataFormat.formatnumber(X,V,N)}else{if(typeof this=="object"){for(obj in this){var X=O[H.name][obj];O[H.name][obj]=i.jqx.dataFormat.formatnumber(X,V,N)}}}}})}}return O},bindDownloadComplete:function(H,e){this._downloadComplete[this._downloadComplete.length]={id:H,func:e}},unbindDownloadComplete:function(H){for(var e=0;e<this._downloadComplete.length;e++){if(this._downloadComplete[e].id==H){this._downloadComplete[e].func=null;this._downloadComplete.splice(e,1);break}}},callDownloadComplete:function(){for(var e=0;e<this._downloadComplete.length;e++){var H=this._downloadComplete[e];if(H.func!=null){H.func()}}},setSource:function(e){this._source=e},generatekey:function(){var e=function(){return(((1+Math.random())*65536)|0).toString(16).substring(1)};return(e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e())},getGroupedRecords:function(aj,am,W,ae,ak,ab,ad,an,K){var ag=0;var aa=this;if(!K){K=0}var I=new Array();for(var N=0;N<aj.length;N++){I[N]=aa.generatekey()}if(!am){am="items"}if(!W){W="group"}if(!ak){ak="record"}if(!ad){ad="parentItem"}if(undefined===ab){ab="value"}var S=new Array();var L=0;var J=new Array();var R=aj.length;var al=new Array();if(!an){var an=this.records}var P=an.length;var af=function(ao){var ap=ao;if(ae){i.each(ae,function(){if(this.name&&this.map){ap[this.map]=ap[this.name]}})}return ap};for(var V=0;V<P;V++){var ai=af(an[V]);id=ai[aa.uniqueId];var H=new Array();var X=0;for(N=0;N<R;N++){var Q=aj[N];var ac=ai[Q];if(null==ac){continue}H[X++]={value:ac,hash:I[N]}}if(H.length!=R){break}var Y=null;var T="";var e=-1;for(var Z=0;Z<H.length;Z++){e++;var ah=H[Z].value;var M=H[Z].hash;T=T+"_"+M+"_"+ah;if(J[T]!=undefined&&J[T]!=null){Y=J[T];continue}if(Y==null){Y={level:0};Y[ad]=null;Y[W]=ah;Y[ak]=ai;if(ai.expanded!==undefined){Y.expanded=ai.expanded}else{Y.expanded=false}if(ab){Y[ab]=ai[ab]}Y[am]=new Array();var O=S.length+K;if(!this._source.id||typeof ai.uid==="number"){O="Row"+O}Y.uid=O;S[L++]=Y}else{var U={level:Y.level+1};U[ad]=Y;U[W]=ah;U[am]=new Array();U[ak]=ai;if(ai.expanded!==undefined){U.expanded=ai.expanded}else{U.expanded=false}if(ab){U[ab]=ai[ab]}U.uid=Y.uid+"_"+Y[am].length;Y[am][Y[am].length]=U;Y=U}J[T]=Y}if(ai){ai.leaf=true}if(Y!=null){if(this._source.id==null){ai.uid=Y.uid+"_"+Y[am].length}ai[ad]=Y;ai.level=Y.level+1;Y[am][Y[am].length]=ai}else{if(!ai.uid){ai.uid=this.generatekey()}}}return S},getRecordsHierarchy:function(L,J,aa,U,H){var e=new Array();var I=this.records;if(H){I=H}if(this.records.length==0){return null}var Y=aa!=null?aa:"items";var R=[];var ab=I;var O=ab.length;var P=(this._source&&this._source.hierarchy)?this._source.hierarchy.reservedNames:null;var W=function(ac){var ad=ac;if(U){i.each(U,function(){if(this.name&&this.map){ad[this.map]=ad[this.name]}})}return ad};for(var X=0;X<O;X++){var Z=i.extend({},ab[X]);var T=Z[J];var S=Z[L];R[S]={parentid:T,item:Z}}for(var X=0;X<O;X++){var Z=i.extend({},ab[X]);var T=Z[J];var S=Z[L];if(R[T]!=undefined){var Z={parentid:T,item:R[S].item};var Q=R[T].item;if(!Q[Y]){Q[Y]=[]}var M=Q[Y].length;var K=Z.item;if(!P){if(K.parent==undefined){K.parent=Q}}else{if(K[P.parent]==undefined){K[P.parent]=Q}}var N=W(K);Q[Y][M]=N;R[T].item=Q;R[S]=Z}else{var K=R[S].item;if(!P){if(K.parent==undefined){K.parent=null}}else{if(K[P.parent]==undefined){K[P.parent]=null}}var N=W(K);if(!P){N.level=0}else{N[P.level]=0}e[e.length]=N}}if(e.length!=0){var V=function(af,ac){for(var ad=0;ad<ac.length;ad++){if(!P){ac[ad].level=af}else{ac[ad][P.level]=af}var ae=ac[ad][Y];if(ae){if(ae.length>0){V(af+1,ae)}else{if(!P){ac[ad].leaf=true}else{ac[ad][P.leaf]=true}}}else{if(!P){ac[ad].leaf=true}else{ac[ad][P.leaf]=true}}}};V(0,e)}return e},bindBindingUpdate:function(H,e){this._bindingUpdate[this._bindingUpdate.length]={id:H,func:e}},unbindBindingUpdate:function(H){for(var e=0;e<this._bindingUpdate.length;e++){if(this._bindingUpdate[e].id==H){this._bindingUpdate[e].func=null;this._bindingUpdate.splice(e,1);break}}},callBindingUpdate:function(e){for(var I=0;I<this._bindingUpdate.length;I++){var H=this._bindingUpdate[I];if(H.func!=null){H.func(e)}}},getid:function(K,H,J){if(K!=null&&K.name!=undefined){if(K.name){var e=i(H).attr(K.name);if(e!=null&&e.toString().length>0){return e}else{if(K.map){try{var e=i(H).attr(K.map);if(e!=null&&e.toString().length>0){return e}else{if(i(K.map,H).length>0){return i(K.map,H).text()}else{if(i(K.name,H).length>0){return i(K.name,H).text()}}}}catch(I){return J}}}return}}if(i(K,H).length>0){return i(K,H).text()}if(K){if(K.toString().length>0){var e=i(H).attr(K);if(e!=null&&e.toString().length>0){return e}}}return J},loadjson:function(ae,af,R){if(typeof(ae)=="string"){ae=i.parseJSON(ae)}if(R.root==undefined){R.root=""}if(R.record==undefined){R.record=""}var ae=ae||af;if(!ae){ae=[]}var ad=this;if(R.root!=""){var K=R.root.split(ad.mapChar);if(K.length>1){var aa=ae;for(var Q=0;Q<K.length;Q++){if(aa!=undefined){aa=aa[K[Q]]}}ae=aa}else{if(ae[R.root]!=undefined){ae=ae[R.root]}else{i.each(ae,function(ah){var ag=this;if(this==R.root){ae=this;return false}else{if(this[R.root]!=undefined){ae=this[R.root]}}})}if(!ae){var K=R.root.split(ad.mapChar);if(K.length>0){var aa=ae;for(var Q=0;Q<K.length;Q++){if(aa!=undefined){aa=aa[K[Q]]}}ae=aa}}}}else{if(!ae.length){for(obj in ae){if(i.isArray(ae[obj])){ae=ae[obj];break}}}}if(ae!=null&&ae.length==undefined){ae=i.makeArray(ae)}if(ae==null||ae.length==undefined){alert("JSON Parse error.");return}if(ae.length==0){this.totalrecords=0;return}var J=ae.length;this.totalrecords=this.virtualmode?(R.totalrecords||J):J;this.records=new Array();this.originaldata=new Array();var W=this.records;var T=!this.pageable?R.recordstartindex:this.pagesize*this.pagenum;this.recordids=new Array();if(R.loadallrecords){T=0;J=this.totalrecords}var P=0;if(this.virtualmode){T=!this.pageable?R.recordstartindex:this.pagesize*this.pagenum;P=T;T=0;J=this.totalrecords}var Y=R.datafields?R.datafields.length:0;if(Y==0){var e=ae[0];var ab=new Array();for(obj in e){var H=obj;ab[ab.length]={name:H}}R.datafields=ab;Y=ab.length}var M=T;for(var V=T;V<J;V++){var I=ae[V];if(I==undefined){break}if(R.record&&R.record!=""){I=I[R.record];if(I==undefined){continue}}var ac=this.getid(R.id,I,V);if(typeof(ac)==="object"){ac=V}if(!this.recordids[ac]){this.recordids[ac]=I;var L={};for(var U=0;U<Y;U++){var N=R.datafields[U];var S="";if(undefined==N||N==null){continue}if(N.map){if(i.isFunction(N.map)){S=N.map(I)}else{var K=N.map.split(ad.mapChar);if(K.length>0){var Z=I;for(var Q=0;Q<K.length;Q++){if(Z!=undefined){Z=Z[K[Q]]}}S=Z}else{S=I[N.map]}}if(S!=undefined&&S!=null){S=S.toString()}else{if(S==undefined&&S!=null){S=""}}}if(S==""&&!N.map){S=I[N.name];if(S==undefined&&S!=null){S=""}if(N.value!=undefined){if(S!=undefined){var X=S[N.value];if(X!=undefined){S=X}}}}S=this.getvaluebytype(S,N);if(N.displayname!=undefined){L[N.displayname]=S}else{L[N.name]=S}if(N.type==="array"){var O=function(aj){if(!aj){return}for(var ap=0;ap<aj.length;ap++){var am=aj[ap];if(!am){continue}for(var an=0;an<Y;an++){var ai=R.datafields[an];var ao="";if(undefined==ai||ai==null){continue}if(ai.map){if(i.isFunction(ai.map)){ao=ai.map(am)}else{var ag=ai.map.split(ad.mapChar);if(ag.length>0){var al=am;for(var ah=0;ah<ag.length;ah++){if(al!=undefined){al=al[ag[ah]]}}ao=al}else{ao=am[ai.map]}}if(ao!=undefined&&ao!=null){ao=ao.toString()}else{if(ao==undefined&&ao!=null){ao=""}}}if(ao==""&&!ai.map){ao=am[ai.name];if(ao==undefined&&ao!=null){ao=""}if(ai.value!=undefined){if(ao!=undefined){var ak=ao[ai.value];if(ak!=undefined){ao=ak}}}}ao=this.getvaluebytype(ao,ai);if(ai.displayname!=undefined){am[ai.displayname]=ao}else{am[ai.name]=ao}if(ai.type==="array"){O.call(this,ao)}}}};O.call(this,S)}}if(R.recordendindex<=0||T<R.recordendindex){W[P+M]=i.extend({},L);W[P+M].uid=ac;this.originaldata[P+M]=i.extend({},W[V]);M++}}}this.records=W;this.cachedrecords=this.records},loadxml:function(K,ai,U){if(typeof(K)=="string"){K=ai=i(i.parseXML(K));K=null}if(U.root==undefined){U.root=""}if(U.record==undefined){U.record=""}var K;if(i.jqx.browser.msie&&ai){if(ai.xml!=undefined){K=i(U.root+" "+U.record,i.parseXML(ai.xml))}else{K=K||i(U.root+" "+U.record,ai)}}else{K=K||i(U.root+" "+U.record,ai)}if(!K){K=[]}var J=K.length;if(K.length==0){return}this.totalrecords=this.virtualmode?(U.totalrecords||J):J;this.records=new Array();this.originaldata=new Array();var aa=this.records;var X=!this.pageable?U.recordstartindex:this.pagesize*this.pagenum;this.recordids=new Array();if(U.loadallrecords){X=0;J=this.totalrecords}var S=0;if(this.virtualmode){X=!this.pageable?U.recordstartindex:this.pagesize*this.pagenum;S=X;X=0;J=this.totalrecords}var ac=U.datafields?U.datafields.length:0;if(ac==0){var e=K[0];var af=new Array();for(obj in e){var H=obj;af[af.length]={name:H}}U.datafields=af;ac=af.length}var T=X;var ae=false;for(var Z=X;Z<J;Z++){var I=K[Z];if(I==undefined){break}var ah=this.getid(U.id,I,Z);if(!this.recordids[ah]){this.recordids[ah]=I;var L={};var P=false;if(U.hierarchy&&U.hierarchy.root){P=true}for(var Y=0;Y<ac;Y++){var Q=U.datafields[Y];var W="";if(undefined==Q||Q==null){continue}if(Q.map){if(i.isFunction(Q.map)){W=Q.map(I)}else{var M=Q.map.indexOf("[");if(M<0){W=i(Q.map,I);if(W.length==1){W=W.text()}else{ae=true;var ag=new Array();for(var ab=0;ab<W.length;ab++){ag.push(i(W[ab]).text())}W=ag;if(P&&ag.length>0){W=ag[0]}}}else{var ad=Q.map.substring(0,M-1);var O=Q.map.indexOf("]");var R=Q.map.substring(M+1,O);W=i(ad,I).attr(R);if(W==undefined){W=i(I).attr(R)}if(W==undefined){W=""}}if(W==""){W=i(I).attr(Q.map);if(W==undefined){W=""}}}}if(W==""){W=i(Q.name,I);if(W.length==1){W=W.text()}else{var ag=new Array();for(var ab=0;ab<W.length;ab++){ag.push(i(W[ab]).text())}W=ag;if(P&&ag.length>0){W=ag[0]}}if(W==""){W=i(I).attr(Q.name);if(W==undefined){W=""}}if(W==""){if(I.nodeName&&I.nodeName==Q.name&&I.firstChild){W=i(I.firstChild).text()}}}var V=W;W=this.getvaluebytype(W,Q);if(Q.displayname!=undefined){L[Q.displayname]=W}else{L[Q.name]=W}}if(U.recordendindex<=0||X<U.recordendindex){aa[S+T]=i.extend({},L);aa[S+T].uid=ah;this.originaldata[S+T]=i.extend({},aa[Z]);T++}}}if(U.hierarchy&&U.hierarchy.root){for(var Z=X;Z<J;Z++){var I=K[Z];var N=aa[Z];if(i(I).parent().length>0){var ah=this.getid(U.id,i(I).parents(U.hierarchy.record+":first"));N.parentuid=ah}else{N.parentuid=null}}}this.records=aa;this.cachedrecords=this.records},loadtext:function(X,P){if(X==null){return}var e=P.rowDelimiter||this.rowDelimiter||"\n";var L=X.split(e);var J=L.length;this.totalrecords=this.virtualmode?(P.totalrecords||J):J;this.records=new Array();this.originaldata=new Array();var U=this.records;var R=!this.pageable?P.recordstartindex:this.pagesize*this.pagenum;this.recordids=new Array();if(P.loadallrecords){R=0;J=this.totalrecords}var N=0;if(this.virtualmode){R=!this.pageable?P.recordstartindex:this.pagesize*this.pagenum;N=R;R=0;J=this.totalrecords}var V=P.datafields.length;var O=P.columnDelimiter||this.columnDelimiter;if(!O){O=(P.datatype==="tab"||P.datatype==="tsv")?"\t":","}for(var T=R;T<J;T++){var I=L[T];var W=null;if(!this.recordids[W]){if(P.id==null){W=T;this.recordids[W]=I}var K={};var H=L[T].split(O);for(var S=0;S<V;S++){if(S>=H.length){continue}var M=P.datafields[S];var Q=H[S];if(M.map&&i.isFunction(M.map)){Q=M.map(I)}if(M.type){Q=this.getvaluebytype(Q,M)}var Y=M.map||M.name||S.toString();K[Y]=Q;if(P.id!=null){if(P.id===M.name){W=Q;this.recordids[W]=I}}}if(W==null){W=T}U[N+T]=i.extend({},K);U[N+T].uid=W;this.originaldata[N+T]=i.extend({},U[T])}}this.records=U;this.cachedrecords=this.records},getvaluebytype:function(L,H){var J=L;if(L==null){return L}if(i.isArray(L)&&H.type!="array"){for(var I=0;I<L.length;I++){L[I]=this.getvaluebytype(L[I],H)}return L}if(H.type=="date"){if(L=="NaN"){L=""}else{var K=new Date(L);if(typeof L=="string"){if(H.format){var e=i.jqx.dataFormat.parsedate(L,H.format);if(e!=null){K=e}}}if(K.toString()=="NaN"||K.toString()=="Invalid Date"){if(i.jqx.dataFormat){L=i.jqx.dataFormat.tryparsedate(L)}else{L=K}}else{L=K}if(L==null){L=J}}}else{if(H.type=="float"||H.type=="number"||H.type=="decimal"){if(L=="NaN"){L=""}else{var L=parseFloat(L);if(isNaN(L)){L=J}}}else{if(H.type=="int"||H.type=="integer"){var L=parseInt(L);if(isNaN(L)){L=J}}else{if(H.type=="bool"||H.type=="boolean"){if(L!=null){if(L.toLowerCase!=undefined){if(L.toLowerCase()=="false"){L=false}else{if(L.toLowerCase()=="true"){L=true}}}}if(L==1){L=true}else{if(L==0&&L!==""){L=false}else{L=""}}}}}}return L}};i.jqx.dataFormat={};i.extend(i.jqx.dataFormat,{regexTrim:/^\s+|\s+$/g,regexInfinity:/^[+-]?infinity$/i,regexHex:/^0x[a-f0-9]+$/i,regexParseFloat:/^[+-]?\d*\.?\d*(e[+-]?\d+)?$/,toString:Object.prototype.toString,isBoolean:function(e){return typeof e==="boolean"},isObject:function(e){return(e&&(typeof e==="object"||i.isFunction(e)))||false},isDate:function(e){return e instanceof Date},arrayIndexOf:function(J,I){if(J.indexOf){return J.indexOf(I)}for(var e=0,H=J.length;e<H;e++){if(J[e]===I){return e}}return -1},isString:function(e){return typeof e==="string"},isNumber:function(e){return typeof e==="number"&&isFinite(e)},isNull:function(e){return e===null},isUndefined:function(e){return typeof e==="undefined"},isValue:function(e){return(this.isObject(e)||this.isString(e)||this.isNumber(e)||this.isBoolean(e))},isEmpty:function(e){if(!this.isString(e)&&this.isValue(e)){return false}else{if(!this.isValue(e)){return true}}e=i.trim(e).replace(/\&nbsp\;/ig,"").replace(/\&#160\;/ig,"");return e===""},startsWith:function(H,e){return H.indexOf(e)===0},endsWith:function(H,e){return H.substr(H.length-e.length)===e},trim:function(e){return(e+"").replace(this.regexTrim,"")},isArray:function(e){return this.toString.call(e)==="[object Array]"},defaultcalendar:function(){var e={"/":"/",":":":",firstDay:0,days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December",""],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""]},AM:["AM","am","AM"],PM:["PM","pm","PM"],eras:[{name:"A.D.",start:null,offset:0}],twoDigitYearMax:2029,patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",t:"h:mm tt",T:"h:mm:ss tt",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",M:"MMMM dd",Y:"yyyy MMMM",S:"yyyy\u0027-\u0027MM\u0027-\u0027dd\u0027T\u0027HH\u0027:\u0027mm\u0027:\u0027ss",ISO:"yyyy-MM-dd hh:mm:ss",ISO2:"yyyy-MM-dd HH:mm:ss",d1:"dd.MM.yyyy",d2:"dd-MM-yyyy",zone1:"yyyy-MM-ddTHH:mm:ss-HH:mm",zone2:"yyyy-MM-ddTHH:mm:ss+HH:mm",custom:"yyyy-MM-ddTHH:mm:ss.fff"},percentsymbol:"%",currencysymbol:"$",currencysymbolposition:"before",decimalseparator:".",thousandsseparator:","};return e},expandFormat:function(K,J){J=J||"F";var I,H=K.patterns,e=J.length;if(e===1){I=H[J];if(!I){throw"Invalid date format string '"+J+"'."}J=I}else{if(e===2&&J.charAt(0)==="%"){J=J.charAt(1)}}return J},getEra:function(I,H){if(!H){return 0}if(typeof I==="string"){return 0}var L,K=I.getTime();for(var J=0,e=H.length;J<e;J++){L=H[J].start;if(L===null||K>=L){return J}}return 0},toUpper:function(e){return e.split("\u00A0").join(" ").toUpperCase()},toUpperArray:function(e){var J=[];for(var I=0,H=e.length;I<H;I++){J[I]=this.toUpper(e[I])}return J},getEraYear:function(H,J,e,K){var I=H.getFullYear();if(!K&&J.eras){I-=J.eras[e].offset}return I},toUpper:function(e){if(e){return e.toUpperCase()}return""},getDayIndex:function(K,J,H){var e,L=K.days,I=K._upperDays;if(!I){K._upperDays=I=[this.toUpperArray(L.names),this.toUpperArray(L.namesAbbr),this.toUpperArray(L.namesShort)]}J=J.toUpperCase();if(H){e=this.arrayIndexOf(I[1],J);if(e===-1){e=this.arrayIndexOf(I[2],J)}}else{e=this.arrayIndexOf(I[0],J)}return e},getMonthIndex:function(N,M,I){var e=N.months,H=N.monthsGenitive||N.months,K=N._upperMonths,L=N._upperMonthsGen;if(!K){N._upperMonths=K=[this.toUpperArray(e.names),this.toUpperArray(e.namesAbbr)];N._upperMonthsGen=L=[this.toUpperArray(H.names),this.toUpperArray(H.namesAbbr)]}M=this.toUpper(M);var J=this.arrayIndexOf(I?K[1]:K[0],M);if(J<0){J=this.arrayIndexOf(I?L[1]:L[0],M)}return J},appendPreOrPostMatch:function(J,e){var I=0,L=false;for(var K=0,H=J.length;K<H;K++){var M=J.charAt(K);switch(M){case"'":if(L){e.push("'")}else{I++}L=false;break;case"\\":if(L){e.push("\\")}L=!L;break;default:e.push(M);L=false;break}}return I},getTokenRegExp:function(){return/\/|dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyy|yy|y|hh|h|HH|H|mm|m|ss|s|tt|t|fff|ff|f|zzz|zz|z|gg|g/g},formatlink:function(e,I){var H="";if(I&&I.target){H="target="+I.target}if(H!=""){return"<a "+H+' href="'+e+'">'+e+"</a>"}return'<a href="'+e+'">'+e+"</a>"},formatemail:function(e){return'<a href="mailto:'+e+'">'+e+"</a>"},formatNumber:function(e,I,H){return this.formatnumber(e,I,H)},formatnumber:function(T,S,O){if(O==undefined||O==null||O==""){O=this.defaultcalendar()}if(S===""||S===null){return T}if(!this.isNumber(T)){T*=1}var P;if(S.length>1){P=parseInt(S.slice(1),10)}var V={};var Q=S.charAt(0).toUpperCase();V.thousandsSeparator=O.thousandsseparator;V.decimalSeparator=O.decimalseparator;switch(Q){case"D":case"d":case"F":case"f":V.decimalPlaces=P;break;case"N":case"n":V.decimalPlaces=0;break;case"C":case"c":V.decimalPlaces=P;if(O.currencysymbolposition=="before"){V.prefix=O.currencysymbol}else{V.suffix=O.currencysymbol}break;case"P":case"p":V.suffix=O.percentsymbol;V.decimalPlaces=P;break;default:throw"Bad number format specifier: "+Q}if(this.isNumber(T)){var K=(T<0);var I=T+"";var R=(V.decimalSeparator)?V.decimalSeparator:".";var e;if(this.isNumber(V.decimalPlaces)){var L=V.decimalPlaces;var N=Math.pow(10,L);I=(T*N).toFixed(0)/N+"";e=I.lastIndexOf(".");if(L>0){if(e<0){I+=R;e=I.length-1}else{if(R!=="."){I=I.replace(".",R)}}while((I.length-1-e)<L){I+="0"}}}if(V.thousandsSeparator){var U=V.thousandsSeparator;e=I.lastIndexOf(R);e=(e>-1)?e:I.length;var J=I.substring(e);var H=-1;for(var M=e;M>0;M--){H++;if((H%3===0)&&(M!==e)&&(!K||(M>1))){J=U+J}J=I.charAt(M-1)+J}I=J}I=(V.prefix)?V.prefix+I:I;I=(V.suffix)?I+V.suffix:I;return I}else{return T}},tryparsedate:function(T,M){if(M==undefined||M==null){M=this.defaultcalendar()}var Q=this;if(T==""){return null}if(T!=null&&!T.substring){T=T.toString()}if(T!=null&&T.substring(0,6)=="/Date("){var R=/^\/Date\((-?\d+)(\+|-)?(\d+)?\)\/$/;var J=new Date(+T.replace(/\/Date\((\d+)\)\//,"$1"));if(J=="Invalid Date"){var K=T.match(/^\/Date\((\d+)([-+]\d\d)(\d\d)\)\/$/);var J=null;if(K){J=new Date(1*K[1]+3600000*K[2]+60000*K[3])}}if(J==null||J=="Invalid Date"||isNaN(J)){var N=R.exec(T);if(N){var U=new Date(parseInt(N[1]));if(N[2]){var e=parseInt(N[3]);if(N[2]==="-"){e=-e}var P=U.getUTCMinutes();U.setUTCMinutes(P-e)}if(!isNaN(U.valueOf())){return U}}}return J}patterns=M.patterns;for(prop in patterns){J=Q.parsedate(T,patterns[prop],M);if(J){if(prop=="ISO"){var I=Q.parsedate(T,patterns.ISO2,M);if(I){return I}}return J}}if(T!=null){var I=null;var S=[":","/","-"];var O=true;for(var H=0;H<S.length;H++){if(T.indexOf(S[H])!=-1){O=false}}if(O){var L=new Number(T);if(!isNaN(L)){return new Date(L)}}}return null},getparseregexp:function(e,R){var T=e._parseRegExp;if(!T){e._parseRegExp=T={}}else{var K=T[R];if(K){return K}}var Q=this.expandFormat(e,R).replace(/([\^\$\.\*\+\?\|\[\]\(\)\{\}])/g,"\\\\$1"),O=["^"],H=[],N=0,J=0,W=this.getTokenRegExp(),L;while((L=W.exec(Q))!==null){var V=Q.slice(N,L.index);N=W.lastIndex;J+=this.appendPreOrPostMatch(V,O);if(J%2){O.push(L[0]);continue}var I=L[0],M=I.length,S;switch(I){case"dddd":case"ddd":case"MMMM":case"MMM":case"gg":case"g":S="(\\D+)";break;case"tt":case"t":S="(\\D*)";break;case"yyyy":case"fff":case"ff":case"f":S="(\\d{"+M+"})";break;case"dd":case"d":case"MM":case"M":case"yy":case"y":case"HH":case"H":case"hh":case"h":case"mm":case"m":case"ss":case"s":S="(\\d\\d?)";break;case"zzz":S="([+-]?\\d\\d?:\\d{2})";break;case"zz":case"z":S="([+-]?\\d\\d?)";break;case"/":S="(\\"+e["/"]+")";break;default:throw"Invalid date format pattern '"+I+"'.";break}if(S){O.push(S)}H.push(L[0])}this.appendPreOrPostMatch(Q.slice(N),O);O.push("$");var U=O.join("").replace(/\s+/g,"\\s+"),P={regExp:U,groups:H};return T[R]=P},outOfRange:function(I,e,H){return I<e||I>H},expandYear:function(L,J){var H=new Date(),e=getEra(H);if(J<100){var I=L.twoDigitYearMax;I=typeof I==="string"?new Date().getFullYear()%100+parseInt(I,10):I;var K=this.getEraYear(H,L,e);J+=K-(K%100);if(J>I){J-=100}}return J},parsedate:function(ab,ai,W){if(W==undefined||W==null){W=this.defaultcalendar()}ab=this.trim(ab);var T=W,an=this.getparseregexp(T,ai),N=new RegExp(an.regExp).exec(ab);if(N===null){return null}var aj=an.groups,Z=null,R=null,am=null,al=null,S=null,L=0,ae,ad=0,ak=0,e=0,I=null,U=false;for(var af=0,ah=aj.length;af<ah;af++){var H=N[af+1];if(H){var aa=aj[af],K=aa.length,M=parseInt(H,10);switch(aa){case"dd":case"d":al=M;if(this.outOfRange(al,1,31)){return null}break;case"MMM":case"MMMM":am=this.getMonthIndex(T,H,K===3);if(this.outOfRange(am,0,11)){return null}break;case"M":case"MM":am=M-1;if(this.outOfRange(am,0,11)){return null}break;case"y":case"yy":case"yyyy":R=K<4?this.expandYear(T,M):M;if(this.outOfRange(R,0,9999)){return null}break;case"h":case"hh":L=M;if(L===12){L=0}if(this.outOfRange(L,0,11)){return null}break;case"H":case"HH":L=M;if(this.outOfRange(L,0,23)){return null}break;case"m":case"mm":ad=M;if(this.outOfRange(ad,0,59)){return null}break;case"s":case"ss":ak=M;if(this.outOfRange(ak,0,59)){return null}break;case"tt":case"t":U=T.PM&&(H===T.PM[0]||H===T.PM[1]||H===T.PM[2]);if(!U&&(!T.AM||(H!==T.AM[0]&&H!==T.AM[1]&&H!==T.AM[2]))){return null}break;case"f":case"ff":case"fff":e=M*Math.pow(10,3-K);if(this.outOfRange(e,0,999)){return null}break;case"ddd":case"dddd":S=this.getDayIndex(T,H,K===3);if(this.outOfRange(S,0,6)){return null}break;case"zzz":var J=H.split(/:/);if(J.length!==2){return null}ae=parseInt(J[0],10);if(this.outOfRange(ae,-12,13)){return null}var P=parseInt(J[1],10);if(this.outOfRange(P,0,59)){return null}I=(ae*60)+(startsWith(H,"-")?-P:P);break;case"z":case"zz":ae=M;if(this.outOfRange(ae,-12,13)){return null}I=ae*60;break;case"g":case"gg":var V=H;if(!V||!T.eras){return null}V=trim(V.toLowerCase());for(var ag=0,ac=T.eras.length;ag<ac;ag++){if(V===T.eras[ag].name.toLowerCase()){Z=ag;break}}if(Z===null){return null}break}}}var Q=new Date(),Y,O=T.convert;Y=Q.getFullYear();if(R===null){R=Y}else{if(T.eras){R+=T.eras[(Z||0)].offset}}if(am===null){am=0}if(al===null){al=1}if(O){Q=O.toGregorian(R,am,al);if(Q===null){return null}}else{Q.setFullYear(R,am,al);if(Q.getDate()!==al){return null}if(S!==null&&Q.getDay()!==S){return null}}if(U&&L<12){L+=12}Q.setHours(L,ad,ak,e);if(I!==null){var X=Q.getMinutes()-(I+Q.getTimezoneOffset());Q.setHours(Q.getHours()+parseInt(X/60,10),X%60)}return Q},cleardatescache:function(){this.datescache=new Array()},formatDate:function(e,I,H){return this.formatdate(e,I,H)},formatdate:function(Z,ad,U){if(U==undefined||U==null){U=this.defaultcalendar()}if(typeof Z==="string"){return Z}var J=Z.toString()+"_"+ad;if(this.datescache&&this.datescache[J]){return this.datescache[J]}if(!ad||!ad.length||ad==="i"){var af;af=this.formatDate(Z,U.patterns.F,culture);return af}var aa=U.eras,H=ad==="s";ad=this.expandFormat(U,ad);af=[];var M,ab=["0","00","000"],Q,R,e=/([^d]|^)(d|dd)([^d]|$)/g,ae=0,W=this.getTokenRegExp(),I;function O(ag,aj){var ai,ah=ag+"";if(aj>1&&ah.length<aj){ai=(ab[aj-2]+ah);return ai.substr(ai.length-aj,aj)}else{ai=ah}return ai}function ac(){if(Q||R){return Q}Q=e.test(ad);R=true;return Q}function K(ah,ag){if(I){return I[ag]}if(ah.getMonth!=undefined){switch(ag){case 0:return ah.getFullYear();case 1:return ah.getMonth();case 2:return ah.getDate()}}}for(;;){var N=W.lastIndex,V=W.exec(ad);var S=ad.slice(N,V?V.index:ad.length);ae+=this.appendPreOrPostMatch(S,af);if(!V){break}if(ae%2){af.push(V[0]);continue}var X=V[0],L=X.length;switch(X){case"ddd":case"dddd":var T=(L===3)?U.days.namesAbbr:U.days.names;af.push(T[Z.getDay()]);break;case"d":case"dd":Q=true;af.push(O(K(Z,2),L));break;case"MMM":case"MMMM":var Y=K(Z,1);af.push(U.months[L===3?"namesAbbr":"names"][Y]);break;case"M":case"MM":af.push(O(K(Z,1)+1,L));break;case"y":case"yy":case"yyyy":Y=this.getEraYear(Z,U,this.getEra(Z,aa),H);if(L<4){Y=Y%100}af.push(O(Y,L));break;case"h":case"hh":M=Z.getHours()%12;if(M===0){M=12}af.push(O(M,L));break;case"H":case"HH":af.push(O(Z.getHours(),L));break;case"m":case"mm":af.push(O(Z.getMinutes(),L));break;case"s":case"ss":af.push(O(Z.getSeconds(),L));break;case"t":case"tt":Y=Z.getHours()<12?(U.AM?U.AM[0]:" "):(U.PM?U.PM[0]:" ");af.push(L===1?Y.charAt(0):Y);break;case"f":case"ff":case"fff":af.push(O(Z.getMilliseconds(),3).substr(0,L));break;case"z":case"zz":M=Z.getTimezoneOffset()/60;af.push((M<=0?"+":"-")+O(Math.floor(Math.abs(M)),L));break;case"zzz":M=Z.getTimezoneOffset()/60;af.push((M<=0?"+":"-")+O(Math.floor(Math.abs(M)),2)+":"+O(Math.abs(Z.getTimezoneOffset()%60),2));break;case"g":case"gg":if(U.eras){af.push(U.eras[getEra(Z,aa)].name)}break;case"/":af.push(U["/"]);break;default:throw"Invalid date format pattern '"+X+"'.";break}}var P=af.join("");if(!this.datescache){this.datescache=new Array()}this.datescache[J]=P;return P}});i.jqx.data={};var l,E,p=/#.*$/,a=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg,f=/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/,j=/^(?:GET|HEAD)$/,o=/^\/\//,k=/\?/,b=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,d=/([?&])_=[^&]*/,h=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,t=/\s+/,F=jQuery.fn.load,G={},C={},q=["*/"]+["*"];try{E=location.href}catch(A){E=document.createElement("a");E.href="";E=E.href}l=h.exec(E.toLowerCase())||[];function r(e){return function(K,M){if(typeof K!=="string"){M=K;K="*"}var H,N,O,J=K.toLowerCase().split(t),I=0,L=J.length;if(jQuery.isFunction(M)){for(;I<L;I++){H=J[I];O=/^\+/.test(H);if(O){H=H.substr(1)||"*"}N=e[H]=e[H]||[];N[O?"unshift":"push"](M)}}}}function v(H,Q,L,O,N,J){N=N||Q.dataTypes[0];J=J||{};J[N]=true;var P,M=H[N],I=0,e=M?M.length:0,K=(H===G);for(;I<e&&(K||!P);I++){P=M[I](Q,L,O);if(typeof P==="string"){if(!K||J[P]){P=undefined}else{Q.dataTypes.unshift(P);P=v(H,Q,L,O,P,J)}}}if((K||!P)&&!J["*"]){P=v(H,Q,L,O,"*",J)}return P}function u(I,J){var H,e,K=i.jqx.data.ajaxSettings.flatOptions||{};for(H in J){if(J[H]!==undefined){(K[H]?I:(e||(e={})))[H]=J[H]}}if(e){jQuery.extend(true,I,e)}}i.extend(i.jqx.data,{ajaxSetup:function(H,e){if(e){u(H,i.jqx.data.ajaxSettings)}else{e=H;H=i.jqx.data.ajaxSettings}u(H,e);return H},ajaxSettings:{url:E,isLocal:f.test(l[1]),global:true,type:"GET",contentType:"application/x-www-form-urlencoded; charset=UTF-8",processData:true,async:true,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":q},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":window.String,"text html":true,"text json":jQuery.parseJSON,"text xml":jQuery.parseXML},flatOptions:{context:true,url:true}},ajaxPrefilter:r(G),ajaxTransport:r(C),ajax:function(M,J){if(typeof M==="object"){J=M;M=undefined}J=J||{};var P,ad,K,Y,R,V,I,X,Q=i.jqx.data.ajaxSetup({},J),af=Q.context||Q,T=af!==Q&&(af.nodeType||af instanceof jQuery)?jQuery(af):jQuery.event,ae=jQuery.Deferred(),aa=jQuery.Callbacks("once memory"),N=Q.statusCode||{},U={},ab={},L=0,O="canceled",W={readyState:0,setRequestHeader:function(ag,ah){if(!L){var e=ag.toLowerCase();ag=ab[e]=ab[e]||ag;U[ag]=ah}return this},getAllResponseHeaders:function(){return L===2?ad:null},getResponseHeader:function(ag){var e;if(L===2){if(!K){K={};while((e=a.exec(ad))){K[e[1].toLowerCase()]=e[2]}}e=K[ag.toLowerCase()]}return e===undefined?null:e},overrideMimeType:function(e){if(!L){Q.mimeType=e}return this},abort:function(e){e=e||O;if(Y){Y.abort(e)}S(0,e);return this}};function S(ak,ag,al,ai){var e,ao,am,aj,an,ah=ag;if(L===2){return}L=2;if(R){clearTimeout(R)}Y=undefined;ad=ai||"";W.readyState=ak>0?4:0;if(al){aj=B(Q,W,al)}if(ak>=200&&ak<300||ak===304){if(Q.ifModified){an=W.getResponseHeader("Last-Modified");if(an){jQuery.lastModified[P]=an}an=W.getResponseHeader("Etag");if(an){jQuery.etag[P]=an}}if(ak===304){ah="notmodified";e=true}else{e=c(Q,aj);ah=e.state;ao=e.data;am=e.error;e=!am}}else{am=ah;if(!ah||ak){ah="error";if(ak<0){ak=0}}}W.status=ak;W.statusText=(ag||ah)+"";if(e){ae.resolveWith(af,[ao,ah,W])}else{ae.rejectWith(af,[W,ah,am])}W.statusCode(N);N=undefined;if(I){T.trigger("ajax"+(e?"Success":"Error"),[W,Q,e?ao:am])}aa.fireWith(af,[W,ah]);if(I){T.trigger("ajaxComplete",[W,Q]);if(!(--jQuery.active)){jQuery.event.trigger("ajaxStop")}}}ae.promise(W);W.success=W.done;W.error=W.fail;W.complete=aa.add;W.statusCode=function(ag){if(ag){var e;if(L<2){for(e in ag){N[e]=[N[e],ag[e]]}}else{e=ag[W.status];W.always(e)}}return this};Q.url=((M||Q.url)+"").replace(p,"").replace(o,l[1]+"//");Q.dataTypes=jQuery.trim(Q.dataType||"*").toLowerCase().split(t);if(Q.crossDomain==null){V=h.exec(Q.url.toLowerCase());Q.crossDomain=!!(V&&(V[1]!==l[1]||V[2]!==l[2]||(V[3]||(V[1]==="http:"?80:443))!=(l[3]||(l[1]==="http:"?80:443))))}if(Q.data&&Q.processData&&typeof Q.data!=="string"){Q.data=jQuery.param(Q.data,Q.traditional)}v(G,Q,J,W);if(L===2){return W}I=Q.global;Q.type=Q.type.toUpperCase();Q.hasContent=!j.test(Q.type);if(I&&jQuery.active++===0){jQuery.event.trigger("ajaxStart")}if(!Q.hasContent){if(Q.data){Q.url+=(k.test(Q.url)?"&":"?")+Q.data;delete Q.data}P=Q.url;if(Q.cache===false){var H=jQuery.now(),ac=Q.url.replace(d,"$1_="+H);Q.url=ac+((ac===Q.url)?(k.test(Q.url)?"&":"?")+"_="+H:"")}}if(Q.data&&Q.hasContent&&Q.contentType!==false||J.contentType){W.setRequestHeader("Content-Type",Q.contentType)}if(Q.ifModified){P=P||Q.url;if(jQuery.lastModified[P]){W.setRequestHeader("If-Modified-Since",jQuery.lastModified[P])}if(jQuery.etag[P]){W.setRequestHeader("If-None-Match",jQuery.etag[P])}}W.setRequestHeader("Accept",Q.dataTypes[0]&&Q.accepts[Q.dataTypes[0]]?Q.accepts[Q.dataTypes[0]]+(Q.dataTypes[0]!=="*"?", "+q+"; q=0.01":""):Q.accepts["*"]);for(X in Q.headers){W.setRequestHeader(X,Q.headers[X])}if(Q.beforeSend&&(Q.beforeSend.call(af,W,Q)===false||L===2)){return W.abort()}O="abort";for(X in {success:1,error:1,complete:1}){W[X](Q[X])}Y=v(C,Q,J,W);if(!Y){S(-1,"No Transport")}else{W.readyState=1;if(I){T.trigger("ajaxSend",[W,Q])}if(Q.async&&Q.timeout>0){R=setTimeout(function(){W.abort("timeout")},Q.timeout)}try{L=1;Y.send(U,S)}catch(Z){if(L<2){S(-1,Z)}else{throw Z}}}return W},active:0,lastModified:{},etag:{}});function B(P,O,L){var K,M,J,e,H=P.contents,N=P.dataTypes,I=P.responseFields;for(M in I){if(M in L){O[I[M]]=L[M]}}while(N[0]==="*"){N.shift();if(K===undefined){K=P.mimeType||O.getResponseHeader("content-type")}}if(K){for(M in H){if(H[M]&&H[M].test(K)){N.unshift(M);break}}}if(N[0] in L){J=N[0]}else{for(M in L){if(!N[0]||P.converters[M+" "+N[0]]){J=M;break}if(!e){e=M}}J=J||e}if(J){if(J!==N[0]){N.unshift(J)}return L[J]}}function c(R,J){var P,H,N,L,O=R.dataTypes.slice(),I=O[0],Q={},K=0;if(R.dataFilter){J=R.dataFilter(J,R.dataType)}if(O[1]){for(P in R.converters){Q[P.toLowerCase()]=R.converters[P]}}for(;(N=O[++K]);){if(N!=="*"){if(I!=="*"&&I!==N){P=Q[I+" "+N]||Q["* "+N];if(!P){for(H in Q){L=H.split(" ");if(L[1]===N){P=Q[I+" "+L[0]]||Q["* "+L[0]];if(P){if(P===true){P=Q[H]}else{if(Q[H]!==true){N=L[0];O.splice(K--,0,N)}}break}}}}if(P!==true){if(P&&R["throws"]){J=P(J)}else{try{J=P(J)}catch(M){return{state:"parsererror",error:P?M:"No conversion from "+I+" to "+N}}}}}I=N}}return{state:"success",data:J}}var y=[],n=/\?/,D=/(=)\?(?=&|$)|\?\?/,z=jQuery.now();i.jqx.data.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=y.pop()||(jQuery.expando+"_"+(z++));this[e]=true;return e}});i.jqx.data.ajaxPrefilter("json jsonp",function(Q,L,P){var O,e,N,J=Q.data,H=Q.url,I=Q.jsonp!==false,M=I&&D.test(H),K=I&&!M&&typeof J==="string"&&!(Q.contentType||"").indexOf("application/x-www-form-urlencoded")&&D.test(J);if(Q.dataTypes[0]==="jsonp"||M||K){O=Q.jsonpCallback=jQuery.isFunction(Q.jsonpCallback)?Q.jsonpCallback():Q.jsonpCallback;e=window[O];if(M){Q.url=H.replace(D,"$1"+O)}else{if(K){Q.data=J.replace(D,"$1"+O)}else{if(I){Q.url+=(n.test(H)?"&":"?")+Q.jsonp+"="+O}}}Q.converters["script json"]=function(){if(!N){jQuery.error(O+" was not called")}return N[0]};Q.dataTypes[0]="json";window[O]=function(){N=arguments};P.always(function(){window[O]=e;if(Q[O]){Q.jsonpCallback=L.jsonpCallback;y.push(O)}if(N&&jQuery.isFunction(e)){e(N[0])}N=e=undefined});return"script"}});i.jqx.data.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(e){jQuery.globalEval(e);return e}}});i.jqx.data.ajaxPrefilter("script",function(e){if(e.cache===undefined){e.cache=false}if(e.crossDomain){e.type="GET";e.global=false}});i.jqx.data.ajaxTransport("script",function(I){if(I.crossDomain){var e,H=document.head||document.getElementsByTagName("head")[0]||document.documentElement;return{send:function(J,K){e=document.createElement("script");e.async="async";if(I.scriptCharset){e.charset=I.scriptCharset}e.src=I.url;e.onload=e.onreadystatechange=function(M,L){if(L||!e.readyState||/loaded|complete/.test(e.readyState)){e.onload=e.onreadystatechange=null;if(H&&e.parentNode){H.removeChild(e)}e=undefined;if(!L){K(200,"success")}}};H.insertBefore(e,H.firstChild)},abort:function(){if(e){e.onload(0,1)}}}}});var w,x=window.ActiveXObject?function(){for(var e in w){w[e](0,1)}}:false,m=0;function g(){try{return new window.XMLHttpRequest()}catch(H){}}function s(){try{return new window.ActiveXObject("Microsoft.XMLHTTP")}catch(H){}}i.jqx.data.ajaxSettings.xhr=window.ActiveXObject?function(){return !this.isLocal&&g()||s()}:g;(function(e){jQuery.extend(jQuery.support,{ajax:!!e,cors:!!e&&("withCredentials" in e)})})(i.jqx.data.ajaxSettings.xhr());if(jQuery.support.ajax){i.jqx.data.ajaxTransport(function(e){if(!e.crossDomain||jQuery.support.cors){var H;return{send:function(N,I){var L,K,M=e.xhr();if(e.username){M.open(e.type,e.url,e.async,e.username,e.password)}else{M.open(e.type,e.url,e.async)}if(e.xhrFields){for(K in e.xhrFields){M[K]=e.xhrFields[K]}}if(e.mimeType&&M.overrideMimeType){M.overrideMimeType(e.mimeType)}if(!e.crossDomain&&!N["X-Requested-With"]){N["X-Requested-With"]="XMLHttpRequest"}try{for(K in N){M.setRequestHeader(K,N[K])}}catch(J){}M.send((e.hasContent&&e.data)||null);H=function(W,Q){var R,P,O,U,T;try{if(H&&(Q||M.readyState===4)){H=undefined;if(L){M.onreadystatechange=jQuery.noop;if(x){delete w[L]}}if(Q){if(M.readyState!==4){M.abort()}}else{R=M.status;O=M.getAllResponseHeaders();U={};T=M.responseXML;if(T&&T.documentElement){U.xml=T}try{U.text=M.responseText}catch(V){}try{P=M.statusText}catch(V){P=""}if(!R&&e.isLocal&&!e.crossDomain){R=U.text?200:404}else{if(R===1223){R=204}}}}}catch(S){if(!Q){I(-1,S)}}if(U){I(R,P,U,O)}};if(!e.async){H()}else{if(M.readyState===4){setTimeout(H,0)}else{L=++m;if(x){if(!w){w={};jQuery(window).unload(x)}w[L]=H}M.onreadystatechange=H}}},abort:function(){if(H){H(0,1)}}}}})}i.jqx.filter=function(){this.operator="and";var M=0;var J=1;var P=["EMPTY","NOT_EMPTY","CONTAINS","CONTAINS_CASE_SENSITIVE","DOES_NOT_CONTAIN","DOES_NOT_CONTAIN_CASE_SENSITIVE","STARTS_WITH","STARTS_WITH_CASE_SENSITIVE","ENDS_WITH","ENDS_WITH_CASE_SENSITIVE","EQUAL","EQUAL_CASE_SENSITIVE","NULL","NOT_NULL"];var R=["EQUAL","NOT_EQUAL","LESS_THAN","LESS_THAN_OR_EQUAL","GREATER_THAN","GREATER_THAN_OR_EQUAL","NULL","NOT_NULL"];var S=["EQUAL","NOT_EQUAL","LESS_THAN","LESS_THAN_OR_EQUAL","GREATER_THAN","GREATER_THAN_OR_EQUAL","NULL","NOT_NULL"];var L=["EQUAL","NOT_EQUAL"];var K=new Array();var Q=new Array();this.evaluate=function(X){var V=true;for(var W=0;W<K.length;W++){var U=K[W].evaluate(X);if(W==0){V=U}else{if(Q[W]==J||Q[W]=="or"){V=V||U}else{V=V&&U}}}return V};this.getfilterscount=function(){return K.length};this.setoperatorsbyfiltertype=function(U,V){switch(U){case"numericfilter":R=V;break;case"stringfilter":P=V;break;case"datefilter":S=V;break;case"booleanfilter":L=V;break}};this.getoperatorsbyfiltertype=function(U){var V=new Array();switch(U){case"numericfilter":V=R.slice(0);break;case"stringfilter":V=P.slice(0);break;case"datefilter":V=S.slice(0);break;case"booleanfilter":V=L.slice(0);break}return V};var O=function(){var U=function(){return(((1+Math.random())*65536)|0).toString(16).substring(1)};return(U()+"-"+U()+"-"+U())};this.createfilter=function(Y,V,X,W,U,Z){if(Y==null||Y==undefined){return null}switch(Y){case"numericfilter":return new N(V,X.toUpperCase());case"stringfilter":return new T(V,X.toUpperCase());case"datefilter":return new H(V,X.toUpperCase(),U,Z);case"booleanfilter":return new I(V,X.toUpperCase());case"custom":return new e(V,X.toUpperCase(),W)}throw new Error("jqxGrid: There is no such filter type. The available filter types are: 'numericfilter', 'stringfilter', 'datefilter' and 'booleanfilter'");return null};this.getfilters=function(){var U=new Array();for(var V=0;V<K.length;V++){var W={value:K[V].filtervalue,condition:K[V].comparisonoperator,operator:Q[V],type:K[V].type};U[V]=W}return U};this.addfilter=function(U,V){K[K.length]=V;V.key=O();Q[Q.length]=U};this.removefilter=function(V){for(var U=0;U<K.length;U++){if(K[U].key==V.key){K.splice(U,1);Q.splice(U,1);break}}};this.getoperatorat=function(U){if(U==undefined||U==null){return null}if(U<0||U>K.length){return null}return Q[U]};this.setoperatorat=function(V,U){if(V==undefined||V==null){return null}if(V<0||V>K.length){return null}Q[U]=U};this.getfilterat=function(U){if(U==undefined||U==null){return null}if(U<0||U>K.length){return null}return K[U]};this.setfilterat=function(U,V){if(U==undefined||U==null){return null}if(U<0||U>K.length){return null}V.key=O();K[U]=V};this.clear=function(){K=new Array();Q=new Array()};var T=function(V,U){this.filtervalue=V;this.comparisonoperator=U;this.type="stringfilter";this.evaluate=function(af){var ae=this.filtervalue;var al=this.comparisonoperator;if(af==null||af==undefined||af==""){if(al=="NULL"){return true}return false}var an="";try{an=af.toString()}catch(ag){return true}var am=function(ap,ao){switch(al){case"EQUAL":return i.jqx.string.equalsIgnoreCase(ap,ao);case"EQUAL_CASE_SENSITIVE":return i.jqx.string.equals(ap,ao);case"NOT_EQUAL":return !i.jqx.string.equalsIgnoreCase(ap,ao);case"NOT_EQUAL_CASE_SENSITIVE":return !i.jqx.string.equals(ap,ao);case"CONTAINS":return i.jqx.string.containsIgnoreCase(ap,ao);case"CONTAINS_CASE_SENSITIVE":return i.jqx.string.contains(ap,ao);case"DOES_NOT_CONTAIN":return !i.jqx.string.containsIgnoreCase(ap,ao);case"DOES_NOT_CONTAIN_CASE_SENSITIVE":return !i.jqx.string.contains(ap,ao);case"EMPTY":return ap=="";case"NOT_EMPTY":return ap!="";case"NOT_NULL":return ap!=null;case"STARTS_WITH":return i.jqx.string.startsWithIgnoreCase(ap,ao);case"ENDS_WITH":return i.jqx.string.endsWithIgnoreCase(ap,ao);case"ENDS_WITH_CASE_SENSITIVE":return i.jqx.string.endsWith(ap,ao);case"STARTS_WITH_CASE_SENSITIVE":return i.jqx.string.startsWith(ap,ao);default:return false}};var Z=new Array();if(ae&&ae.indexOf){if(ae.indexOf(" ")>=0||ae.indexOf("|")>=0||ae.indexOf(" AND ")>=0||ae.indexOf(" OR ")>=0||ae.indexOf(" and ")>=0||ae.indexOf(" or ")>=0){var aa=am(an,ae);if(aa){return aa}var ab=ae.indexOf(" AND ")>=0?ae.split(" AND "):new Array();var Y=ae.indexOf(" OR ")>=0?ae.split(" OR "):new Array();var X=ae.indexOf(" and ")>=0?ae.split(" and "):new Array();var ac=ae.indexOf(" or ")>=0?ae.split(" or "):new Array();var W=ae.indexOf("|")>=0?ae.split("|"):new Array();if(W.length>0){for(var ak=0;ak<W.length;ak++){W[ak]=i.trim(W[ak])}}var aj=ae.indexOf(" ")>=0?ae.split(" "):new Array();if(aj.length>0){for(var ak=0;ak<aj.length;ak++){aj[ak]=i.trim(aj[ak])}}ab=ab.concat(aj);ab=ab.concat(X);Y=Y.concat(W);Y=Y.concat(ac);if(ab.length>0){for(var ak=0;ak<ab.length;ak++){if(!ab[ak].indexOf(" OR ")>=0){Z.push(ab[ak])}}}if(Y.length>0){for(var ak=0;ak<Y.length;ak++){if(!Y[ak].indexOf(" AND ")>=0){Z.push(Y[ak])}}}var ai=undefined;for(var ah=0;ah<Z.length;ah++){var af=Z[ah];var aa=am(an,af);var ad=ah<ab.length?"and":"or";if(ai==undefined){ai=aa}else{if(ad=="or"){ai=ai||aa}else{ai=ai&&aa}}}return ai}}return am(an,ae)}};var I=function(V,U){this.filtervalue=V;this.comparisonoperator=U;this.type="booleanfilter";this.evaluate=function(Y){var X=this.filtervalue;var W=this.comparisonoperator;if(Y==null||Y==undefined){if(W=="NULL"){return true}return false}var Z=Y;switch(W){case"EQUAL":return Z==X||Z.toString()==X.toString();case"NOT_EQUAL":return Z!=X&&Z.toString()!=X.toString();default:return false}}};var N=function(V,U){this.filtervalue=V;this.comparisonoperator=U;this.type="numericfilter";this.evaluate=function(ag){var af=this.filtervalue;var al=this.comparisonoperator;if(ag===null||ag===undefined||ag===""){if(al=="NOT_NULL"){return false}if(al=="NULL"){return true}else{return false}}else{if(al=="NULL"){return false}if(al=="NOT_NULL"){return true}}var an=ag;try{an=parseFloat(an)}catch(ah){if(ag.toString()!=""){return false}}var am=function(ap,ao){switch(al){case"EQUAL":return ap==ao;case"NOT_EQUAL":return ap!=ao;case"GREATER_THAN":return ap>ao;case"GREATER_THAN_OR_EQUAL":return ap>=ao;case"LESS_THAN":return ap<ao;case"LESS_THAN_OR_EQUAL":return ap<=ao;case"STARTS_WITH":return i.jqx.string.startsWithIgnoreCase(ap.toString(),ao.toString());case"ENDS_WITH":return i.jqx.string.endsWithIgnoreCase(ap.toString(),ao.toString());case"ENDS_WITH_CASE_SENSITIVE":return i.jqx.string.endsWith(ap.toString(),ao.toString());case"STARTS_WITH_CASE_SENSITIVE":return i.jqx.string.startsWith(ap.toString(),ao.toString());case"CONTAINS":return i.jqx.string.containsIgnoreCase(ap.toString(),ao.toString());case"CONTAINS_CASE_SENSITIVE":return i.jqx.string.contains(ap.toString(),ao.toString());case"DOES_NOT_CONTAIN":return !i.jqx.string.containsIgnoreCase(ap.toString(),ao.toString());case"DOES_NOT_CONTAIN_CASE_SENSITIVE":return !i.jqx.string.contains(ap.toString(),ao.toString());default:return true}};var aa=new Array();if(af&&af.indexOf){if(af.indexOf("|")>=0||af.indexOf(" AND ")>=0||af.indexOf(" OR ")>=0||af.indexOf(" and ")>=0||af.indexOf(" or ")>=0){var ab=am(an,af);if(ab){return ab}af=af.toString();var ac=af.indexOf(" AND ")>=0?af.split(" AND "):new Array();var Z=af.indexOf(" OR ")>=0?af.split(" OR "):new Array();var Y=af.indexOf(" and ")>=0?af.split(" and "):new Array();var ad=af.indexOf(" or ")>=0?af.split(" or "):new Array();ac=ac.concat(Y);Z=Z.concat(ad);var X=af.indexOf("|")>=0?af.split("|"):new Array();if(X.length>0){for(var ak=0;ak<X.length;ak++){X[ak]=i.trim(X[ak])}}Z=Z.concat(X);if(ac.length>0){for(var ak=0;ak<ac.length;ak++){if(!ac[ak].indexOf(" OR ")>=0){aa.push(ac[ak])}}}if(Z.length>0){for(var ak=0;ak<Z.length;ak++){if(!Z[ak].indexOf(" AND ")>=0){aa.push(Z[ak])}}}var aj=undefined;for(var ai=0;ai<aa.length;ai++){var ag=aa[ai];if(ag&&ag.indexOf&&ag.indexOf("..")>=0){var W=ag.toString().split("..");if(W.length==2){ab=an>=W[0]&&an<=W[1]}}else{var ab=am(an,ag)}var ae=ai<ac.length?"and":"or";if(aj==undefined){aj=ab}else{if(ae=="or"){aj=aj||ab}else{aj=aj&&ab}}}return aj}}if(af&&af.indexOf&&af.indexOf("..")>=0){aa=af.toString().split("..");if(aa.length==2){return an>=aa[0]&&an<=aa[1]}}return am(an,af)}};var H=function(X,V,W,aa){this.filtervalue=X;this.type="datefilter";if(W!=undefined&&aa!=undefined){var Y=i.jqx.dataFormat.parsedate(X,W,aa);if(Y!=null){this.filterdate=Y}else{var U=i.jqx.dataFormat.tryparsedate(X,aa);if(U!=null){this.filterdate=U}}}else{var Z=new Date(X);if(Z.toString()=="NaN"||Z.toString()=="Invalid Date"){this.filterdate=i.jqx.dataFormat.tryparsedate(X)}else{this.filterdate=Z}}if(!this.filterdate){var Z=new Date(X);if(Z.toString()=="NaN"||Z.toString()=="Invalid Date"){this.filterdate=i.jqx.dataFormat.tryparsedate(X)}else{this.filterdate=Z}}this.comparisonoperator=V;this.evaluate=function(an){var am=this.filtervalue;var av=this.comparisonoperator;if(an==null||an==undefined||an==""){if(av=="NOT_NULL"){return false}if(av=="NULL"){return true}else{return false}}else{if(av=="NULL"){return false}if(av=="NOT_NULL"){return true}}var ax=new Date();ax.setFullYear(1900,0,1);ax.setHours(12,0,0,0);try{var au=new Date(an);if(au.toString()=="NaN"||au.toString()=="Invalid Date"){an=i.jqx.dataFormat.tryparsedate(an)}else{an=au}ax=an;var ar=false;if(W!=undefined&&aa!=undefined){if(W.indexOf("t")>=0||W.indexOf("T")>=0||W.indexOf(":")>=0||W.indexOf("f")>=0){ar=true}}if(!ar){ax.setHours(0);ax.setMinutes(0);ax.setSeconds(0)}}catch(ao){if(an.toString()!=""){return false}}if(this.filterdate!=null){am=this.filterdate}else{if(am.indexOf){if(am.indexOf(":")!=-1||!isNaN(parseInt(am))){var ah=new Date(ax);ah.setHours(12,0,0,0);var ag=am.split(":");for(var at=0;at<ag.length;at++){if(at==0){ah.setHours(ag[at])}if(at==1){ah.setMinutes(ag[at])}if(at==2){ah.setSeconds(ag[at])}}am=ah}}}var aw=function(az,ay){if(az==null){az=""}switch(av){case"EQUAL":return az.toString()==ay.toString();case"NOT_EQUAL":return az.toString()!=ay.toString();case"GREATER_THAN":return az>ay;case"GREATER_THAN_OR_EQUAL":return az>=ay;case"LESS_THAN":return az<ay;case"LESS_THAN_OR_EQUAL":return az<=ay;case"STARTS_WITH":return i.jqx.string.startsWithIgnoreCase(az.toString(),ay.toString());case"ENDS_WITH":return i.jqx.string.endsWithIgnoreCase(az.toString(),ay.toString());case"ENDS_WITH_CASE_SENSITIVE":return i.jqx.string.endsWith(az.toString(),ay.toString());case"STARTS_WITH_CASE_SENSITIVE":return i.jqx.string.startsWith(az.toString(),ay.toString());case"CONTAINS":return i.jqx.string.containsIgnoreCase(az.toString(),ay.toString());case"CONTAINS_CASE_SENSITIVE":return i.jqx.string.contains(az.toString(),ay.toString());case"DOES_NOT_CONTAIN":return !i.jqx.string.containsIgnoreCase(az.toString(),ay.toString());case"DOES_NOT_CONTAIN_CASE_SENSITIVE":return !i.jqx.string.contains(az.toString(),ay.toString());default:return true}};var af=new Array();if(am&&am.indexOf){if(am.indexOf("|")>=0||am.indexOf(" AND ")>=0||am.indexOf(" OR ")>=0||am.indexOf(" and ")>=0||am.indexOf(" or ")>=0){var ai=aw(ax,am);if(ai){return ai}var aj=am.indexOf(" AND ")>=0?am.split(" AND "):new Array();var ae=am.indexOf(" OR ")>=0?am.split(" OR "):new Array();var ad=am.indexOf(" and ")>=0?am.split(" and "):new Array();var ak=am.indexOf(" or ")>=0?am.split(" or "):new Array();aj=aj.concat(ad);ae=ae.concat(ak);var ac=am.indexOf("|")>=0?am.split("|"):new Array();if(ac.length>0){for(var at=0;at<ac.length;at++){ac[at]=i.trim(ac[at])}}ae=ae.concat(ac);if(aj.length>0){for(var at=0;at<aj.length;at++){if(!aj[at].indexOf(" OR ")>=0){af.push(aj[at])}}}if(ae.length>0){for(var at=0;at<ae.length;at++){if(!ae[at].indexOf(" AND ")>=0){af.push(ae[at])}}}var aq=undefined;for(var ap=0;ap<af.length;ap++){var an=af[ap];if(an&&an.indexOf&&an.indexOf("..")>=0){var ab=an.toString().split("..");if(ab.length==2){ai=ax>=ab[0]&&ax<=ab[1]}}else{var ai=aw(ax,an)}var al=ap<aj.length?"and":"or";if(aq==undefined){aq=ai}else{if(al=="or"){aq=aq||ai}else{aq=aq&&ai}}}return aq}}if(am&&am.indexOf&&am.indexOf("..")>=0){af=am.toString().split("..");if(af.length==2){return ax>=af[0]&&ax<=af[1]}}return aw(ax,am)}};var e=function(V,U,W){this.filtervalue=V;this.comparisonoperator=U;this.evaluate=function(Y,X){return W(this.filtervalue,Y,this.comparisonoperator)}}}})(jQuery);

/*validator*/
(function(a){a.jqx.jqxWidget("jqxValidator","",{});a.extend(a.jqx._jqxValidator.prototype,{defineInstance:function(){this.rules=null;this.scroll=true;this.focus=true;this.scrollDuration=300;this.scrollCallback=null;this.position="right";this.arrow=true;this.animation="fade";this.animationDuration=150;this.closeOnClick=true;this.onError=null;this.onSuccess=null;this.ownerElement=null;this._events=["validationError","validationSuccess"];this.hintPositionOffset=5;this._inputHint=[];this.rtl=false;this.hintType="tooltip"},createInstance:function(){if(this.hintType=="label"&&this.animationDuration==150){this.animationDuration=0}this._configureInputs();this._removeEventListeners();this._addEventListeners()},destroy:function(){this._removeEventListeners();this.hide()},validate:function(p){var b=true,o,e=Infinity,h,g,c,j=[],n;this.updatePosition();var k=this;var d=0;for(var f=0;f<this.rules.length;f+=1){if(typeof this.rules[f].rule==="function"){d++}}this.positions=new Array();for(var f=0;f<this.rules.length;f+=1){var m=a(this.rules[f].input);if(typeof this.rules[f].rule==="function"){var l=function(r,q){o=r;if(false==o){b=false;var i=a(q.input);c=a(q.input);j.push(c);h=c.offset().top;if(e>h){e=h;g=c}}d--;if(d==0){if(typeof p==="function"){k._handleValidation(b,e,g,j);if(p){p(b)}}}};this._validateRule(this.rules[f],l)}else{o=this._validateRule(this.rules[f])}if(false==o){b=false;c=a(this.rules[f].input);j.push(c);h=c.offset().top;if(e>h){e=h;g=c}}}if(d==0){this._handleValidation(b,e,g,j);return b}else{return undefined}},validateInput:function(b){var e=this._getRulesForInput(b),d=true;for(var c=0;c<e.length;c+=1){if(!this._validateRule(e[c])){d=false}}return d},hideHint:function(b){var d=this._getRulesForInput(b);for(var c=0;c<d.length;c+=1){this._hideHintByRule(d[c])}},hide:function(){var c;for(var b=0;b<this.rules.length;b+=1){c=this.rules[b];this._hideHintByRule(this.rules[b])}},updatePosition:function(){var c;this.positions=new Array();for(var b=0;b<this.rules.length;b+=1){c=this.rules[b];if(c.hint){this._hintLayout(c.hint,a(c.input),c.position,c)}}},_getRulesForInput:function(b){var d=[];for(var c=0;c<this.rules.length;c+=1){if(this.rules[c].input===b){d.push(this.rules[c])}}return d},_validateRule:function(f,i){var b=a(f.input),h,e=true;var d=this;var g=function(k){if(!k){var j=d.animation;d.animation=null;if(f.hint){d._hideHintByRule(f)}h=f.hintRender.apply(d,[f.message,b]);d._hintLayout(h,b,f.position,f);d._showHint(h);f.hint=h;d._removeLowPriorityHints(f);if(i){i(false,f)}d.animation=j}else{d._hideHintByRule(f);if(i){i(true,f)}}};var c=false;if(typeof f.rule==="function"){c=f.rule.call(this,b,g);if(c==true&&i){i(true,f)}}if(typeof f.rule==="function"&&c==false){if(typeof f.hintRender==="function"&&!f.hint&&!this._higherPriorityActive(f)&&b.is(":visible")){h=f.hintRender.apply(this,[f.message,b]);this._hintLayout(h,b,f.position,f);this._showHint(h);f.hint=h;this._removeLowPriorityHints(f)}e=false;if(i){i(false,f)}}else{this._hideHintByRule(f)}return e},_hideHintByRule:function(e){var c=a(e.input);var b=this,f;var d=function(){if(b.hintType!="label"){return}var g=b;if(g.position=="top"||g.position=="left"){if(c.prev().hasClass(".jqx-validator-error-label")){return}}else{if(c.next().hasClass(".jqx-validator-error-label")){return}}if(c[0].nodeName.toLowerCase()!="input"){if(c.find("input").length>0){if(c.find(".jqx-input").length>0){c.find(".jqx-input").removeClass(g.toThemeProperty("jqx-validator-error-element"))}else{if(c.is(".jqx-checkbox")){c.find(".jqx-checkbox-default").removeClass(g.toThemeProperty("jqx-validator-error-element"))}}if(c.is(".jqx-radiobutton")){c.find(".jqx-radiobutton-default").removeClass(g.toThemeProperty("jqx-validator-error-element"))}else{c.removeClass(g.toThemeProperty("jqx-validator-error-element"))}}}else{c.removeClass(g.toThemeProperty("jqx-validator-error-element"))}};if(e){f=e.hint;if(f){if(this.positions){if(this.positions[Math.round(f.offset().top)+"_"+Math.round(f.offset().left)]){this.positions[Math.round(f.offset().top)+"_"+Math.round(f.offset().left)]=null}}if(this.animation==="fade"){f.fadeOut(this.animationDuration,function(){f.remove();d()})}else{f.remove();d()}}e.hint=null}},_handleValidation:function(b,e,d,c){if(!b){this._scrollHandler(e);if(this.focus){d.focus()}this._raiseEvent(0,{invalidInputs:c});if(typeof this.onError==="function"){this.onError(c)}}else{this._raiseEvent(1);if(typeof this.onSuccess==="function"){this.onSuccess()}}},_scrollHandler:function(c){if(this.scroll){var b=this;a("html,body").animate({scrollTop:c},this.scrollDuration,function(){if(typeof b.scrollCallback==="function"){b.scrollCallback.call(b)}})}},_higherPriorityActive:function(d){var e=false,c;for(var b=this.rules.length-1;b>=0;b-=1){c=this.rules[b];if(e&&c.input===d.input&&c.hint){return true}if(c===d){e=true}}return false},_removeLowPriorityHints:function(d){var e=false,c;for(var b=0;b<this.rules.length;b+=1){c=this.rules[b];if(e&&c.input===d.input){this._hideHintByRule(c)}if(c===d){e=true}}},_getHintRuleByInput:function(b){var d;for(var c=0;c<this.rules.length;c+=1){d=this.rules[c];if(a(d.input)[0]===b[0]&&d.hint){return d}}return null},_removeEventListeners:function(){var f,b,e;for(var d=0;d<this.rules.length;d+=1){f=this.rules[d];e=f.action.split(",");b=a(f.input);for(var c=0;c<e.length;c+=1){this.removeHandler(b,a.trim(e[c])+".jqx-validator")}}},_addEventListeners:function(){var f,c;if(this.host.parents(".jqx-window").length>0){var b=this;var g=function(){b.updatePosition()};var e=this.host.parents(".jqx-window");this.addHandler(e,"closed",function(){b.hide()});this.addHandler(e,"moved",g);this.addHandler(e,"moving",g);this.addHandler(e,"resized",g);this.addHandler(e,"resizing",g);this.addHandler(a(document.parentWindow),"scroll",function(){g()})}for(var d=0;d<this.rules.length;d+=1){f=this.rules[d];c=a(f.input);this._addListenerTo(c,f)}},_addListenerTo:function(c,h){var b=this,f=h.action.split(",");var e=false;if(this._isjQWidget(c)){e=true}for(var d=0;d<f.length;d+=1){var g=a.trim(f[d]);if(e&&(g=="blur"||g=="focus")){c=c.find("input")}this.addHandler(c,g+".jqx-validator",function(i){b._validateRule(h)})}},_configureInputs:function(){var b,d;this.rules=this.rules||[];for(var c=0;c<this.rules.length;c+=1){this._handleInput(c)}},_handleInput:function(b){var c=this.rules[b];if(!c.position){c.position=this.position}if(!c.message){c.message="Validation Failed!"}if(!c.action){c.action="blur"}if(!c.hintRender){c.hintRender=this._hintRender}if(!c.rule){c.rule=null}else{this._handleRule(c)}},_handleRule:function(f){var c=f.rule,e,d,b=false;if(typeof c==="string"){if(c.indexOf("=")>=0){c=c.split("=");d=c[1].split(",");c=c[0]}e=this["_"+c];if(e){f.rule=function(g,h){return e.apply(this,[g].concat(d))}}else{b=true}}else{if(typeof c!=="function"){b=true}else{f.rule=c}}if(b){throw new Error("Wrong parameter!")}},_required:function(b){switch(this._getType(b)){case"textarea":case"password":case"jqx-input":case"text":var d=a.data(b[0]);if(d.jqxMaskedInput){var e=b.jqxMaskedInput("promptChar"),c=b.jqxMaskedInput("value");return c&&c.indexOf(e)<0}else{if(d.jqxNumberInput){return b.jqxNumberInput("inputValue")!==""}else{if(d.jqxDateTimeInput){return true}else{return a.trim(b.val())!==""}}}case"checkbox":return b.is(":checked");case"radio":return b.is(":checked");case"div":if(b.is(".jqx-checkbox")){return b.jqxCheckBox("checked")}if(b.is(".jqx-radiobutton")){return b.jqxRadioButton("checked")}return false}return false},_notNumber:function(b){return this._validateText(b,function(d){if(d==""){return true}var c=/\d/;return !c.test(d)})},_startWithLetter:function(b){return this._validateText(b,function(d){if(d==""){return true}var c=/\d/;return !c.test(d.substring(0,1))})},_number:function(b){return this._validateText(b,function(d){if(d==""){return true}var c=new Number(d);return !isNaN(c)&&isFinite(c)})},_phone:function(b){return this._validateText(b,function(d){if(d==""){return true}var c=/^\(\d{3}\)(\d){3}-(\d){4}$/;return c.test(d)})},_length:function(c,d,b){return this._minLength(c,d)&&this._maxLength(c,b)},_maxLength:function(c,b){b=parseInt(b,10);return this._validateText(c,function(d){return d.length<=b})},_minLength:function(c,b){b=parseInt(b,10);return this._validateText(c,function(d){return d.length>=b})},_email:function(b){return this._validateText(b,function(d){if(d==""){return true}var c=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return c.test(d)})},_zipCode:function(b){return this._validateText(b,function(d){if(d==""){return true}var c=/^(^\d{5}$)|(^\d{5}-\d{4}$)|(\d{3}-\d{2}-\d{4})$/;return c.test(d)})},_ssn:function(b){return this._validateText(b,function(d){if(d==""){return true}var c=/\d{3}-\d{2}-\d{4}/;return c.test(d)})},_validateText:function(b,d){var c;if(this._isTextInput(b)){if(this._isjQWidget(b)){c=b.find("input").val()}else{c=b.val()}return d(c)}return false},_isjQWidget:function(b){var c=a.data(b[0]);if(c.jqxMaskedInput||c.jqxNumberInput||c.jqxDateTimeInput){return true}return false},_isTextInput:function(b){var c=this._getType(b);return c==="text"||c==="textarea"||c==="password"||b.is(".jqx-input")},_getType:function(c){var b=c[0].tagName.toLowerCase(),d;if(b==="textarea"){return"textarea"}else{if(c.is(".jqx-input")){return"jqx-input"}else{if(b==="input"){d=a(c).attr("type")?a(c).attr("type").toLowerCase():"text";return d}}}return b},_hintRender:function(e,c){if(this.hintType=="label"){var f=a('<label class="'+this.toThemeProperty("jqx-validator-error-label")+'"></label>');f.html(e);var d=this;if(this.closeOnClick){f.click(function(){d.hideHint(c.selector)})}if(this.position=="left"||this.position=="top"){f.insertBefore(a(c))}else{f.insertAfter(a(c))}return f}var f=a('<div class="'+this.toThemeProperty("jqx-validator-hint")+' jqx-rc-all"></div>'),b=this;f.html(e);if(this.closeOnClick){f.click(function(){b.hideHint(c.selector)})}if(this.ownerElement==null){f.appendTo(document.body)}else{if(this.ownerElement.innerHTML){f.appendTo(a(this.ownerElement))}else{f.appendTo(this.ownerElement)}}return f},_hintLayout:function(h,c,b,f){if(this._hintRender===f.hintRender){var i;i=this._getPosition(c,b,h,f);if(this.hintType=="label"){var e="2px";if(this.position=="left"||this.position=="top"){e="-2px"}if(c[0].nodeName.toLowerCase()!="input"){if(c.find("input").length>0){if(c.find(".jqx-input").length>0){c.find(".jqx-input").addClass(this.toThemeProperty("jqx-validator-error-element"))}else{if(c.is(".jqx-checkbox")){c.find(".jqx-checkbox-default").addClass(this.toThemeProperty("jqx-validator-error-element"))}}if(c.is(".jqx-radiobutton")){c.find(".jqx-radiobutton-default").addClass(this.toThemeProperty("jqx-validator-error-element"))}else{c.addClass(this.toThemeProperty("jqx-validator-error-element"))}}}else{c.addClass(this.toThemeProperty("jqx-validator-error-element"))}var d=a("<span></span>");d.addClass(this.toThemeProperty("jqx-validator-hint"));d.html(h.text());d.appendTo(a(document.body));var g=d.outerWidth();d.remove();h.css({position:"relative",left:a(c).css("margin-left"),width:a(c).width(),top:e});if(b=="center"){h.css("width",g);h.css("left","0px");h.css("margin-left","auto");h.css("margin-right","auto")}return}h.css({position:"absolute",left:i.left,top:i.top});if(this.arrow){this._addArrow(c,h,b,i)}}},_showHint:function(b){if(b){if(this.animation==="fade"){b.fadeOut(0);b.fadeIn(this.animationDuration)}}},_getPosition:function(i,f,d,g){var e=i.offset(),h,c;var b=i.outerWidth();var j=i.outerHeight();if(this.rtl&&f.indexOf("left")>=0){f="right"}if(this.rtl&&f.indexOf("right")>=0){f="left"}if(this.ownerElement!=null){e={left:0,top:0};e.top=parseInt(e.top)+i.position().top;e.left=parseInt(e.left)+i.position().left}if(g&&g.hintPositionRelativeElement){var k=a(g.hintPositionRelativeElement);e=k.offset();b=k.width();j=k.height()}if(f.indexOf("top")>=0){h=e.top-j}else{if(f.indexOf("bottom")>=0){h=e.top+d.outerHeight()+this.hintPositionOffset+5}else{h=e.top}}if(f.indexOf("center")>=0){c=e.left+this.hintPositionOffset+(b-d.outerWidth())/2}else{if(f.indexOf("left")>=0){c=e.left-d.outerWidth()-this.hintPositionOffset}else{if(f.indexOf("right")>=0){c=e.left+b+this.hintPositionOffset}else{c=e.left+this.hintPositionOffset}}}if(f.indexOf(":")>=0){f=f.split(":")[1].split(",");c+=parseInt(f[0],10);h+=parseInt(f[1],10)}if(!this.positions){this.positions=new Array()}if(this.positions[Math.round(h)+"_"+Math.round(c)]){if(this.positions[Math.round(h)+"_"+Math.round(c)].top==h){h+=i.outerHeight()}}this.positions[Math.round(h)+"_"+Math.round(c)]={left:c,top:h};return{left:c,top:h}},_addArrow:function(j,e,g,k){var l=a('<div class="'+this.toThemeProperty("jqx-validator-hint-arrow")+'"></div>'),d,i;if(this.rtl&&g.indexOf("left")>=0){g="right"}if(this.rtl&&g.indexOf("right")>=0){g="left"}e.children(".jqx-validator-hint-arrow").remove();e.append(l);var c=l.outerHeight(),f=l.outerWidth(),h=e.outerHeight(),b=e.outerWidth();this._addImage(l);if(g.indexOf("top")>=0){i=h-c}else{if(g.indexOf("bottom")>=0){i=-c}else{i=(h-c)/2-c/2}}if(g.indexOf("center")>=0){d=(b-f)/2}else{if(g.indexOf("left")>=0){d=b-f/2-1}else{if(g.indexOf("right")>=0){d=-f/2}}}if(g.indexOf("topright")>=0||g.indexOf("bottomright")>=0){d=0}if(g.indexOf("topleft")>=0||g.indexOf("bottomleft")>=0){d=b-f}l.css({position:"absolute",left:d,top:i})},_addImage:function(b){var c=b.css("background-image");c=c.replace('url("',"");c=c.replace('")',"");c=c.replace("url(","");c=c.replace(")","");b.css("background-image","none");b.append('<img src="'+c+'" alt="Arrow" style="position: relative; top: 0px; left: 0px; width: '+b.width()+"px; height: "+b.height()+'px;" />')},_raiseEvent:function(b,d){var c=a.Event(this._events[b]);c.args=d;return this.host.trigger(c)},propertyChangedHandler:function(b,c,e,d){if(c==="rules"){this._configureInputs();this._removeEventListeners();this._addEventListeners()}}})})(jQuery);

/*window*/
(function(a){a.jqx.jqxWidget("jqxWindow","",{});a.extend(a.jqx._jqxWindow.prototype,{defineInstance:function(){this.height="auto";this.width=200;this.minHeight=50;this.maxHeight=600;this.minWidth=50;this.maxWidth=800;this.showCloseButton=true;this.disabled=false;this.autoOpen=true;this.keyboardCloseKey="esc";this.title="";this.content="";this.draggable=true;this.resizable=true;this.animationType="fade";this.closeAnimationDuration=250;this.showAnimationDuration=250;this.isModal=false;this.position="center";this.closeButtonSize=16;this.closeButtonAction="hide";this.modalOpacity=0.3;this.dragArea=null;this.okButton=null;this.cancelButton=null;this.dialogResult={OK:false,Cancel:false,None:true};this.collapsed=false;this.showCollapseButton=false;this.collapseAnimationDuration=150;this.collapseButtonSize=16;this.rtl=false;this.keyboardNavigation=true;this.headerHeight=null;this._events=["created","closed","moving","moved","open","collapse","expand","open","close","resize"];this.initContent=null;this.enableResize=true;this.restricter=null;this.closing=null;this._invalidArgumentExceptions={invalidHeight:"Invalid height!",invalidWidth:"Invalid width!",invalidMinHeight:"Invalid minHeight!",invalidMaxHeight:"Invalid maxHeight!",invalidMinWidth:"Invalid minWidth!",invalidMaxWidth:"Invalid maxWidth",invalidKeyCode:"Invalid keyCode!",invalidAnimationType:"Invalid animationType!",invalidCloseAnimationDuration:"Invalid closeAnimationDuration!",invalidShowAnimationDuration:"Invalid showAnimationDuration!",invalidPosition:"Invalid position!",invalidCloseButtonSize:"Invalid closeButtonSize!",invalidCollapseButtonSize:"Invalid collapseButtonSize!",invalidCloseButtonAction:"Invalid cluseButtonAction!",invalidModalOpacity:"Invalid modalOpacity!",invalidDragArea:"Invalid dragArea!",invalidDialogResult:"Invalid dialogResult!",invalidIsModal:"You can have just one modal window!"};this._enableResizeCollapseBackup;this._enableResizeBackup;this._heightBeforeCollapse;this._minHeightBeforeCollapse;this._mouseDown=false;this._isDragging=false;this._rightContentWrapper=null;this._leftContentWrapper=null;this._headerContentWrapper=null;this._closeButton=null;this._collapseButton=null;this._title=null;this._content=null;this._mousePosition={};this._windowPosition={};this._modalBackground=null;this._SCROLL_WIDTH=21;this._visible=true;this.modalBackgroundZIndex=12990;this.modalZIndex=18000;this.zIndex=9001;this._touchEvents={mousedown:a.jqx.mobile.getTouchEventName("touchstart"),mouseup:a.jqx.mobile.getTouchEventName("touchend"),mousemove:a.jqx.mobile.getTouchEventName("touchmove"),mouseenter:"mouseenter",mouseleave:"mouseleave",click:a.jqx.mobile.getTouchEventName("touchstart")}},createInstance:function(){this.host.attr("role","dialog");this.host.detach();a(document.body).append(this.host);var f=this;var g=function(){var i=parseInt(a(f.restricter).css("padding-top"));var h=parseInt(a(f.restricter).css("padding-left"));var k=parseInt(a(f.restricter).css("padding-bottom"));var m=parseInt(a(f.restricter).css("padding-right"));var l=a(f.restricter).coord();f.dragArea={left:h+l.left,top:i+l.top,width:1+m+a(f.restricter).width(),height:1+k+a(f.restricter).height()}};if(this.restricter){g()}if(this.restricter){this.addHandler(a(window),"resize."+this.element.id,function(){g()});this.addHandler(a(window),"orientationchanged."+this.element.id,function(){g()});this.addHandler(a(window),"orientationchange."+this.element.id,function(){g()})}this._isTouchDevice=a.jqx.mobile.isTouchDevice();this._validateProperties();this._createStructure();this._refresh();if(!this.autoOpen){this.host.css("display","none")}if(a.jqx.browser.msie){this.host.addClass(this.toThemeProperty("jqx-noshadow"))}if(!this.isModal){this._fixWindowZIndex()}this._setStartupSettings();this._positionWindow();this._raiseEvent(0);if(this.autoOpen){this._performLayout();var e=this;if(e.initContent){e.initContent();e._contentInitialized=true}if(this.isModal){this._fixWindowZIndex("modal-show")}}},refresh:function(){this._performLayout()},_setStartupSettings:function(){if(this.disabled){this.disable()}if(this.collapsed){this.collapsed=false;this.collapse(0)}if(!this.autoOpen){this.hide(null,0.001,true);this._visible=false}if(this.title!==null&&this.title!==""){this.setTitle(this.title)}if(this.content!==null&&this.content!==""){this.setContent(this.content)}this.title=this._headerContentWrapper.html();this.content=this._content.html()},_fixWindowZIndex:function(m){var e=a.data(document.body,"jqxwindows-list")||[],n=this.zIndex,h;if(!this.isModal){if(this._indexOf(this.host,e)<0){e.push(this.host)}a.data(document.body,"jqxwindows-list",e);if(e.length>1){var f=e[e.length-2];n=parseInt(f.css("z-index"),10)+1}}else{if(e){e=this._removeFromArray(this.host,e);a.data(document.body,"jqxwindows-list",e)}var g=a.data(document.body,"jqxwindows-modallist");if(!g){if(m=="modal-show"){var k=new Array();k.push(this.host);a.data(document.body,"jqxwindows-modallist",k);g=k}else{a.data(document.body,"jqxwindows-modallist",new Array());g=new Array()}}else{if(m=="modal-show"){g.push(this.host)}else{var i=g.indexOf(this.host);if(i!=-1){g.splice(i,1)}}}n=this.modalZIndex;var l=this;a.each(g,function(q){if(this.data()){if(this.data().jqxWindow){var o=this.data().jqxWindow.instance;o._modalBackground.css("z-index",n);o.host.css("z-index",n+1);n+=2}}});a.data(document.body,"jqxwindow-modal",this.host);return}this.host.css("z-index",n);this._sortByStyle("z-index",e)},_validateProperties:function(){try{this._validateSize();this._validateAnimationProperties();this._validateInteractionProperties();this._validateModalProperties();if(!this.position){throw new Error(this._invalidArgumentExceptions.invalidPosition)}if(isNaN(this.closeButtonSize)||parseInt(this.closeButtonSize)<0){throw new Error(this._invalidArgumentExceptions.invalidCloseButtonSize)}if(isNaN(this.collapseButtonSize)||parseInt(this.collapseButtonSize)<0){throw new Error(this._invalidArgumentExceptions.invalidCollapseButtonSize)}}catch(e){alert(e)}},_validateModalProperties:function(){if(this.modalOpacity<0||this.modalOpacity>1){throw new Error(this._invalidArgumentExceptions.invalidModalOpacity)}if(this.isModal&&!this._singleModalCheck()){throw new Error(this._invalidArgumentExceptions.invalidIsModal)}},_validateSize:function(){this._validateSizeLimits();if(this.height!=="auto"&&isNaN(parseInt(this.height))){throw new Error(this._invalidArgumentExceptions.invalidHeight)}if(this.width!=="auto"&&isNaN(parseInt(this.width))){throw new Error(this._invalidArgumentExceptions.invalidWidth)}if(this.height!=="auto"&&this.height<this.minHeight){this.height=this.minHeight}if(this.width<this.minWidth){this.width=this.minWidth}if(this.height!=="auto"&&this.height>this.maxHeight){this.height=this.maxHeight}if(this.width>this.maxWidth){this.width=this.maxWidth}if(this.dragArea===null){return}if(this.dragArea&&((this.dragArea.height!==null&&this.host.height()>this.dragArea.height)||(parseInt(this.height,10)>this.dragArea.height))||(this.dragArea.width!==null&&this.width>this.dragArea.width)||(this.maxHeight>this.dragArea.height||this.maxWidth>this.dragArea.width)){}},_validateSizeLimits:function(){if(this.maxHeight==null){this.maxHeight=9999}if(this.minWidth==null){this.minWidth=0}if(this.maxWidth==null){this.maxWidth=9999}if(this.minHeight==null){this.minHeight=0}if(isNaN(parseInt(this.minHeight))){throw new Error(this._invalidArgumentExceptions.invalidMinHeight)}if(isNaN(parseInt(this.maxHeight))){throw new Error(this._invalidArgumentExceptions.invalidMaxHeight)}if(isNaN(parseInt(this.minWidth))){throw new Error(this._invalidArgumentExceptions.invalidMinWidth)}if(isNaN(parseInt(this.maxWidth))){throw new Error(this._invalidArgumentExceptions.invalidMaxWidth)}if(this.minHeight>this.maxHeight){throw new Error(this._invalidArgumentExceptions.invalidMinHeight)}if(this.minWidth>this.maxWidth){throw new Error(this._invalidArgumentExceptions.invalidMinWidth)}},_validateAnimationProperties:function(){if(this.animationType!=="fade"&&this.animationType!=="slide"&&this.animationType!=="combined"&&this.animationType!=="none"){throw new Error(this._invalidArgumentExceptions.invalidAnimationType)}if(isNaN(parseInt(this.closeAnimationDuration),10)||this.closeAnimationDuration<0){throw new Error(this._invalidArgumentExceptions.invalidCloseAnimationDuration)}if(isNaN(parseInt(this.showAnimationDuration),10)||this.showAnimationDuration<0){throw new Error(this._invalidArgumentExceptions.invalidShowAnimationDuration)}},_validateInteractionProperties:function(){if(parseInt(this.keyCode,10)<0||parseInt(this.keyCode,10)>130&&this.keyCode!=="esc"){throw new Error(this._invalidArgumentExceptions.invalidKeyCode)}if(this.dragArea!==null&&(typeof this.dragArea.width==="undefined"||typeof this.dragArea.height==="undefined"||typeof this.dragArea.left==="undefined"||typeof this.dragArea.top==="undefined")){throw new Error(this._invalidArgumentExceptions.invalidDragArea)}if(!this.dialogResult||(!this.dialogResult.OK&&!this.dialogResult.Cancel&&!this.dialogResult.None)){throw new Error(this._invalidArgumentExceptions.invalidDialogResult)}if(this.closeButtonAction!=="hide"&&this.closeButtonAction!=="close"){throw new Error(this._invalidArgumentExceptions.invalidCloseButtonAction)}},_singleModalCheck:function(){var e=a.data(document.body,"jqxwindows-list")||[],f=e.length;while(f){f-=1;if(a(e[f].attr("id")).length>0){if(a(e[f].attr("id")).jqxWindow("isModal")){return false}}}return true},_createStructure:function(){var e=this.host.children("DIV");if(e.length===1){this._header=a("<div>"+this.host.attr("caption")+"</div>");this.host.prepend(this._header);this.host.attr("caption","");this._content=a(e[0])}else{if(e.length===2){this._header=a(e[0]);this._content=a(e[1])}else{throw new Error("Invalid structure!")}}},_refresh:function(){this._render();this._addStyles();this._performLayout();this._removeEventHandlers();this._addEventHandlers();this._initializeResize()},_render:function(){this._addHeaderWrapper();this._addCloseButton();this._addCollapseButton();this._removeModal();this._makeModal()},_addHeaderWrapper:function(){if(!this._headerContentWrapper){this._header.wrapInner('<div style="float:left;"></div>');this._headerContentWrapper=this._header.children(0);if(this.headerHeight!==null){this._header.height(this.headerHeight)}}},_addCloseButton:function(){if(!this._closeButton){this._closeButtonWrapper=a('<div class="'+this.toThemeProperty("jqx-window-close-button-background")+'"></div>');this._closeButton=a('<div style="width: 100%; height: 100%;" class="'+this.toThemeProperty("jqx-window-close-button")+'"></div>');this._closeButtonWrapper.append(this._closeButton);this._header.append(this._closeButtonWrapper)}},_addCollapseButton:function(){if(!this._collapseButton){this._collapseButtonWrapper=a('<div class="'+this.toThemeProperty("jqx-window-collapse-button-background")+'"></div>');this._collapseButton=a('<div style="width: 100%; height: 100%;" class="'+this.toThemeProperty("jqx-window-collapse-button")+'"></div>');this._collapseButtonWrapper.append(this._collapseButton);this._header.append(this._collapseButtonWrapper)}},_removeModal:function(){if(!this.isModal&&typeof this._modalBackground==="object"&&this._modalBackground!==null&&this._modalBackground.length>=1){a("."+this.toThemeProperty("jqx-window-modal")).remove();this._modalBackground=null}},focus:function(){try{this.host.focus();var f=this;setTimeout(function(){f.host.focus()},10)}catch(e){}},_makeModal:function(){if(this.isModal&&(!this._modalBackground||this._modalBackground.length<1)){var g=a.data(document.body,"jqxwindows-list");if(g){this._removeFromArray(this.host,g);a.data(document.body,"jqxwindows-list",g)}this._modalBackground=a("<div></div>");this._modalBackground.addClass(this.toThemeProperty("jqx-window-modal"));this._setModalBackgroundStyles();a(document.body).append(this._modalBackground);this.addHandler(this._modalBackground,this._getEvent("click"),function(){return false});var f=this;var e=function(i,k){var h=a(i).parents().get();for(j=0;j<h.length;j++){if(a(h[j]).is(k)){return true}}return false};this.addHandler(this._modalBackground,"mouseup",function(h){f._stopResizing(f);h.preventDefault()});this.addHandler(this._modalBackground,"mousedown",function(i){var h=f._getTabbables();if(h.length>0){h[0].focus(1);setTimeout(function(){h[0].focus(1)},100)}i.preventDefault();return false});this.addHandler(a(document),"keydown.window"+this.element.id,function(k){if(k.keyCode!==9){return}var i=f._getTabbables();var l=null;var h=null;if(i.length>0){l=i[0];h=i[i.length-1]}if(k.target==f.element){return}if(l==null){return}if(!e(k.target,f.host)){l.focus(1);return false}if(k.target===h&&!k.shiftKey){l.focus(1);return false}else{if(k.target===l&&k.shiftKey){h.focus(1);return false}}})}},_addStyles:function(){this.host.addClass(this.toThemeProperty("jqx-rc-all"));this.host.addClass(this.toThemeProperty("jqx-window"));this.host.addClass(this.toThemeProperty("jqx-popup"));if(a.jqx.browser.msie){this.host.addClass(this.toThemeProperty("jqx-noshadow"))}this.host.addClass(this.toThemeProperty("jqx-widget"));this.host.addClass(this.toThemeProperty("jqx-widget-content"));this._header.addClass(this.toThemeProperty("jqx-window-header"));this._content.addClass(this.toThemeProperty("jqx-window-content"));this._header.addClass(this.toThemeProperty("jqx-widget-header"));this._content.addClass(this.toThemeProperty("jqx-widget-content"));this._header.addClass(this.toThemeProperty("jqx-disableselect"));this._header.addClass(this.toThemeProperty("jqx-rc-t"));this._content.addClass(this.toThemeProperty("jqx-rc-b"));this.element.tabIndex=0;this.host.find("DIV").css("tab-index",0);this.host.attr("hideFocus","true").css("outline","none")},_performHeaderLayout:function(){this._handleHeaderButtons();this._header.css("position","relative");if(this.rtl){this._headerContentWrapper.css("direction","rtl");this._headerContentWrapper.css("float","right")}else{this._headerContentWrapper.css("direction","ltr");this._headerContentWrapper.css("float","left")}this._performHeaderCloseButtonLayout();this._performHeaderCollapseButtonLayout();this._centerElement(this._headerContentWrapper,this._header,"y","margin");if(this.headerHeight){this._centerElement(this._closeButtonWrapper,this._header,"y","margin");this._centerElement(this._collapseButtonWrapper,this._header,"y","margin")}},_handleHeaderButtons:function(){if(!this._closeButtonWrapper){return}if(!this.showCloseButton){this._closeButtonWrapper.css("visibility","hidden")}else{this._closeButtonWrapper.css("visibility","visible");this._closeButtonWrapper.width(this.closeButtonSize);this._closeButtonWrapper.height(this.closeButtonSize)}if(!this.showCollapseButton){this._collapseButtonWrapper.css("visibility","hidden")}else{this._collapseButtonWrapper.css("visibility","visible");this._collapseButtonWrapper.width(this.collapseButtonSize);this._collapseButtonWrapper.height(this.collapseButtonSize)}},_performHeaderCloseButtonLayout:function(){if(!this._closeButtonWrapper){return}var e=parseInt(this._header.css("padding-right"),10);if(!isNaN(e)){this._closeButtonWrapper.width(this._closeButton.width());if(!this.rtl){this._closeButtonWrapper.css("margin-right",e);this._closeButtonWrapper.css("margin-left","0px")}else{this._closeButtonWrapper.css("margin-left",e);this._closeButtonWrapper.css("margin-right","0px")}}if(!this.rtl){this._closeButtonWrapper.css({position:"absolute",right:"0px",left:""})}else{this._closeButtonWrapper.css({position:"absolute",left:"0px",right:""})}},_performHeaderCollapseButtonLayout:function(){if(!this._closeButtonWrapper){return}var e=parseInt(this._header.css("padding-right"),10);if(!isNaN(e)){this._collapseButtonWrapper.width(this.collapseButtonSize);this._collapseButtonWrapper.height(this.collapseButtonSize);if(!this.rtl){this._collapseButtonWrapper.css("margin-right",e);this._collapseButtonWrapper.css("margin-left","0px")}else{this._collapseButtonWrapper.css("margin-left",e);this._collapseButtonWrapper.css("margin-right","0px")}}if(!this.rtl){this._collapseButtonWrapper.css({position:"absolute",right:(this.showCloseButton)?this._closeButton.outerWidth(true):0,left:""})}else{this._collapseButtonWrapper.css({position:"absolute",left:(this.showCloseButton)?this._closeButton.outerWidth(true):0,right:""})}this._centerElement(this._collapseButton,this._collapseButton.parent(),"y")},_performWidgetLayout:function(){var e;if(this.width!=="auto"){this.host.css("width",this.width)}if(!this.collapsed){if(this.height!=="auto"){this.host.height(this.height)}else{this.host.height(this.host.height())}this.host.css("min-height",this.minHeight)}this._setChildrenLayout();e=this._validateMinSize();this.host.css({"max-height":this.maxHeight,"min-width":this.minWidth,"max-width":this.maxWidth});if(!e){this._setChildrenLayout()}},_setChildrenLayout:function(){this._header.width(this.host.width()-(this._header.outerWidth(true)-this._header.width()));this._content.width(this.host.width()-(this._content.outerWidth(true)-this._content.width()));this._content.height(this.host.height()-this._header.outerHeight(true)-(this._content.outerHeight(true)-this._content.height()))},_validateMinSize:function(){var f=true;if(this.minHeight<this._header.height()){this.minHeight=this._header.height();f=false}var h=this._header.children(0).outerWidth(true),e=this._header.children(1).outerWidth(true),g=h+e;if(this.minWidth<100){this.minWidth=Math.min(g,100);f=false}return f},_centerElement:function(h,f,e,g){if(typeof f.left==="number"&&typeof f.top==="number"&&typeof f.height==="number"&&typeof f.width==="number"){this._centerElementInArea(h,f,e)}else{this._centerElementInParent(h,f,e,g)}},_centerElementInParent:function(e,m,h,f){h=h.toLowerCase();if(f){f+="-"}else{f=""}if(h.indexOf("y")>=0){var g=e.outerHeight(true),k=m.height(),i=(Math.max(0,k-g))/2;e.css(f+"top",i+"px")}if(h.indexOf("x")>=0){var o=e.outerWidth(true);var n=m.width();var l=(Math.max(0,n-o))/2;e.css(f+"left",l+"px")}},_centerElementInArea:function(f,e,h){h=h.toLowerCase();if(h.indexOf("y")>=0){var g=f.outerHeight(true);var k=e.height;var i=(k-g)/2;f.css("top",i+e.top+"px")}if(h.indexOf("x")>=0){var n=f.outerWidth(true);var m=e.width;var l=(m-n)/2;f.css("left",l+e.left+"px")}},_removeEventHandlers:function(){this.removeHandler(this._header,this._getEvent("mousedown"));this.removeHandler(this._header,this._getEvent("mousemove"));this.removeHandler(this._header,"focus");this.removeHandler(a(document),this._getEvent("mousemove")+"."+this.host.attr("id"));this.removeHandler(a(document),this._getEvent("mouseup")+"."+this.host.attr("id"));this.removeHandler(this.host,"keydown");this.removeHandler(this._closeButton,this._getEvent("click"));this.removeHandler(this._closeButton,this._getEvent("mouseenter"));this.removeHandler(this._closeButton,this._getEvent("mouseleave"));this.removeHandler(this._collapseButton,this._getEvent("click"));this.removeHandler(this._collapseButton,this._getEvent("mouseenter"));this.removeHandler(this._collapseButton,this._getEvent("mouseleave"));this.removeHandler(this.host,this._getEvent("mousedown"));this.removeHandler(a(this.okButton),this._getEvent("click"),this._setDialogResultHandler);this.removeHandler(a(this.cancelButton),this._getEvent("click"),this._setDialogResultHandler);this.removeHandler(this._header,this._getEvent("mouseenter"));this.removeHandler(this._header,this._getEvent("mouseleave"));this.removeHandler(this.host,"resizing",this._windowResizeHandler)},_removeFromArray:function(e,g){var f=this._indexOf(e,g);if(f>=0){return g.splice(this._indexOf(e,g),1)}else{return g}},_sortByStyle:function(e,l){for(var h=0;h<l.length;h++){for(var f=l.length-1;f>h;f--){var m=l[f],k=l[f-1],g;if(parseInt(m.css(e),10)<parseInt(k.css(e),10)){g=m;l[f]=k;l[f-1]=g}}}},_initializeResize:function(){if(this.resizable){var e=this;this.initResize({target:this.host,alsoResize:e._content,maxWidth:e.maxWidth,minWidth:e.minWidth,maxHeight:e.maxHeight,minHeight:e.minHeight,indicatorSize:10,resizeParent:e.dragArea})}},_removeResize:function(){this.removeResize()},_getEvent:function(e){if(this._isTouchDevice){return this._touchEvents[e]}else{return e}},_addEventHandlers:function(){this._addDragDropHandlers();this._addCloseHandlers();this._addCollapseHandlers();this._addFocusHandlers();this._documentResizeHandlers();this._closeButtonHover();this._collapseButtonHover();this._addDialogButtonsHandlers();this._addHeaderHoverEffect();this._addResizeHandlers();var e=this;this.addHandler(this._header,this._getEvent("mousemove"),function(f){e._addHeaderCursorHandlers(e)})},_addResizeHandlers:function(){var e=this;this.addHandler(this.host,"resizing",this._windowResizeHandler,{self:this})},_windowResizeHandler:function(f){var e=f.data.self;e._header.width(e.host.width()-(e._header.outerWidth(true)-e._header.width()));e.width=f.args.width;e.height=f.args.height},_addHeaderHoverEffect:function(){var e=this;this.addHandler(this._header,this._getEvent("mouseenter"),function(){a(this).addClass(e.toThemeProperty("jqx-window-header-hover"))});this.addHandler(this._header,this._getEvent("mouseleave"),function(){a(this).removeClass(e.toThemeProperty("jqx-window-header-hover"))})},_addDialogButtonsHandlers:function(){if(this.okButton){this.addHandler(a(this.okButton),this._getEvent("click"),this._setDialogResultHandler,{self:this,result:"ok"})}if(this.cancelButton){this.addHandler(a(this.cancelButton),this._getEvent("click"),this._setDialogResultHandler,{self:this,result:"cancel"})}},_documentResizeHandlers:function(){var e=this;if(this.isModal){a(window).resize(function(){if(typeof e._modalBackground==="object"&&e._modalBackground!==null){if(e.isOpen()){e._modalBackground.hide()}if(!e.restricter){e._modalBackground.width(e._getDocumentSize().width);e._modalBackground.height(e._getDocumentSize().height)}else{e._modalBackground.css("left",e.dragArea.left);e._modalBackground.css("top",e.dragArea.top);e._modalBackground.width(e.dragArea.width);e._modalBackground.height(e.dragArea.height)}if(e.isOpen()){e._modalBackground.show()}}})}},_setDialogResultHandler:function(f){var e=f.data.self;e._setDialogResult(f.data.result);e.closeWindow()},_setDialogResult:function(e){this.dialogResult.OK=false;this.dialogResult.None=false;this.dialogResult.Cancel=false;e=e.toLowerCase();switch(e){case"ok":this.dialogResult.OK=true;break;case"cancel":this.dialogResult.Cancel=true;break;default:this.dialogResult.None=true}},_getDocumentSize:function(){var e=a.jqx.browser.msie&&a.jqx.browser.version<9;var f=e?4:0;var g=f;if(document.body.scrollHeight>document.body.clientHeight&&e){f=this._SCROLL_WIDTH}if(document.body.scrollWidth>document.body.clientWidth&&e){g=this._SCROLL_WIDTH}return{width:a(document).width()-f,height:a(document).height()-g}},_closeButtonHover:function(){var e=this;this.addHandler(this._closeButton,this._getEvent("mouseenter"),function(){e._closeButton.addClass(e.toThemeProperty("jqx-window-close-button-hover"))});this.addHandler(this._closeButton,this._getEvent("mouseleave"),function(){e._closeButton.removeClass(e.toThemeProperty("jqx-window-close-button-hover"))})},_collapseButtonHover:function(){var e=this;this.addHandler(this._collapseButton,this._getEvent("mouseenter"),function(){e._collapseButton.addClass(e.toThemeProperty("jqx-window-collapse-button-hover"))});this.addHandler(this._collapseButton,this._getEvent("mouseleave"),function(){e._collapseButton.removeClass(e.toThemeProperty("jqx-window-collapse-button-hover"))})},_setModalBackgroundStyles:function(){if(this.isModal){this._modalBackground.fadeTo(0,this.modalOpacity);this._modalBackground.css({position:"absolute",top:"0px",left:"0px",width:this._getDocumentSize().width,height:this._getDocumentSize().height,"z-index":this.modalBackgroundZIndex});if(!this.autoOpen){this._modalBackground.css("display","none")}}},_addFocusHandlers:function(){var e=this;this.addHandler(this.host,this._getEvent("mousedown"),function(){if(!e.isModal){e.bringToFront()}})},_indexOf:function(f,g){for(var e=0;e<g.length;e++){if(g[e][0]===f[0]){return e}}return -1},_addCloseHandlers:function(){var e=this;this.addHandler(this._closeButton,this._getEvent("click"),function(f){return e._closeWindow(f)});if(this.keyboardCloseKey!=="none"){if(typeof this.keyboardCloseKey!=="number"&&this.keyboardCloseKey.toLowerCase()==="esc"){this.keyboardCloseKey=27}}this.addHandler(this.host,"keydown",function(f){if(f.keyCode===e.keyboardCloseKey&&e.keyboardCloseKey!=null&&e.keyboardCloseKey!="none"){e._closeWindow(f)}else{e._handleKeys(f)}},{self:this});this.addHandler(this.host,"keyup",function(f){if(!e.keyboardNavigation){return}if(e._moved){var i=e.host.coord();var h=i.left;var g=i.top;e._raiseEvent(3,h,g,h,g);e._moved=false}})},_handleKeys:function(f){if(!this.keyboardNavigation){return}if(!this._headerFocused){return}var e=f.ctrlKey;var n=f.keyCode;var l=this.host.coord();var k=l.left;var m=l.top;var g=this._getDraggingArea();var h=this.host.width();var o=this.host.height();var p=true;var i=10;switch(n){case 37:if(!e){if(this.draggable){if(k-i>=0){this.move(k-i,m)}}}else{if(this.resizable){this.resize(h-i,o)}}p=false;break;case 38:if(!e){if(this.draggable){if(m-i>=0){this.move(k,m-i)}}}else{if(this.resizable){this.resize(h,o-i)}}p=false;break;case 39:if(!e){if(this.draggable){if(k+h+i<=g.width){this.move(k+i,m)}}}else{if(this.resizable){this.resize(h+i,o)}}p=false;break;case 40:if(!e){if(this.draggable){if(m+o+i<=g.height){this.move(k,m+i)}}}else{if(this.resizable){this.resize(h,o+i)}}p=false;break}if(!p){if(f.preventDefault){f.preventDefault()}if(f.stopPropagation){f.stopPropagation()}}return p},_addCollapseHandlers:function(){var e=this;this.addHandler(this._collapseButton,this._getEvent("click"),function(){if(!e.collapsed){e.collapse()}else{e.expand()}})},_closeWindow:function(e){this.closeWindow();return false},_addHeaderCursorHandlers:function(e){if(e.resizeArea&&e.resizable&&!e.collapsed){e._header.css("cursor",e._resizeWrapper.css("cursor"));return}else{if(e.draggable){e._header.css("cursor","move");return}}e._header.css("cursor","default");if(e._resizeWrapper&&e._resizeWrapper.length>0){e._resizeWrapper.css("cursor","default")}},_addDragDropHandlers:function(){if(this.draggable){var e=this;this.addHandler(this.host,"focus",function(){e._headerFocused=true});this.addHandler(this.host,"blur",function(){e._headerFocused=false});this.addHandler(this._header,"focus",function(){e._headerFocused=true;return false});this.addHandler(this._header,this._getEvent("mousedown"),function(i){e._headerMouseDownHandler(e,i);return true});this.addHandler(this._header,"dragstart",function(i){if(i.preventDefault){i.preventDefault()}return false});this.addHandler(this._header,this._getEvent("mousemove"),function(i){return e._headerMouseMoveHandler(e,i)});this.addHandler(a(document),this._getEvent("mousemove")+"."+this.host.attr("id"),function(i){return e._dragHandler(e,i)});this.addHandler(a(document),this._getEvent("mouseup")+"."+this.host.attr("id"),function(i){return e._dropHandler(e,i)});try{if(document.referrer!=""||window.frameElement){var h=null;if(window.top!=null&&window.top!=window.self){if(window.parent&&document.referrer){h=document.referrer}}if(h&&h.indexOf(document.location.host)!=-1){var g=function(i){e._dropHandler(e,i)};if(window.top.document.addEventListener){window.top.document.addEventListener("mouseup",g,false)}else{if(window.top.document.attachEvent){window.top.document.attachEvent("onmouseup",g)}}}}}catch(f){}}},_headerMouseDownHandler:function(f,g){if(!f.isModal){f.bringToFront()}if(f._resizeDirection==null){var h=a.jqx.mobile.getTouches(g);var i=h[0];var e=a.jqx.position(g);f._mousePosition.x=e.left;f._mousePosition.y=e.top;f._mouseDown=true;f._isDragging=false}},_headerMouseMoveHandler:function(f,i){if(f._mouseDown&&!f._isDragging){var k=a.jqx.mobile.getTouches(i);var l=k[0];var h=l.pageX,g=l.pageY;var e=a.jqx.position(i);h=e.left;g=e.top;if((h+3<f._mousePosition.x||h-3>f._mousePosition.x)||(g+3<f._mousePosition.y||g-3>f._mousePosition.y)){f._isDragging=true;f._mousePosition={x:h,y:g};f._windowPosition={x:f.host.coord().left,y:f.host.coord().top};a(document.body).addClass(f.toThemeProperty("jqx-disableselect"))}if(f._isTouchDevice){i.preventDefault();return true}return false}if(f._isDragging){if(f._isTouchDevice){i.preventDefault();return true}return false}return true},_dropHandler:function(g,k){var f=true;if(g._isDragging&&!g.isResizing&&!g._resizeDirection){var e=parseInt(g.host.css("left"),10),l=parseInt(g.host.css("top"),10),i=(g._isTouchDevice)?0:k.pageX,h=(g._isTouchDevice)?0:k.pageY;g.enableResize=g._enableResizeBackup;g._enableResizeBackup="undefined";g._raiseEvent(3,e,l,i,h);f=false;if(k.preventDefault!="undefined"){k.preventDefault()}if(k.originalEvent!=null){k.originalEvent.mouseHandled=true}if(k.stopPropagation!="undefined"){k.stopPropagation()}}g._isDragging=false;g._mouseDown=false;a(document.body).removeClass(g.toThemeProperty("jqx-disableselect"));return f},_dragHandler:function(p,h){if(p._isDragging&&!p.isResizing&&!p._resizeDirection){var o=(p._isTouchDevice)?h.originalEvent.which:h.which;if(typeof p._enableResizeBackup==="undefined"){p._enableResizeBackup=p.enableResize}p.enableResize=false;if(o===0&&a.jqx.browser.msie&&a.jqx.browser.version<8){return p._dropHandler(p,h)}var m=a.jqx.mobile.getTouches(h);var l=m[0];var n=a.jqx.position(h);var k=n.left,i=n.top,g=k-p._mousePosition.x,f=i-p._mousePosition.y,e=p._windowPosition.x+g,q=p._windowPosition.y+f;p.move(e,q,h);h.preventDefault();return false}return true},_validateCoordinates:function(e,l,i,k){var h=this._getDraggingArea();e=(e<h.left)?h.left:e;l=(l<h.top)?h.top:l;var f=this.host.outerWidth(true);var g=this.host.outerHeight(true);if(e+f>=h.width+h.left-2*k){e=h.width+h.left-f-k}if(l+g>=h.height+h.top-i){l=h.height+h.top-g-i}return{x:e,y:l}},_performLayout:function(){this._performHeaderLayout();this._performWidgetLayout()},_parseDragAreaAttributes:function(){if(this.dragArea!==null){this.dragArea.height=parseInt(this.dragArea.height,10);this.dragArea.width=parseInt(this.dragArea.width,10);this.dragArea.top=parseInt(this.dragArea.top,10);this.dragArea.left=parseInt(this.dragArea.left,10)}},_positionWindow:function(){this._parseDragAreaAttributes();if(this.position instanceof Array&&this.position.length===2&&typeof this.position[0]==="number"&&typeof this.position[1]==="number"){this.host.css({left:this.position[0],top:this.position[1]})}else{if(this.position instanceof Object&&this.position.x!=="undefined"&&this.position.y!="undefined"){if(this.position.left){this.host.offset(this.position)}else{this.host.css({left:this.position.x,top:this.position.y})}}else{this._positionFromLiteral()}}},_getDraggingArea:function(){var e={};e.left=((this.dragArea&&this.dragArea.left)?this.dragArea.left:0);e.top=((this.dragArea&&this.dragArea.top)?this.dragArea.top:0);e.width=((this.dragArea&&this.dragArea.width)?this.dragArea.width:this._getDocumentSize().width);e.height=((this.dragArea&&this.dragArea.height)?this.dragArea.height:this._getDocumentSize().height);return e},_positionFromLiteral:function(){if(!(this.position instanceof Array)){this.position=this.position.split(",")}var e=this.position.length,f=this._getDraggingArea();while(e){e-=1;this.position[e]=this.position[e].replace(/ /g,"");switch(this.position[e]){case"top":this.host.css("top",f.top);break;case"left":this.host.css("left",f.left);break;case"bottom":this.host.css("top",f.height-this.host.height()+f.top);break;case"right":this.host.css("left",f.left+f.width-this.host.width());break;default:if(!this.dragArea){f=a(window)}this._centerElement(this.host,f,"xy");break}}},_raiseEvent:function(g){var f=this._events[g],h=a.Event(f),e={};if(g===2||g===3){e.x=arguments[1];e.y=arguments[2];e.pageX=arguments[3];e.pageY=arguments[4]}if(f==="closed"||f==="close"){e.dialogResult=this.dialogResult}h.args=e;return this.host.trigger(h)},destroy:function(){this._removeEventHandlers();this._destroy()},_destroy:function(){if(this.restricter){this.removeHandler(a(window),"resize."+this.element.id);this.removeHandler(a(window),"orientationchanged."+this.element.id);this.removeHandler(a(window),"orientationchange."+this.element.id)}this.host.remove();if(this._modalBackground!==null){this._modalBackground.remove()}},_toClose:function(f,e){return((f&&e[0]===this.element)||(e[0]!==this.element&&typeof e[0]==="object"))},propertyChangedHandler:function(e,f,h,g){this._validateProperties();switch(f){case"rtl":this._performLayout();break;case"dragArea":this._positionWindow();break;case"collapseButtonSize":this._performLayout();break;case"closeButtonSize":this._performLayout();break;case"isModal":this._refresh();this._fixWindowZIndex();break;case"keyboardCloseKey":this._removeEventHandlers();this._addEventHandlers();break;case"disabled":if(g){this.disable()}else{this.disabled=true;this.enable()}break;case"showCloseButton":case"showCollapseButton":this._performLayout();break;case"height":this._performLayout();break;case"width":this._performLayout();break;case"title":this.setTitle(g);this.title=g;break;case"content":this.setContent(g);break;case"draggable":this._removeEventHandlers();this._addEventHandlers();this._initializeResize();break;case"resizable":this.enableResize=g;if(g){this._initializeResize()}else{this._removeResize()}break;case"position":this._positionWindow();break;case"modalOpacity":this._setModalBackgroundStyles();break;case"okButton":if(g){this._addDialogButtonsHandlers()}else{this.removeHandler(this.okButton)}break;case"cancelButton":if(g){this._addDialogButtonsHandlers()}else{this.removeHandler(this.cancelButton)}break;case"collapsed":if(g){if(!h){this.collapsed=false;this.collapse(0)}}else{if(h){this.collapsed=true;this.expand(0)}}case"theme":a.jqx.utilities.setTheme(h,g,this.host);break;case"enableResize":return;case"maxWidth":case"maxHeight":case"minWidth":case"minHeight":e._performLayout();e._removeResize();e._initializeResize();return;default:return}},collapse:function(g){if(!this.collapsed&&!this.host.is(":animated")){if(this.host.css("display")=="none"){return}var e=this,h=this._header.outerHeight(true),i=parseInt(this._header.css("border-bottom-width"),10),f=parseInt(this._header.css("margin-bottom"),10),g=!isNaN(parseInt(g))?g:this.collapseAnimationDuration;if(!isNaN(i)){h-=2*i}if(!isNaN(f)){h+=f}this._heightBeforeCollapse=this.host.height();this._minHeightBeforeCollapse=this.host.css("min-height");this.host.css("min-height",h);this.host.animate({height:h},g,function(){e.collapsed=true;e._collapseButton.addClass(e.toThemeProperty("jqx-window-collapse-button-collapsed"));e._content.css("display","none");e._raiseEvent(5);e._raiseEvent(9);a.jqx.aria(e,"aria-expanded",false)})}},expand:function(f){if(this.collapsed&&!this.host.is(":animated")){var e=this,f=!isNaN(parseInt(f))?f:this.collapseAnimationDuration;this.host.animate({height:this._heightBeforeCollapse},f,function(){e.collapsed=false;e.host.css("min-height",e._minHeightBeforeCollapse);e._collapseButton.removeClass(e.toThemeProperty("jqx-window-collapse-button-collapsed"));e._content.css("display","block");e._raiseEvent(6);e._performWidgetLayout();e._raiseEvent(9);a.jqx.aria(e,"aria-expanded",true)})}},closeAll:function(h){var h=true;var g=a.data(document.body,"jqxwindows-list"),f=g.length,e=a.data(document.body,"jqxwindow-modal")||[];while(f){f-=1;if(this._toClose(h,g[f])){g[f].jqxWindow("closeWindow","close");g.splice(f,1)}}if(this._toClose(h,e)){e.jqxWindow("closeWindow","close");a.data(document.body,"jqxwindow-modal",[])}a.data(document.body,"jqxwindows-list",g)},setTitle:function(e){a.jqx.utilities.html(this._headerContentWrapper,e);this.title=e;this._performLayout()},setContent:function(f){this._contentInitialized=false;var e=this._content,g=false;while(!g){e.css("height","auto");e.css("width","auto");if(e.is(".jqx-window")){g=true}else{e=e.parent()}}a.jqx.utilities.html(this._content,f);this._performLayout()},disable:function(){this.disabled=true;this._removeEventHandlers();this._header.addClass(this.toThemeProperty("jqx-window-header-disabled"));this._closeButton.addClass(this.toThemeProperty("jqx-window-close-button-disabled"));this._collapseButton.addClass(this.toThemeProperty("jqx-window-collapse-button-disabled"));this._content.addClass(this.toThemeProperty("jqx-window-content-disabled"));this.host.addClass(this.toThemeProperty("jqx-window-disabled"));this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled"));this._removeResize()},enable:function(){if(this.disabled){this._addEventHandlers();this._header.removeClass(this.toThemeProperty("jqx-window-header-disabled"));this._content.removeClass(this.toThemeProperty("jqx-window-content-disabled"));this._closeButton.removeClass(this.toThemeProperty("jqx-window-close-button-disabled"));this._collapseButton.removeClass(this.toThemeProperty("jqx-window-collapse-button-disabled"));this.host.removeClass(this.toThemeProperty("jqx-window-disabled"));this.host.removeClass(this.toThemeProperty("jqx-fill-state-disabled"));this.disabled=false;this._initializeResize()}},isOpen:function(){return this._visible},closeWindow:function(f){var e=this;f=(typeof f==="undefined")?this.closeButtonAction:f;this.hide(function(){if(f==="close"){e._destroy()}})},bringToFront:function(){var f=a.data(document.body,"jqxwindows-list");if(f.length==0){if(this.isModal){f=a.data(document.body,"jqxwindows-modallist")}this._fixWindowZIndex("modal-hide");this._fixWindowZIndex("modal-show");return}var l=f[f.length-1],k=parseInt(l.css("z-index"),10),g=this._indexOf(this.host,f);for(var e=f.length-1;e>g;e-=1){var h=parseInt(f[e].css("z-index"),10)-1;f[e].css("z-index",h)}this.host.css("z-index",k);this._sortByStyle("z-index",f)},hide:function(h,g,e){if(this.closing){var f=this.closing();if(f==false){return}}g=g||this.closeAnimationDuration;switch(this.animationType){case"none":this.host.css("display","none");break;case"fade":this.host.fadeOut(g,function(){if(h instanceof Function){h()}});case"slide":this.host.slideUp(g,function(){if(h instanceof Function){h()}});case"combined":this.host.hide(g,function(){if(h instanceof Function){h()}})}this._visible=false;if(this.isModal){this._modalBackground.hide();this._fixWindowZIndex("modal-hide")}if(e!==true){this._raiseEvent(1);this._raiseEvent(8)}},open:function(f,e){this.show(f,e)},close:function(g,f,e){this.hide(g,f,e)},show:function(h,g){this._setDialogResult("none");g=g||this.showAnimationDuration;switch(this.animationType){case"none":this.host.css("display","block");break;case"fade":this.host.fadeIn(g,function(){if(h instanceof Function){h()}});break;case"slide":this.host.slideDown(g,function(){if(h instanceof Function){h()}});break;case"combined":this.host.show(g,function(){if(h instanceof Function){h()}});break}if(this.isModal){this._modalBackground.show();this._fixWindowZIndex("modal-show")}var f=this;if(!this._visible){if(g>150&&this.animationType!="none"){setTimeout(function(){if(!f._contentInitialized){if(f.initContent){f.initContent();f._contentInitialized=true}}f._raiseEvent(7);f._raiseEvent(9)},g-150)}else{if(!f._contentInitialized){if(f.initContent){f.initContent();f._contentInitialized=true}}this._raiseEvent(7);f._raiseEvent(9)}}this._visible=true;this._performLayout();var e=function(){f._content.focus()};e();setTimeout(function(){e()},100)},_getTabbables:function(){var f=this._content.find("*");var e=new Array();a.each(f,function(){if(d(this)){e[e.length]=this}});return e},move:function(q,p,e,h){var g=0,f=0,n,k,i,q=parseInt(q,10),p=parseInt(p,10);if(a.jqx.browser.msie){if(a(window).width()>a(document).width()&&!this.dragArea){f=this._SCROLL_WIDTH}if(a(window).height()<a(document).height()&&document.documentElement.clientWidth>document.documentElement.scrollWidth&&!this.dragArea){g=this._SCROLL_WIDTH}}n=this._validateCoordinates(q,p,f,g);if(parseInt(this.host.css("left"),10)!==n.x||parseInt(this.host.css("top"),10)!==n.y){if(e){var m=a.jqx.mobile.getTouches(e);var l=m[0];var o=a.jqx.position(e);k=o.left;i=o.top}if(k==undefined){k=q}if(i==undefined){i=p}if(h!==false){this._raiseEvent(2,n.x,n.y,k,i)}}this.element.style.left=n.x+"px";this.element.style.top=n.y+"px";this._moved=true}});function c(g,e){var k=g.nodeName.toLowerCase();if("area"===k){var i=g.parentNode,h=i.name,f;if(!g.href||!h||i.nodeName.toLowerCase()!=="map"){return false}f=a("img[usemap=#"+h+"]")[0];return !!f&&b(f)}return(/input|select|textarea|button|object/.test(k)?!g.disabled:"a"==k?g.href||e:e)&&b(g)}function b(e){return !a(e).parents().andSelf().filter(function(){return a.css(this,"visibility")==="hidden"||a.expr.filters.hidden(this)}).length}function d(g){var e=a.attr(g,"tabindex"),f=isNaN(e);return(f||e>=0)&&c(g,!f)}}(jQuery));(function(b){var a=(function(c){return{resizeConfig:function(){this.resizeTarget=null;this.resizeIndicatorSize=5;this.resizeTargetChildren=null;this.isResizing=false;this.resizeArea=false;this.minWidth=1;this.maxWidth=100;this.minHeight=1;this.maxHeight=100;this.resizeParent=null;this.enableResize=true;this._cursorBackup;this._resizeEvents=["resizing","resized","resize"];this._resizeMouseDown=false;this._resizeCurrentMode=null;this._mouseResizePosition={};this._resizeMethods=null;this._SCROLL_WIDTH=21},_resizeExceptions:{invalidTarget:"Invalid target!",invalidMinHeight:"Invalid minimal height!",invalidMaxHeight:"Invalid maximum height!",invalidMinWidth:"Invalid minimum width!",invalidMaxWidth:"Invalid maximum width!",invalidIndicatorSize:"Invalid indicator size!",invalidSize:"Invalid size!"},removeResize:function(){if(this.resizeTarget){var f=c(this.resizeTarget.children(".jqx-resize"));f.detach();var e=f.children();this._removeResizeEventListeners();for(var d=0;d<e.length;d+=1){c(e[d]).detach();this.resizeTarget.append(e[d])}f.remove()}},initResize:function(d){this.resizeConfig();this.resizeTarget=c(d.target);this.resizeIndicatorSize=d.indicatorSize||10;this.maxWidth=d.maxWidth||100;this.minWidth=d.minWidth||1;this.maxHeight=d.maxHeight||100;this.minHeight=d.minHeight||1;this.resizeParent=d.resizeParent;this._parseResizeParentProperties();this._validateResizeProperties();this._validateResizeTargetDimensions();this._getChildren(this.resizeTarget.maxWidth,this.resizeTarget.minWidth,this.resizeTarget.maxHeight,this.resizeTarget.minHeight,d.alsoResize);this._refreshResize();this._cursorBackup=this.resizeTarget.css("cursor");if(this._cursorBackup==="auto"){this._cursorBackup="default"}},_validateResizeTargetDimensions:function(){this.resizeTarget.maxWidth=this.maxWidth;this.resizeTarget.minWidth=((3*this.resizeIndicatorSize>this.minWidth)?3*this.resizeIndicatorSize:this.minWidth);this.resizeTarget.maxHeight=this.maxHeight;this.resizeTarget.minHeight=((3*this.resizeIndicatorSize>this.minHeight)?3*this.resizeIndicatorSize:this.minHeight)},_parseResizeParentProperties:function(){if(this.resizeParent){this.resizeParent.left=parseInt(this.resizeParent.left,10);this.resizeParent.top=parseInt(this.resizeParent.top,10);this.resizeParent.width=parseInt(this.resizeParent.width,10);this.resizeParent.height=parseInt(this.resizeParent.height,10)}},_getChildren:function(h,e,g,i,d){this.resizeTargetChildren=c(d);this.resizeTargetChildren.toArray();var f=this.resizeTargetChildren.length;while(f){f-=1;this.resizeTargetChildren[f]=c(this.resizeTargetChildren[f])}},_refreshResize:function(){this._renderResize();this._performResizeLayout();this._removeResizeEventListeners();this._addResizeEventHandlers()},_renderResize:function(){this.resizeTarget.wrapInner(c("<div></div>"));this._resizeWrapper=this.resizeTarget.children(0);this._resizeWrapper.addClass("jqx-resize");this._resizeWrapper.addClass("jqx-rc-all");this._resizeWrapper.css("z-index",8000)},_performResizeLayout:function(){this._resizeWrapper.height(this.resizeTarget.height());this._resizeWrapper.width(this.resizeTarget.width())},_removeResizeEventListeners:function(){var d=this.resizeTarget.attr("id");this.removeHandler(this._resizeWrapper,"mousemove.resize"+d);this.removeHandler(this._resizeWrapper,"mousedown.resize"+d);this.removeHandler(c(document),"mousemove.resize"+d);this.removeHandler(c(document),"mouseup.resize"+d)},_addResizeEventHandlers:function(){var g=this.resizeTarget.attr("id");var d=this;this.addHandler(this._resizeWrapper,"mousemove.resize."+g,function(h){d._resizeCursorChangeHandler(d,h)});this.addHandler(this._resizeWrapper,"mousedown.resize."+g,function(h){d._resizeMouseDownHandler(d,h)});this.addHandler(c(document),"mousemove.resize."+g,function(h){return d._resizeHandler(d,h)});this.addHandler(c(document),"mouseup.resize."+g,function(h){d._stopResizing(d,h)});try{if(document.referrer!=""||window.frameElement){var f=function(h){d._stopResizing(d,h)};if(window.top.document.addEventListener){window.top.document.addEventListener("mouseup",f,false)}else{if(window.top.document.attachEvent){window.top.document.attachEvent("onmouseup",f)}}}}catch(e){}},_stopResizing:function(d,e){if(d.enableResize){if(d.isResizing){d._raiseResizeEvent(1)}d._resizeMouseDown=false;d.isResizing=false;d._resizeDirection=null;if(d.resizeTarget){d.resizeTarget.removeClass("jqx-disableselect")}}if(d._cursorBackup=="undefined"){d._cursorBackup="default"}if(d._resizeWrapper){d._resizeWrapper.css("cursor",d._cursorBackup)}},_resizeHandler:function(d,e){if(d.enableResize&&!d.collapsed){if(d.isResizing&&d._resizeDirection){if(e.which===0&&c.jqx.browser.msie&&c.jqx.browser.version<9){d._stopResizing(e)}d._performResize(e.pageX,e.pageY);return false}else{return d._resizeCaptureCursor(e.pageX,e.pageY)}}},_resizeCaptureCursor:function(e,d){if(this._resizeMouseDown&&!this.isResizing&&this._resizeDirection){if((e+3<this._mouseResizePosition.x||e-3>this._mouseResizePosition.x)||(d+3<this._mouseResizePosition.y||d-3>this._mouseResizePosition.y)){this._changeCursor(e-parseInt(this.resizeTarget.css("left")),d-parseInt(this.resizeTarget.css("top")));this._mouseResizePosition={x:e,y:d};this._prepareResizeMethods(this._resizeDirection);this._resizeBackupData();this.isResizing=true;this.resizeTarget.addClass("jqx-disableselect");return false}}},_resizeBackupData:function(){this.resizeTarget.lastWidth=this.resizeTarget.width();this.resizeTarget.lastHeight=this.resizeTarget.height();this.resizeTarget.x=parseInt(this.resizeTarget.css("left"),10);this.resizeTarget.y=parseInt(this.resizeTarget.css("top"),10);this._resizeBackupChildrenSize()},_resizeBackupChildrenSize:function(){var d=this.resizeTargetChildren.length,e;while(d){d-=1;e=this.resizeTargetChildren[d];this.resizeTargetChildren[d].lastWidth=e.width();this.resizeTargetChildren[d].lastHeight=e.height()}},_performResize:function(g,f){var e=g-this._mouseResizePosition.x,d=f-this._mouseResizePosition.y;if(this._resizeDirection){this._resize(this.resizeTarget,e,d)}},_resizeCursorChangeHandler:function(d,e){if(d.enableResize&&!d.collapsed){if(!d.isResizing){d._changeCursor(e.pageX-parseInt(d.resizeTarget.css("left")),e.pageY-parseInt(d.resizeTarget.css("top")))}}},_resizeMouseDownHandler:function(d,e){if(d.enableResize){if(d._resizeDirection!==null){d._resizeMouseDown=true;d._mouseResizePosition.x=e.pageX;d._mouseResizePosition.y=e.pageY;e.preventDefault()}}},_validateResizeProperties:function(){try{if(!this.resizeTarget||this.resizeTarget.length!==1){throw new Error(this._resizeExceptions.invalidTarget)}if(this.minHeight<0||isNaN(parseInt(this.minHeight))){throw new Error(this._resizeExceptions.invalidMinHeight)}if(this.maxHeight<=0||isNaN(parseInt(this.maxHeight))){throw new Error(this._resizeExceptions.invalidMaxHeight)}if(this.minWidth<0||isNaN(parseInt(this.minWidth))){throw new Error(this._resizeExceptions.invalidMinWidth)}if(this.maxWidth<0||isNaN(parseInt(this.maxWidth))){throw new Error(this._resizeExceptions.invalidMaxWidth)}if(this.resizeIndicatorSize<0||isNaN(parseInt(this.resizeIndicatorSize))){throw new Error(this._resizeExceptions.invalidIndicatorSize)}if(this.minHeight>this.maxHeight||this.minWidth>this.maxWidth){throw new Error(this._resizeExceptions.invalidSize)}if(this.resizeParent&&this.resizeParent.width&&this.resizeParent.height&&this.resizeParent.left&&this.resizeParent.top&&((this.resizeParent.width<this.resizeTarget.width()||this.resizeParent.width<this.maxWidth)||(this.resizeParent.height<this.resizeTarget.height()||this.resizeParent.height<this.maxHeight))){throw new Error(this._resizeExceptions.invalidSize)}}catch(d){alert(d)}},_changeCursor:function(d,e){if(this.isResizing||this._resizeMouseDown){return}this.resizeArea=true;if(d<=this.resizeIndicatorSize&&d>=0&&e<=this.resizeIndicatorSize&&e>0){this._resizeWrapper.css("cursor","nw-resize");this._resizeDirection="topleft"}else{if(e<=this.resizeIndicatorSize&&e>0&&d>=this.resizeTarget.width()-this.resizeIndicatorSize){this._resizeWrapper.css("cursor","ne-resize");this._resizeDirection="topright"}else{if(e>=this.resizeTarget.height()-this.resizeIndicatorSize&&e<this.resizeTarget.height()&&d<=this.resizeIndicatorSize&&d>=0){this._resizeWrapper.css("cursor","sw-resize");this._resizeDirection="bottomleft"}else{if(e>=this.resizeTarget.height()-this.resizeIndicatorSize&&e<this.resizeTarget.height()&&d>=this.resizeTarget.width()-this.resizeIndicatorSize&&d<this.resizeTarget.width()){this._resizeWrapper.css("cursor","se-resize");this._resizeDirection="bottomright"}else{if(d<=this.resizeIndicatorSize&&d>=0){this._resizeWrapper.css("cursor","e-resize");this._resizeDirection="left"}else{if(e<=this.resizeIndicatorSize&&e>0){this._resizeWrapper.css("cursor","n-resize");this._resizeDirection="top"}else{if(e>=this.resizeTarget.height()-this.resizeIndicatorSize&&e<this.resizeTarget.height()){this._resizeWrapper.css("cursor","n-resize");this._resizeDirection="bottom"}else{if(d>=this.resizeTarget.width()-this.resizeIndicatorSize&&d<this.resizeTarget.width()){this._resizeWrapper.css("cursor","e-resize");this._resizeDirection="right"}else{this._resizeWrapper.css("cursor",this._cursorBackup);this._resizeDirection=null;this.resizeArea=false}}}}}}}}},_prepareResizeMethods:function(d){this._resizeMethods=[];if(d.indexOf("left")>=0){this._resizeMethods.push(this._resizeLeft)}if(d.indexOf("top")>=0){this._resizeMethods.push(this._resizeTop)}if(d.indexOf("right")>=0){this._resizeMethods.push(this._resizeRight)}if(d.indexOf("bottom")>=0){this._resizeMethods.push(this._resizeBottom)}},_validateResize:function(g,d,h,f,e){if(h==="horizontal"||h==="both"){return this._validateWidth(g,f,e)}else{if(h==="vertical"||h==="both"){return this._validateHeight(d,f,e)}}return{result:false,fix:0}},_getParent:function(){if(this.resizeParent!==null&&this.resizeParent!=="undefined"&&this.resizeParent.height&&this.resizeParent.width&&this.resizeParent.top&&this.resizeParent.left){return this.resizeParent}return{left:0,top:0,width:c(document).width(),height:c(document).height()}},_validateHeight:function(f,k,i){var l=0,e=2,d=false,h=f,g=this._getParent();if(c(window).width()>c(document).width()&&c.jqx.browser.msie&&g.height===c(document).height()){l=this._SCROLL_WIDTH}if(i==="bottom"&&(f+k.position().top+l+e>g.height+g.top)){return{fix:g.height-k.position().top-l-e+g.top,result:false}}if(i==="top"&&k.lastHeight-f+k.y<g.top){return{fix:f+(k.lastHeight-f+k.y)-g.top,result:false}}if(f<k.minHeight){return{fix:k.minHeight,result:false}}if(f>k.maxHeight){return{fix:k.maxHeight,result:false}}return{result:true,fix:f}},_validateWidth:function(k,i,h){var l=0,e=2,d=false,g=k,f=this._getParent();if(c(window).height()<c(document).height()&&c.jqx.browser.msie&&document.documentElement.clientWidth>=document.documentElement.scrollWidth&&f.width===c(document).width()){l=this._SCROLL_WIDTH}if(h==="right"&&(k+i.position().left+l+e>f.width+f.left)){return{fix:f.width-i.position().left-l-e+f.left,result:false}}if(h==="left"&&(i.lastWidth-k+i.x<f.left)){return{fix:k+(i.lastWidth-k+i.x)-f.left,result:false}}if(k<i.minWidth){return{fix:i.minWidth,result:false}}if(k>i.maxWidth){return{fix:i.maxWidth,result:false}}return{result:true,fix:k}},_resize:function(h,e,d){var l=this._resizeDirection;var k=this._resizeMethods.length;for(var g=0;g<k;g++){if(this._resizeMethods[g] instanceof Function){var f={element:h,x:e,y:d,self:this};this._resizeMethods[g](f)}}this._performResizeLayout()},resize:function(g,d){if(this.resizable){var f=g-this.host.width();var e=d-this.host.height();var h="right";if(e!=0){h="bottom"}this._resizeDirection=h;this._prepareResizeMethods(this._resizeDirection);this._resizeBackupData();this.isResizing=true;this._resize(this.resizeTarget,f,e);this.isResizing=false}},_setResizeChildrenSize:function(e,f){var h=this.resizeTargetChildren.length;while(h){h--;if(f==="width"){var g=this.resizeTargetChildren[h].lastWidth-(this.resizeTarget.lastWidth-e);if(g<this.resizeTarget.maxWidth&&g>0){this.resizeTargetChildren[h].width(g)}}else{var d=this.resizeTargetChildren[h].lastHeight-(this.resizeTarget.lastHeight-e);if(d<this.resizeTarget.maxHeight&&d>0){this.resizeTargetChildren[h].height(d)}}}},_resizeRight:function(e){var f=e.element.lastWidth+e.x,d=e.self._validateResize(f,0,"horizontal",e.element,"right");if(!d.result){f=d.fix}if(e.element.width()!==f){e.self._setResizeChildrenSize(f,"width");e.element.width(f);e.self._raiseResizeEvent(0)}return f},_resizeLeft:function(f){var g=f.element.lastWidth-f.x,e=f.self._validateResize(g,0,"horizontal",f.element,"left"),d=f.element.x+f.x;if(!e.result){d=f.element.x+(f.element.lastWidth-e.fix);g=e.fix;return}if(f.element.width()!==g){f.self._setResizeChildrenSize(g,"width");f.element.width(g);f.element.css("left",d);f.self._raiseResizeEvent(0)}return g},_resizeBottom:function(f){var e=f.element.lastHeight+f.y,d=f.self._validateResize(0,e,"vertical",f.element,"bottom");if(!d.result){e=d.fix}if(f.element.height()!==e){f.self._setResizeChildrenSize(e,"height");f.element.height(e);f.self._raiseResizeEvent(0)}return e},_resizeTop:function(f){var e=f.element.lastHeight-f.y,d=f.self._validateResize(0,e,"vertical",f.element,"top"),g=f.element.y+f.y;if(!d.result){g=f.element.y+(f.element.lastHeight-d.fix);e=d.fix;return}if(f.element.height()!==e){f.self._setResizeChildrenSize(e,"height");f.element.height(e);f.element.css("top",g);f.self._raiseResizeEvent(0)}return e},_raiseResizeEvent:function(f){var e=this._resizeEvents[f],g=c.Event(e),d={};d.width=parseInt(this.resizeTarget[0].style.width);d.height=parseInt(this.resizeTarget[0].style.height);g.args=d;if(f==0){var e=this._resizeEvents[2],h=c.Event(e);h.args=d;this.resizeTarget.trigger(h)}return this.resizeTarget.trigger(g)}}}(jQuery));b.extend(b.jqx._jqxWindow.prototype,a)}(jQuery));

/*chart*/
(function(a){a.jqx.jqxWidget("jqxChart","",{});a.extend(a.jqx._jqxChart.prototype,{defineInstance:function(){this.title="Title";this.description="Description";this.source=[];this.seriesGroups=[];this.categoryAxis={};this.renderEngine=undefined;this.enableAnimations=true;this.enableAxisTextAnimation=false;this.backgroundImage=this.background=undefined;this.padding={left:5,top:5,right:5,bottom:5};this.backgroundColor="#FFFFFF";this.showBorderLine=true;this.borderLineWidth=1;this.titlePadding={left:5,top:5,right:5,bottom:10};this.showLegend=true;this.legendLayout=undefined;this.enabled=true;this.colorScheme="scheme01";this.animationDuration=500;this.showToolTips=true;this.toolTipShowDelay=this.toolTipDelay=500;this.toolTipHideDelay=4000;this.toolTipFormatFunction=undefined;this.columnSeriesOverlap=false;this.rtl=false;this.legendPosition=null;this.borderLineColor=null;this.borderColor=null;this.greyScale=false;this.axisPadding=5;this.enableCrosshairs=false;this.crosshairsColor="#888888";this.crosshairsDashStyle="2,2";this.crosshairsLineWidth=1},createInstance:function(e){if(!a.jqx.dataAdapter){throw"jqxdata.js is not loaded";return}this._refreshOnDownloadComlete();var c=this;this.host.on("mousemove",function(g){if(c.enabled==false){return}g.preventDefault();var f=g.pageX||g.clientX||g.screenX;var i=g.pageY||g.clientY||g.screenY;var h=c.host.offset();f-=h.left;i-=h.top;c.onmousemove(f,i)});this.addHandler(this.host,"mouseleave",function(f){if(c.enabled==false){return}if(c._plotRect&&c._mouseX>=c._plotRect.x&&c._mouseX<=c._plotRect.x+c._plotRect.width&&c._mouseY>=c._plotRect.y&&c._mouseY<=c._plotRect.y+c._plotRect.height){return}c._cancelTooltipTimer();c._hideToolTip(0)});var d=a.jqx.mobile.isTouchDevice();this.addHandler(this.host,"click",function(g){if(c.enabled==false){return}if(!d){c._cancelTooltipTimer();c._hideToolTip();c._unselect()}if(c._pointMarker&&c._pointMarker.element){var h=c.seriesGroups[c._pointMarker.gidx];var f=h.series[c._pointMarker.sidx];c._raiseItemEvent("click",h,f,c._pointMarker.iidx)}});if(this.element.style){var b=false;if(this.element.style.width!=null){b|=this.element.style.width.toString().indexOf("%")!=-1}if(this.element.style.height!=null){b|=this.element.style.height.toString().indexOf("%")!=-1}if(b){a(window).resize(function(){if(c.timer){clearTimeout(c.timer)}var f=a.jqx.browser.msie?200:1;c.timer=setTimeout(function(){var g=c.enableAnimations;c.enableAnimations=false;c.refresh();c.enableAnimations=g},f)})}}},_refreshOnDownloadComlete:function(){if(this.source instanceof a.jqx.dataAdapter){var c=this;var d=this.source._options;if(d==undefined||(d!=undefined&&!d.autoBind)){this.source.autoSync=false;this.source.dataBind()}if(this.source.records.length==0){var b=function(){if(c.ready){c.ready()}c.refresh()};this.source.unbindDownloadComplete(this.element.id);this.source.bindDownloadComplete(this.element.id,b)}else{if(c.ready){c.ready()}}this.source.unbindBindingUpdate(this.element.id);this.source.bindBindingUpdate(this.element.id,function(){c.refresh()})}},propertyChangedHandler:function(b,c,e,d){if(this.isInitialized==undefined||this.isInitialized==false){return}if(c=="source"){this._refreshOnDownloadComlete()}this.refresh()},_internalRefresh:function(){if(a.jqx.isHidden(this.host)){return}this._stopAnimations();if(!this._isToggleRefresh&&!this._isUpdate){this.host.empty();this._toolTipElement=undefined;var c=null;if(document.createElementNS&&(this.renderEngine=="SVG"||this.renderEngine==undefined)){c=new a.jqx.svgRenderer();if(!c.init(this.host)){if(this.renderEngine=="SVG"){throw"Your browser does not support SVG"}return}}if(c==null&&this.renderEngine!="HTML5"){c=new a.jqx.vmlRenderer();if(!c.init(this.host)){if(this.renderEngine=="VML"){throw"Your browser does not support VML"}return}this._isVML=true}if(c==null&&(this.renderEngine=="HTML5"||this.renderEngine==undefined)){c=new a.jqx.HTML5Renderer();if(!c.init(this.host)){throw"Your browser does not support HTML5 Canvas"}}this.renderer=c}var b=this.renderer.getRect();this._render({x:1,y:1,width:b.width,height:b.height});if(this.renderer instanceof a.jqx.HTML5Renderer){this.renderer.refresh()}this._isUpdate=false},saveAsPNG:function(c,b){return this._saveAsImage("png",c,b)},saveAsJPEG:function(c,b){return this._saveAsImage("jpeg",c,b)},_saveAsImage:function(j,g,l){if(g==undefined||g==""){g="chart."+j}if(l==undefined||l==""){l="http://www.jqwidgets.com/export_server/export.php"}var k=this.renderEngine;var f=this.enableAnimations;this.enableAnimations=false;this.renderEngine="HTML5";if(this.renderEngine!=k){try{this.refresh()}catch(i){this.renderEngine=k;this.refresh();this.enableAnimations=f}}try{var d=this.renderer.getContainer()[0];if(d){var h=d.toDataURL("image/"+j);h=h.replace("data:image/"+j+";base64,","");var c=document.createElement("form");c.method="POST";c.action=l;c.style.display="none";document.body.appendChild(c);var m=document.createElement("input");m.name="fname";m.value=g;m.style.display="none";var b=document.createElement("input");b.name="content";b.value=h;b.style.display="none";c.appendChild(m);c.appendChild(b);c.submit();document.body.removeChild(c)}}catch(i){}if(this.renderEngine!=k){this.renderEngine=k;this.refresh();this.enableAnimations=f}return true},refresh:function(){this._internalRefresh()},update:function(){this._isUpdate=true;this._internalRefresh()},_seriesTypes:["line","stackedline","stackedline100","spline","stackedspline","stackedspline100","stepline","stackedstepline","stackedstepline100","area","stackedarea","stackedarea100","splinearea","stackedsplinearea","stackedsplinearea100","steparea","stackedsteparea","stackedsteparea100","rangearea","splinerangearea","steprangearea","column","stackedcolumn","stackedcolumn100","rangecolumn","pie","donut","scatter","bubble","spider"],_render:function(v){if(!this._isToggleRefresh&&this._isUpdate&&this._renderData){this._renderDataDeepCopy()}this._renderData=[];this.renderer.clear();this._unselect();this._hideToolTip(0);var l=this.backgroundImage;if(l==undefined||l==""){this.host.css({"background-image":""})}else{this.host.css({"background-image":(l.indexOf("(")!=-1?l:"url('"+l+"')")})}var P=this.padding||{left:5,top:5,right:5,bottom:5};var o=this.renderer.createClipRect(v);var D=this.renderer.beginGroup();this.renderer.setClip(D,o);var X=this.renderer.rect(v.x,v.y,v.width-2,v.height-2);if(l==undefined||l==""){this.renderer.attr(X,{fill:this.background||this.backgroundColor||"white"})}else{this.renderer.attr(X,{fill:"transparent"})}if(this.showBorderLine!=false){var A=this.borderLineColor==undefined?this.borderColor:this.borderLineColor;if(A==undefined){A="#888888"}var m=this.borderLineWidth;if(isNaN(m)||m<0||m>10){m=1}this.renderer.attr(X,{"stroke-width":m,stroke:A})}var M={x:P.left,y:P.top,width:v.width-P.left-P.right,height:v.height-P.top-P.bottom};this._paddedRect=M;var e=this.titlePadding||{left:2,top:2,right:2,bottom:2};if(this.title&&this.title.length>0){var J=this.toThemeProperty("jqx-chart-title-text",null);var k=this.renderer.measureText(this.title,0,{"class":J});this.renderer.text(this.title,M.x+e.left,M.y+e.top,M.width-(e.left+e.right),k.height,0,{"class":J},true,"center","center");M.y+=k.height;M.height-=k.height}if(this.description&&this.description.length>0){var K=this.toThemeProperty("jqx-chart-title-description",null);var k=this.renderer.measureText(this.description,0,{"class":K});this.renderer.text(this.description,M.x+e.left,M.y+e.top,M.width-(e.left+e.right),k.height,0,{"class":K},true,"center","center");M.y+=k.height;M.height-=k.height}if(this.title||this.description){M.y+=(e.bottom+e.top);M.height-=(e.bottom+e.top)}var b={x:M.x,y:M.y,width:M.width,height:M.height};this._buildStats(b);var B=this._isPieOnlySeries();var s={};for(var Q=0;Q<this.seriesGroups.length&&!B;Q++){if(this.seriesGroups[Q].type=="pie"||this.seriesGroups[Q].type=="donut"){continue}var z=this.seriesGroups[Q].orientation=="horizontal";var t=this.seriesGroups[Q].valueAxis;if(!t){throw"seriesGroup["+Q+"] is missing "+(z?"categoryAxis":"valueAxis")+" definition"}var d=this._getCategoryAxis(Q);if(!d){throw"seriesGroup["+Q+"] is missing "+(!z?"categoryAxis":"valueAxis")+" definition"}var r=d==this.categoryAxis?-1:Q;s[r]=0}var L=this.axisPadding;if(isNaN(L)){L=5}var p={left:0,right:0,leftCount:0,rightCount:0};var n=[];for(var Q=0;Q<this.seriesGroups.length;Q++){var U=this.seriesGroups[Q];if(U.type=="pie"||U.type=="donut"||U.spider==true||U.polar==true){n.push(0);continue}var z=U.orientation=="horizontal";var r=this._getCategoryAxis(Q)==this.categoryAxis?-1:Q;var I=t.axisSize;var f={x:0,y:b.y,width:b.width,height:b.height};var H=undefined;if(!I||I=="auto"){if(z){if(!this._isGroupVisible(Q)){continue}I=this._renderCategoryAxis(Q,f,true,b).width;if((s[r]&1)==1){I=0}else{s[r]|=1}H=this._getCategoryAxis(Q).position}else{I=this._renderValueAxis(Q,f,true,b).width;if(U.valueAxis){H=U.valueAxis.position}}}if(H!="left"&&this.rtl==true){H="right"}if(H!="right"){H="left"}if(p[H+"Count"]>0&&p[H]>0&&I>0){p[H]+=L}n.push({width:I,position:H,xRel:p[H]});p[H]+=I;p[H+"Count"]++}var T={top:0,bottom:0,topCount:0,bottomCount:0};var N=[];for(var Q=0;Q<this.seriesGroups.length;Q++){var U=this.seriesGroups[Q];if(U.type=="pie"||U.type=="donut"||U.spider==true||U.polar==true){N.push(0);continue}var z=U.orientation=="horizontal";var d=this._getCategoryAxis(Q);var r=d==this.categoryAxis?-1:Q;H=undefined;var S=d.axisSize;if(!S||S=="auto"){if(z){S=this._renderValueAxis(Q,{x:0,y:0,width:10000000,height:0},true,b).height;if(this.seriesGroups[Q].valueAxis){H=U.valueAxis.position}}else{if(!this._isGroupVisible(Q)){N.push(0);continue}S=this._renderCategoryAxis(Q,{x:0,y:0,width:10000000,height:0},true).height;if((s[r]&2)==2){S=0}else{s[r]|=2}H=this._getCategoryAxis(Q).position}}if(H!="top"){H="bottom"}if(T[H+"Count"]>0&&T[H]>0&&S>0){T[H]+=L}N.push({height:S,position:H,yRel:T[H]});T[H]+=S;T[H+"Count"]++}this._createAnimationGroup("series");this._plotRect=b;var q=(this.showLegend!=false);var u=!q||this.legendLayout?{width:0,height:0}:this._renderLegend(M,true);if(M.height<T.top+T.bottom+u.height||M.width<p.left+p.right){return}b.height-=T.top+T.bottom+u.height;b.x+=p.left;b.width-=p.left+p.right;b.y+=T.top;if(!B){var V=this.categoryAxis.tickMarksColor||"#888888";for(var Q=0;Q<this.seriesGroups.length;Q++){var U=this.seriesGroups[Q];if(U.polar==true||U.spider==true){continue}var z=U.orientation=="horizontal";var r=this._getCategoryAxis(Q)==this.categoryAxis?-1:Q;var f={x:b.x,y:0,width:b.width,height:N[Q].height};if(N[Q].position!="top"){f.y=b.y+b.height+N[Q].yRel}else{f.y=b.y-N[Q].yRel-N[Q].height}if(z){this._renderValueAxis(Q,f,false,b)}else{if((s[r]&4)==4){continue}if(!this._isGroupVisible(Q)){continue}this._renderCategoryAxis(Q,f,false,b);s[r]|=4}}}if(q){var G=M.x+a.jqx._ptrnd((M.width-u.width)/2);var F=b.y+b.height+T.bottom;var I=M.width;var S=u.height;if(this.legendLayout){G=this.legendLayout.left||G;F=this.legendLayout.top||F;I=this.legendLayout.width||I;S=this.legendLayout.height||S}if(G+I>v.x+v.width){I=v.x+v.width-G}if(F+S>v.y+v.height){S=v.y+v.height-F}this._renderLegend({x:G,y:F,width:I,height:S})}this._hasHorizontalLines=false;if(!B){for(var Q=0;Q<this.seriesGroups.length;Q++){var U=this.seriesGroups[Q];if(U.polar==true||U.spider==true){continue}var z=this.seriesGroups[Q].orientation=="horizontal";var f={x:b.x-n[Q].xRel-n[Q].width,y:b.y,width:n[Q].width,height:b.height};if(n[Q].position!="left"){f.x=b.x+b.width+n[Q].xRel}if(z){if((s[this._getCategoryAxis(Q)]&8)==8){continue}if(!this._isGroupVisible(Q)){continue}this._renderCategoryAxis(Q,f,false,b);s[this._getCategoryAxis(Q)]|=8}else{this._renderValueAxis(Q,f,false,b)}}}if(b.width<=0||b.height<=0){return}this._plotRect={x:b.x,y:b.y,width:b.width,height:b.height};var C=this.renderer.createClipRect({x:b.x,y:b.y,width:b.width,height:b.height});var E=this.renderer.beginGroup();this.renderer.setClip(E,C);for(var Q=0;Q<this.seriesGroups.length;Q++){var U=this.seriesGroups[Q];var c=false;for(var W in this._seriesTypes){if(this._seriesTypes[W]==U.type){c=true;break}}if(!c){throw'jqxChart: invalid series type "'+U.type+'"';continue}if(U.polar==true||U.spider==true){if(U.type.indexOf("pie")==-1&&U.type.indexOf("donut")==-1){this._renderSpiderAxis(Q,b)}}if(U.bands){for(var O=0;O<U.bands.length;O++){this._renderBand(Q,O,b)}}if(U.type.indexOf("column")!=-1){this._renderColumnSeries(Q,b)}else{if(U.type.indexOf("pie")!=-1||U.type.indexOf("donut")!=-1){this._renderPieSeries(Q,b)}else{if(U.type.indexOf("line")!=-1||U.type.indexOf("area")!=-1){this._renderLineSeries(Q,b)}else{if(U.type=="scatter"||U.type=="bubble"){this._renderScatterSeries(Q,b)}}}}}this.renderer.endGroup();if(this.enabled==false){var R=this.renderer.rect(v.x,v.y,v.width,v.height);this.renderer.attr(R,{fill:"#777777",opacity:0.5,stroke:"#00FFFFFF"})}this.renderer.endGroup();this._startAnimation("series")},_isPieOnlySeries:function(){if(this.seriesGroups.length==0){return false}for(var b=0;b<this.seriesGroups.length;b++){if(this.seriesGroups[b].type!="pie"&&this.seriesGroups[b].type!="donut"){return false}}return true},_renderChartLegend:function(E,c,d,h){var q={x:c.x+3,y:c.y+3,width:c.width-6,height:c.height-6};var m={width:q.width,height:0};var l=0,k=0;var j=20;var b=0;var u=10;var C=10;var A=0;for(var w=0;w<E.length;w++){var n=E[w].css;if(!n){n=this.toThemeProperty("jqx-chart-legend-text",null)}var o=E[w].text;var p=this.renderer.measureText(o,0,{"class":n});if(p.height>j){j=p.height}if(p.width>A){A=p.width}if(h){if(w!=0){k+=j}if(k>q.height){k=0;l+=A+C;A=p.width;m.width=l+A}}else{if(l!=0){l+=C}if(l+2*u+p.width>q.width&&p.width<q.width){l=0;k+=j;j=20;b=q.width;m.heigh=k+j}}if(!d&&q.x+l+p.width<c.x+c.width&&q.y+k+p.height<c.y+c.height){var t=E[w].seriesIndex;var D=E[w].groupIndex;var f=E[w].itemIndex;var v=E[w].color;var s=this._isSerieVisible(D,t,f);var z=this.renderer.beginGroup();var B=this.renderer.rect(q.x+l,q.y+k+u/2,u,u);var e=s?E[w].opacity:0.1;this.renderer.attr(B,{fill:v,"fill-opacity":e,stroke:v,"stroke-width":1,"stroke-opacity":E[w].opacity});this.renderer.text(o,q.x+l+1.5*u,q.y+k,p.width,j,0,{"class":n},false,"center","center");this.renderer.endGroup();this._setLegendToggleHandler(D,t,f,z)}if(h){}else{l+=p.width+2*u;if(b<l){b=l}}}if(d){m.height=a.jqx._ptrnd(k+j+5);m.width=a.jqx._ptrnd(b);return m}},_groupSeriesToggleState:[],_isSerieVisible:function(f,b,d){while(this._groupSeriesToggleState.length<f+1){this._groupSeriesToggleState.push([])}var e=this._groupSeriesToggleState[f];while(e.length<b+1){e.push(isNaN(d)?true:[])}var c=e[b];if(isNaN(d)){return c}if(!a.isArray(c)){e[b]=c=[]}while(c.length<d+1){c.push(true)}return c[d]},_isGroupVisible:function(e){var d=false;var c=this.seriesGroups[e].series;if(!c){return szMeasure}for(var b=0;b<c.length;b++){if(this._isSerieVisible(e,b)){d=true;break}}return d},_isToggleRefresh:false,_toggleSerie:function(h,b,e,c){var g=!this._isSerieVisible(h,b,e);if(c!=undefined){g=c}var i=this.seriesGroups[h];var f=i.series[b];this._raiseEvent("toggle",{state:g,seriesGroup:i,serie:f,elementIndex:e});if(isNaN(e)){this._groupSeriesToggleState[h][b]=g}else{var d=this._groupSeriesToggleState[h][b];if(!a.isArray(d)){d=[]}while(d.length<e){d.push(true)}d[e]=g}this._isToggleRefresh=true;this.update();this._isToggleRefresh=false},showSerie:function(d,b,c){this._toggleSerie(d,b,c,true)},hideSerie:function(d,b,c){this._toggleSerie(d,b,c,false)},_setLegendToggleHandler:function(j,c,h,e){var i=this.seriesGroups[j];var f=i.series[c];var b=f.enableSeriesToggle;if(b==undefined){b=i.enableSeriesToggle!=false}if(b){var d=this;this.renderer.addHandler(e,"click",function(g){g.preventDefault();d._toggleSerie(j,c,h)})}},_renderLegend:function(o,n){var d=[];for(var r=0;r<this.seriesGroups.length;r++){var l=this.seriesGroups[r];if(l.showLegend==false){continue}for(var p=0;p<l.series.length;p++){var t=l.series[p];if(t.showLegend==false){continue}var f=this._getSerieSettings(r,p);if(l.type=="pie"||l.type=="donut"){var j=this._getCategoryAxis(r);var k=j.toolTipFormatSettings||j.formatSettings||l.toolTipFormatSettings||l.formatSettings||t.toolTipFormatSettings||t.formatSettings;var c=j.toolTipFormatFunction||j.formatFunction||l.toolTipFormatFunction||l.formatFunction||t.toolTipFormatFunction||t.formatFunction;var e=this._getDataLen(r);for(var h=0;h<e;h++){var m=this._getDataValue(h,t.displayText,r);m=this._formatValue(m,k,c);var b=this._getColors(r,p,h);d.push({groupIndex:r,seriesIndex:p,itemIndex:h,text:m,css:t.displayTextClass,color:b.fillColor,opacity:f.opacity})}continue}var q=t.displayText||t.dataField||"";var b=this._getSeriesColors(r,p);d.push({groupIndex:r,seriesIndex:p,text:q,css:t.displayTextClass,color:b.fillColor,opacity:f.opacity})}}return this._renderChartLegend(d,o,n,(this.legendLayout&&this.legendLayout.flow=="vertical"))},_renderCategoryAxis:function(e,w,L,d){var r=this._getCategoryAxis(e);var K=this.seriesGroups[e];var P=K.orientation=="horizontal";var G={width:0,height:0};if(!r||r.visible==false||K.type=="spider"){return G}if(!this._isGroupVisible(e)){return G}if(this.rtl){r.flip=true}var u=r.text;var f={visible:(r.showGridLines!=false),color:(r.gridLinesColor||"#888888"),unitInterval:(r.gridLinesInterval||r.unitInterval),dashStyle:r.gridLinesDashStyle};var z={visible:(r.showTickMarks!=false),color:(r.tickMarksColor||"#888888"),unitInterval:(r.tickMarksInterval||r.unitInterval),dashStyle:r.tickMarksDashStyle};var p=r.textRotationAngle||0;var s=this._calculateXOffsets(e,P?w.height:w.width);var F=r.unitInterval;if(isNaN(F)){F=1}var c=r.horizontalTextAlignment;var O=this._alignValuesWithTicks(e);var l=this.renderer.getRect();var k=l.width-w.x-w.width;var o=this._getDataLen(e);var m;if(this._elementRenderInfo&&this._elementRenderInfo.length>e){m=this._elementRenderInfo[e].categoryAxis}var q=[];if(r.type!="date"){var E=s.customRange!=false;var B=F;for(var J=s.min;J<=s.max;J+=B){if(E||r.dataField==undefined||r.dataField==""){H=J}else{var N=Math.round(J);H=this._getDataValue(N,r.dataField)}var u=this._formatValue(H,r.formatSettings,r.formatFunction,undefined,undefined,N);if(u==undefined){u=!E?H.toString():(J).toString()}var b={key:H,text:u};if(m&&m.itemOffsets[H]){b.x=m.itemOffsets[H].x;b.y=m.itemOffsets[H].y}q.push(b);if(J+B>s.max){B=s.max-J;if(B<=F/2){break}}}}else{var n=this._getDateTimeArray(s.min,s.max,r.baseUnit,O,F);for(var J=0;J<n.length;J+=F){var H=n[J];var u=this._formatValue(H,r.formatSettings,r.formatFunction);var b={key:H,text:u};if(m&&m.itemOffsets[H]){b.x=m.itemOffsets[H].x;b.y=m.itemOffsets[H].y}q.push(b)}}if(r.flip==true||this.rtl){q.reverse()}var I=r.descriptionClass;if(!I){I=this.toThemeProperty("jqx-chart-axis-description",null)}var v=r["class"];if(!v){v=this.toThemeProperty("jqx-chart-axis-text",null)}if(P){p-=90}var M={text:r.description,style:I,halign:r.horizontalDescriptionAlignment||"center",valign:r.verticalDescriptionAlignment||"center",textRotationAngle:P?-90:0};var h={textRotationAngle:p,style:v,halign:c,valign:r.verticalTextAlignment||"center",textRotationPoint:r.textRotationPoint||"auto",textOffset:r.textOffset};var D=(P&&r.position=="right")||(!P&&r.position=="top");var j={rangeLength:s.rangeLength,itemWidth:s.itemWidth,intervalWidth:s.intervalWidth};var A={items:q,renderData:j};while(this._renderData.length<e+1){this._renderData.push({})}this._renderData[e].categoryAxis=j;var C=this._getAnimProps(e);var t=C.enabled&&q.length<500?C.duration:0;if(this.enableAxisTextAnimation==false){t=0}return this._renderAxis(P,D,M,h,{x:w.x,y:w.y,width:w.width,height:w.height},d,F,false,O,A,f,z,L,t)},_animateAxisText:function(f,h){var c=f.items;var d=f.textSettings;for(var e=0;e<c.length;e++){var g=c[e];if(!g.visible){continue}var b=g.targetX;var j=g.targetY;if(!isNaN(g.x)&&!isNaN(g.y)){b=g.x+(b-g.x)*h;j=g.y+(j-g.y)*h}else{if(h!=1){}}if(g.element){this.renderer.removeElement(g.element);g.element=undefined}g.element=this.renderer.text(g.text,b,j,g.width,g.height,d.textRotationAngle,{"class":d.style},false,d.halign,d.valign,d.textRotationPoint)}},_getPolarAxisCoords:function(j,h){var i=this.seriesGroups[j];var c=this._calcGroupOffsets(j,h).xoffsets;if(!c){return}var e=h.x+a.jqx.getNum([i.offsetX,h.width/2]);var d=h.y+a.jqx.getNum([i.offsetY,h.height/2]);var f=i.radius;if(isNaN(f)){f=Math.min(h.width,h.height)/2*0.7}var b=this._alignValuesWithTicks(j);var g=i.startAngle;if(isNaN(g)){g=0}else{g=(g<0?-1:1)*(Math.abs(g)%360);g=2*Math.PI*g/360}return{x:e,y:d,r:f,itemWidth:c.itemWidth,rangeLength:c.rangeLength,valuesOnTicks:b,startAngle:g}},_toPolarCoord:function(d,g,c,i){var h=((c-g.x)*2*Math.PI)/Math.max(1,g.width)+d.startAngle;var b=((g.height+g.y)-i)*d.r/Math.max(1,g.height);var f=d.x+b*Math.cos(h);var e=d.y+b*Math.sin(h);return{x:a.jqx._ptrnd(f),y:a.jqx._ptrnd(e)}},_renderSpiderAxis:function(e,G){var B=this._getCategoryAxis(e);if(!B||B.visible==false){return}var v=this.seriesGroups[e];var H=this._getPolarAxisCoords(e,G);if(!H){return}var Q=a.jqx._ptrnd(H.x);var O=a.jqx._ptrnd(H.y);var T=H.r;var h=H.startAngle;if(T<1){return}T=a.jqx._ptrnd(T);var C=this._calculateXOffsets(e,Math.PI*2*T);if(!C.rangeLength){return}var N=B.unitInterval;if(isNaN(N)||N<1){N=1}var d=B.horizontalTextAlignment;var Y=this._alignValuesWithTicks(e);var p=this.renderer.getRect();var n=p.width-G.x-G.width;var u=this._getDataLen(e);var r;if(this._elementRenderInfo&&this._elementRenderInfo.length>e){r=this._elementRenderInfo[e].categoryAxis}var z=[];if(B.type!="date"){var M=C.customRange!=false;var K=N;for(var V=C.min;V<=C.max;V+=K){if(M||B.dataField==undefined||B.dataField==""){R=V}else{var X=Math.round(V);R=this._getDataValue(X,B.dataField)}var E=this._formatValue(R,B.formatSettings,B.formatFunction,undefined,undefined,X);if(E==undefined){E=!M?R.toString():(V).toString()}var c={key:R,text:E};if(r&&r.itemOffsets[R]){c.x=r.itemOffsets[R].x;c.y=r.itemOffsets[R].y}z.push(c);if(V+K>C.max){K=C.max-V;if(K<=N/2){break}}}}else{var s=this._getDateTimeArray(C.min,C.max,B.baseUnit,Y,N);for(var V=0;V<s.length;V+=N){var R=s[V];var E=this._formatValue(R,B.formatSettings,B.formatFunction);var c={key:R,text:E};if(r&&r.itemOffsets[R]){c.x=r.itemOffsets[R].x;c.y=r.itemOffsets[R].y}z.push(c)}}if(B.flip==true||this.rtl){z.reverse()}var S=B.descriptionClass;if(!S){S=this.toThemeProperty("jqx-chart-axis-description",null)}var F=B["class"];if(!F){F=this.toThemeProperty("jqx-chart-axis-text",null)}var E=B.text;var w=B.textRotationAngle||0;var Z=this.seriesGroups[e].orientation=="horizontal";if(Z){w-=90}var f={visible:(B.showGridLines!=false),color:(B.gridLinesColor||"#888888"),unitInterval:(B.gridLinesInterval||B.unitInterval),dashStyle:B.gridLinesDashStyle};var I={visible:(B.showTickMarks!=false),color:(B.tickMarksColor||"#888888"),unitInterval:(B.tickMarksInterval||B.unitInterval),dashStyle:B.tickMarksDashStyle};var W={text:B.description,style:S,halign:B.horizontalDescriptionAlignment||"center",valign:B.verticalDescriptionAlignment||"center",textRotationAngle:Z?-90:0};var k={textRotationAngle:w,style:F,halign:d,valign:B.verticalTextAlignment||"center",textRotationPoint:B.textRotationPoint||"auto",textOffset:B.textOffset};var L=(Z&&B.position=="right")||(!Z&&B.position=="top");var m={rangeLength:C.rangeLength,itemWidth:C.itemWidth};var J={items:z,renderData:m};while(this._renderData.length<e+1){this._renderData.push({})}this._renderData[e].categoryAxis=m;var l={stroke:f.color,fill:"none","stroke-width":1,"stroke-dasharray":f.dashStyle||""};var U=this.renderer.circle(Q,O,T,l);var A=z.length;var j=2*Math.PI/(A);var b=(Y?0:j/2)+h;for(var V=0;V<A;V++){var t=j*V+b;var g=this.renderer.measureText(z[V].text,0,{"class":F});var D=Math.sqrt(g.width*g.width+g.height*g.height)/2;x=Q+(T+5+D)*Math.cos(t)-g.width/2;y=O+(T+5+D)*Math.sin(t)-g.height/2;this.renderer.text(z[V].text,x,y,g.width,g.height,0,{"class":F},false,"center","center")}A=C.rangeLength;j=2*Math.PI/(A);b=h;if(f.visible){var o=f.unitInterval;if(isNaN(o)||o<1){o=N}for(var V=0;V<A;V+=o){t=j*V+b;x=Q+T*Math.cos(t);y=O+T*Math.sin(t);this.renderer.line(Q,O,a.jqx._ptrnd(x),a.jqx._ptrnd(y),l)}}if(I.visible){var q=5;var P=I.unitInterval;if(isNaN(P)||P<1){P=N}var l={stroke:I.color,fill:"none","stroke-width":1,"stroke-dasharray":I.dashStyle||""};for(var V=0;V<A;V+=P){var t=j*V+b;x1=Q+T*Math.cos(t);y1=O+T*Math.sin(t);x2=Q+(T+q)*Math.cos(t);y2=O+(T+q)*Math.sin(t);this.renderer.line(a.jqx._ptrnd(x1),a.jqx._ptrnd(y1),a.jqx._ptrnd(x2),a.jqx._ptrnd(y2),l)}}this._renderSpiderValueAxis(e,G)},_renderSpiderValueAxis:function(e,c){var j=this.seriesGroups[e];var t=this._getPolarAxisCoords(e,c);if(!t){return}var G=a.jqx._ptrnd(t.x);var F=a.jqx._ptrnd(t.y);var g=t.r;var z=t.startAngle;if(g<1){return}g=a.jqx._ptrnd(g);var D=this.seriesGroups[e].valueAxis;if(!D||false==D.displayValueAxis){return}var n=D["class"];if(!n){n=this.toThemeProperty("jqx-chart-axis-text",null)}var m=D.formatSettings;var d=j.type.indexOf("stacked")!=-1&&j.type.indexOf("100")!=-1;if(d&&!m){m={sufix:"%"}}this._calcValueAxisItems(e,g);var h=this._stats.seriesGroups[e].mu;var f={visible:(D.showGridLines!=false),color:(D.gridLinesColor||"#888888"),unitInterval:(D.gridLinesInterval||h||1),dashStyle:D.gridLinesDashStyle};var b={stroke:f.color,fill:"none","stroke-width":1,"stroke-dasharray":f.dashStyle||""};var p=this._renderData[e].valueAxis;var s=p.items;if(s.length){this.renderer.line(G,F,G,a.jqx._ptrnd(F-g),b)}s=s.reverse();var v=this.renderer;for(var A=0;A<s.length-1;A++){var u=s[A];var o=(D.formatFunction)?D.formatFunction(u):this._formatNumber(u,m);var q=v.measureText(o,0,{"class":n});var l=G+(D.showTickMarks!=false?3:2);var k=F-p.itemWidth*A-q.height;v.text(o,l,k,q.width,q.height,0,{"class":n},false,"center","center")}var r=D.logarithmicScale==true;var C=r?s.length:p.rangeLength;aIncrement=2*Math.PI/C;if(f.visible){var b={stroke:f.color,fill:"none","stroke-width":1,"stroke-dasharray":f.dashStyle||""};for(var A=0;A<C;A+=f.unitInterval){var k=a.jqx._ptrnd(g*A/C);v.circle(G,F,k,b)}}var w={visible:(D.showTickMarks!=false),color:(D.tickMarksColor||"#888888"),unitInterval:(D.tickMarksInterval||h),dashStyle:D.tickMarksDashStyle};if(w.visible){tickMarkSize=5;var b={stroke:w.color,fill:"none","stroke-width":1,"stroke-dasharray":w.dashStyle||""};var E=G-Math.round(tickMarkSize/2);var B=E+tickMarkSize;for(var A=0;A<C;A+=w.unitInterval){if(f.visible&&(A%f.unitInterval)==0){continue}var k=a.jqx._ptrnd(F-g*A/C);v.line(a.jqx._ptrnd(E),k,a.jqx._ptrnd(B),k,b)}}},_renderAxis:function(N,J,Z,q,D,c,L,p,ab,H,e,E,Y,d){var r=E.visible?4:0;var V=2;var M={width:0,height:0};var u={width:0,height:0};if(N){M.height=u.height=D.height}else{M.width=u.width=D.width}if(!Y&&J){if(N){D.x-=D.width}}var n=H.renderData;var b=n.intervalWidth;var aa=n.rangeLength;if(Z.text!=undefined&&Z!=""){var v=Z.textRotationAngle;var g=this.renderer.measureText(Z.text,v,{"class":Z.style});u.width=g.width;u.height=g.height;if(!Y){this.renderer.text(Z.text,D.x+(N?(!J?V:-V+2*D.width-u.width):0),D.y+(!N?(!J?D.height-V-u.height:V):0),N?u.width:D.width,!N?u.height:D.height,v,{"class":Z.style},true,Z.halign,Z.valign)}}var S=0;var B=ab?-b/2:0;if(ab&&!N){q.halign="center"}var U=D.x;var T=D.y;var K=q.textOffset;if(K){if(!isNaN(K.x)){U+=K.x}if(!isNaN(K.y)){T+=K.y}}if(!N){U+=B;if(J){T+=u.height>0?u.height+3*V:2*V;T+=r-(ab?r:r/4)}else{T+=ab?r:r/4}}else{U+=V+(u.width>0?(u.width+V):0)+(J?D.width-u.width:0);T+=B}var X=0;var R=0;var z=H.items;n.itemOffsets={};if(this._isToggleRefresh||!this._isUpdate){d=0}var m=false;for(var W=0;W<z.length;W++,S+=b){var C=z[W].text;var g=this.renderer.measureText(C,q.textRotationAngle,{"class":q.style});if(g.width>R){R=g.width}if(g.height>X){X=g.height}if(!Y){if((N&&S>D.height+2)||(!N&&S>D.width+2)){break}var P=N?U:U+S;var O=N?T+S:T;n.itemOffsets[z[W].key]={x:P,y:O};if(!m){if(!isNaN(z[W].x)||!isNaN(z[W].y)&&d){m=true}}z[W].targetX=P;z[W].targetY=O;z[W].width=!N?b:D.width-2*V-r-((u.width>0)?u.width+V:0);z[W].height=N?b:D.height-2*V-r-((u.height>0)?u.height+V:0);z[W].visible=!p||(p&&(W%L)==0)}}if(!Y){var A={items:z,textSettings:q};if(isNaN(d)||!m){d=0}this._animateAxisText(A,d==0?1:0);var j=this;this._enqueueAnimation("series",undefined,undefined,d,function(i,h,w){j._animateAxisText(h,w)},A)}M.width+=2*V+r+u.width+R+(N&&u.width>0?V:0);M.height+=2*V+r+u.height+X+(!N&&u.height>0?V:0);var G={};var l={stroke:e.color,"stroke-width":1,"stroke-dasharray":e.dashStyle||""};if(!Y){var O=a.jqx._ptrnd(D.y+(J?D.height:0));if(N){this.renderer.line(a.jqx._ptrnd(D.x+D.width),D.y,a.jqx._ptrnd(D.x+D.width),D.y+D.height,l)}else{this.renderer.line(a.jqx._ptrnd(D.x),O,a.jqx._ptrnd(D.x+D.width+1),O,l)}}var t=0.5;if(!Y&&e.visible!=false){var o=e.unitInterval;if(isNaN(o)||o<=0){o=L}var s=p?z.length:aa;var F=p?1:o;var I=p?b:(N?D.height:D.width)/aa;var W=0;while(W<=s){if(p&&a.jqx._mod(W,o)!=0){W+=F;continue}var k=0;if(N){k=a.jqx._ptrnd(D.y+W*I);if(k>D.y+D.height+t){break}}else{k=a.jqx._ptrnd(D.x+W*I);if(k>D.x+D.width+t){break}}if(N){this.renderer.line(a.jqx._ptrnd(c.x),k,a.jqx._ptrnd(c.x+c.width),k,l)}else{this.renderer.line(k,a.jqx._ptrnd(c.y),k,a.jqx._ptrnd(c.y+c.height),l)}G[k]=true;W+=F;if(W>s&&W!=s+F){W=s}}}var l={stroke:E.color,"stroke-width":1,"stroke-dasharray":E.dashStyle||""};if(!Y&&E.visible){var Q=E.unitInterval;if(isNaN(Q)||Q<=0){Q=L}var s=p?z.length:aa+Q;var F=p?1:Q;var I=p?b:(N?D.height:D.width)/aa;for(var W=0;W<=s;W+=F){if(p&&a.jqx._mod(W,Q/L)!=0){continue}var k=a.jqx._ptrnd((N?D.y:D.x)+W*I);if(G[k-1]){k--}else{if(G[k+1]){k++}}if(N){if(k>D.y+D.height+t){break}}else{if(k>D.x+D.width+t){break}}var f=!J?-r:r;if(N){this.renderer.line(D.x+D.width,k,D.x+D.width+f,k,l)}else{var O=a.jqx._ptrnd(D.y+(J?D.height:0));this.renderer.line(k,O,k,O-f,l)}}}M.width=a.jqx._rup(M.width);M.height=a.jqx._rup(M.height);return M},_calcValueAxisItems:function(j,d){var m=this._stats.seriesGroups[j];if(!m||!m.isValid){return false}var v=this.seriesGroups[j];var b=v.orientation=="horizontal";var f=v.valueAxis;var l=f.valuesOnTicks!=false;var e=f.dataField;var n=m.intervals;var r=d/n;var t=m.min;var q=m.mu;var c=f.logarithmicScale==true;var k=f.logarithmicScaleBase||10;var h=v.type.indexOf("stacked")!=-1&&v.type.indexOf("100")!=-1;if(c){q=!isNaN(f.unitInterval)?f.unitInterval:1}if(!l){n=Math.max(n-1,1)}while(this._renderData.length<j+1){this._renderData.push({})}this._renderData[j].valueAxis={};var o=this._renderData[j].valueAxis;o.itemWidth=o.intervalWidth=r;o.items=[];var p=o.items;for(var u=0;u<=n;u++){var s=0;if(c){if(h){s=m.max/Math.pow(k,n-u)}else{s=t*Math.pow(k,u)}}else{s=l?t+u*q:t+(u+0.5)*q}p.push(s)}o.rangeLength=c&&!h?m.intervals:(m.intervals)*q;if(v.valueAxis.flip!=true){p=p.reverse()}return true},_renderValueAxis:function(o,h,l,p){var K=this.seriesGroups[o];var e=K.orientation=="horizontal";var j=K.valueAxis;if(!j){throw"SeriesGroup "+o+" is missing valueAxis definition"}var w={width:0,height:0};if(!this._isGroupVisible(o)||this._isPieOnlySeries()||K.type=="spider"){return w}if(!this._calcValueAxisItems(o,(e?h.width:h.height))||false==j.displayValueAxis||false==j.visible){return w}var q=j.descriptionClass;if(!q){q=this.toThemeProperty("jqx-chart-axis-description",null)}var v={text:j.description,style:q,halign:j.horizontalDescriptionAlignment||"center",valign:j.verticalDescriptionAlignment||"center",textRotationAngle:e?0:(!this.rtl?-90:90)};var z=j.itemsClass;if(!z){z=this.toThemeProperty("jqx-chart-axis-text",null)}var d={style:z,halign:j.horizontalTextAlignment||"center",valign:j.verticalTextAlignment||"center",textRotationAngle:j.textRotationAngle||0,textRotationPoint:j.textRotationPoint||"auto",textOffset:j.textOffset};var r=j.valuesOnTicks!=false;var u=this._stats.seriesGroups[o];var E=u.mu;var J=j.formatSettings;var k=K.type.indexOf("stacked")!=-1&&K.type.indexOf("100")!=-1;if(k&&!J){J={sufix:"%"}}var f=j.logarithmicScale==true;var n=j.logarithmicScaleBase||10;if(f){E=!isNaN(j.unitInterval)?j.unitInterval:1}var D=[];var C=this._renderData[o].valueAxis;var m;if(this._elementRenderInfo&&this._elementRenderInfo.length>o){m=this._elementRenderInfo[o].valueAxis}for(var H=0;H<C.items.length;H++){var F=C.items[H];var B=(j.formatFunction)?j.formatFunction(F):this._formatNumber(F,J);var A={key:F,text:B};if(m&&m.itemOffsets[F]){A.x=m.itemOffsets[F].x;A.y=m.itemOffsets[F].y}D.push(A)}var M=j.gridLinesInterval||j.unitInterval;if(isNaN(M)||(f&&M<E)){M=E}var L={visible:(j.showGridLines!=false),color:(j.gridLinesColor||"#888888"),unitInterval:M,dashStyle:j.gridLinesDashStyle};var t=j.tickMarksInterval||j.unitInterval;if(isNaN(t)||(f&&t<E)){t=E}var s={visible:(j.showTickMarks!=false),color:(j.tickMarksColor||"#888888"),unitInterval:t,dashStyle:j.tickMarksDashStyle};var c=(e&&j.position=="top")||(!e&&j.position=="right")||(!e&&this.rtl&&j.position!="left");var I={items:D,renderData:C};var G=this._getAnimProps(o);var b=G.enabled&&D.length<500?G.duration:0;if(this.enableAxisTextAnimation==false){b=0}return this._renderAxis(!e,c,v,d,h,p,E,f,r,I,L,s,l,b)},_buildStats:function(G){var Q={seriesGroups:new Array()};this._stats=Q;for(var m=0;m<this.seriesGroups.length;m++){var z=this.seriesGroups[m];Q.seriesGroups[m]={};var u=Q.seriesGroups[m];u.isValid=true;var N=z.valueAxis!=undefined;var H=(z.orientation=="horizontal")?G.width:G.height;var J=false;var I=10;if(N){J=z.valueAxis.logarithmicScale==true;I=z.valueAxis.logarithmicScaleBase;if(isNaN(I)){I=10}}var C=-1!=z.type.indexOf("stacked");var d=C&&-1!=z.type.indexOf("100");var F=-1!=z.type.indexOf("range");if(d){u.psums=new Array();u.nsums=new Array()}var n=NaN,L=NaN;var c=NaN,e=NaN;var k=z.baselineValue;if(isNaN(k)){k=J&&!d?1:0}var w=this._getDataLen(m);var b=0;var S=NaN;for(var P=0;P<w&&u.isValid;P++){var T=N?z.valueAxis.minValue:Infinity;var B=N?z.valueAxis.maxValue:-Infinity;var o=0,r=0;for(var f=0;f<z.series.length;f++){if(!this._isSerieVisible(m,f)){continue}var E=undefined,O=undefined,v=undefined;if(F){var U=this._getDataValueAsNumber(P,z.series[f].dataFieldFrom,m);var A=this._getDataValueAsNumber(P,z.series[f].dataFieldTo,m);O=Math.max(U,A);v=Math.min(U,A)}else{E=this._getDataValueAsNumber(P,z.series[f].dataField,m);if(isNaN(E)||(J&&E<=0)){continue}v=O=E}if((isNaN(B)||O>B)&&((!N||isNaN(z.valueAxis.maxValue))?true:O<=z.valueAxis.maxValue)){B=O}if((isNaN(T)||v<T)&&((!N||isNaN(z.valueAxis.minValue))?true:v>=z.valueAxis.minValue)){T=v}if(!isNaN(E)){if(E>k){o+=E}else{if(E<k){r+=E}}}}if(J&&d){for(var f=0;f<z.series.length;f++){if(!this._isSerieVisible(m,f)){continue}var E=this._getDataValueAsNumber(P,z.series[f].dataField,m);if(isNaN(E)||E<=0){continue}var M=o==0?0:E/o;if(isNaN(S)||M<S){S=M}}}var j=o-r;if(b<j){b=j}if(d){u.psums[P]=o;u.nsums[P]=r}if(B>L||isNaN(L)){L=B}if(T<n||isNaN(n)){n=T}if(o>c||isNaN(c)){c=o}if(r<e||isNaN(e)){e=r}}if(d){c=c==0?0:Math.max(c,-e);e=e==0?0:Math.min(e,-c)}var h=N?z.valueAxis.unitInterval:0;if(!h){if(N){h=this._calcInterval(C?e:n,C?c:L,Math.max(H/80,2))}else{h=C?(c-e)/10:(L-n)/10}}var t=NaN;var R=0;var l=0;if(J){if(d){t=0;var M=1;R=l=a.jqx.log(100,I);while(M>S){M/=I;R--;t++}n=Math.pow(I,R)}else{if(C){L=Math.max(L,c)}l=a.jqx._rnd(a.jqx.log(L,I),1,true);L=Math.pow(I,l);R=a.jqx._rnd(a.jqx.log(n,I),1,false);n=Math.pow(I,R)}h=I}var K=N?z.valueAxis.tickMarksInterval||h:0;var s=N?z.valueAxis.gridLinesInterval||h:0;if(n<e){e=n}if(L>c){c=L}var q=J?n:a.jqx._rnd(C?e:n,h,false);var g=J?L:a.jqx._rnd(C?c:L,h,true);if(d&&g>100){g=100}if(d&&!J){g=(g>0)?100:0;q=(q<0)?-100:0;h=N?z.valueAxis.unitInterval:10;if(isNaN(h)||h<=0||h>=100){h=10}if(K<=0||K>=100){K=10}if(s<=0||s>=100){s=10}}if(isNaN(g)||isNaN(q)||isNaN(h)){continue}if(isNaN(t)){t=parseInt(((g-q)/(h==0?1:h)).toFixed())}if(J&&!d){t=l-R;b=Math.pow(I,t)}if(t<1){continue}var D=g-q;u.rmax=C?c:L;u.rmin=C?e:n;u.min=q;u.max=g;u.minPow=R;u.maxPow=l;u.mu=h;u.maxRange=b;u.intervals=t;u.tickMarksInterval=K;u.tickMarksIntervals=K==0?0:D/K;u.gridLinesInterval=s;u.gridLinesIntervals=s==0?0:D/s;if(D==0){D=1}u.scale=C?(c-e)/D:(L-n)/D}},_getDataLen:function(c){var b=this.source;if(c!=undefined&&c!=-1&&this.seriesGroups[c].source){b=this.seriesGroups[c].source}if(b instanceof a.jqx.dataAdapter){b=b.records}if(b){return b.length}return 0},_getDataValue:function(b,e,d){var c=this.source;if(d!=undefined&&d!=-1){c=this.seriesGroups[d].source||c}if(c instanceof a.jqx.dataAdapter){c=c.records}if(!c||b<0||b>c.length-1){return NaN}return(e&&e!="")?c[b][e]:c[b]},_getDataValueAsNumber:function(b,e,c){var d=this._getDataValue(b,e,c);if(this._isDate(d)){return d.valueOf()}if(typeof(d)!="number"){d=parseFloat(d)}if(typeof(d)!="number"){d=undefined}return d},_renderPieSeries:function(o,l){var c=this._getDataLen(o);var n=this.seriesGroups[o];var p=this._calcGroupOffsets(o,l).offsets;for(var m=0;m<n.series.length;m++){var t=n.series[m];var d=this._getSerieSettings(o,m);var k=t.colorScheme||n.colorScheme||this.colorScheme;var f=this._getAnimProps(o,m);var e=f.enabled&&c<5000&&!this._isToggleRefresh&&this._isVML!=true?f.duration:0;if(a.jqx.mobile.isMobileBrowser()&&(this.renderer instanceof a.jqx.HTML5Renderer)){e=0}var r={rect:l,groupIndex:o,serieIndex:m,settings:d,items:[]};for(var h=0;h<c;h++){if(!this._isSerieVisible(o,m,h)){continue}var j=p[m][h];var g=this.renderer.pieslice(j.x,j.y,j.innerRadius,j.outerRadius,j.fromAngle,e==0?j.toAngle:j.fromAngle,j.centerOffset);var b={element:g,displayValue:j.displayValue,itemIndex:h,x:j.x,y:j.y,innerRadius:j.innerRadius,outerRadius:j.outerRadius,fromAngle:j.fromAngle,toAngle:j.toAngle,centerOffset:j.centerOffset};r.items.push(b)}this._animatePieSlices(r,0);var q=this;this._enqueueAnimation("series",g,undefined,e,function(s,i,u){q._animatePieSlices(i,u)},r)}},_sliceSortFunction:function(d,c){return d.fromAngle-c.fromAngle},_animatePieSlices:function(w,c){var o;if(this._elementRenderInfo&&this._elementRenderInfo.length>w.groupIndex&&this._elementRenderInfo[w.groupIndex].series&&this._elementRenderInfo[w.groupIndex].series.length>w.serieIndex){o=this._elementRenderInfo[w.groupIndex].series[w.serieIndex]}var h=360*c;var b=[];for(var B=0;B<w.items.length;B++){var G=w.items[B];var z=G.fromAngle;var f=G.fromAngle+c*(G.toAngle-G.fromAngle);if(o&&o[G.displayValue]){var t=o[G.displayValue].fromAngle;var d=o[G.displayValue].toAngle;z=t+(z-t)*c;f=d+(f-d)*c}b.push({index:B,from:z,to:f})}if(o){b.sort(this._sliceSortFunction)}var H=NaN;for(var B=0;B<b.length;B++){var G=w.items[b[B].index];var z=b[B].from;var f=b[B].to;if(o){if(!isNaN(H)&&z>H){z=H}H=f;if(B==b.length-1&&f!=b[0].from){f=360+b[0].from}}var A=this.renderer.pieSlicePath(G.x,G.y,G.innerRadius,G.outerRadius,z,f,G.centerOffset);this.renderer.attr(G.element,{d:A});var l=this._getColors(w.groupIndex,w.serieIndex,G.itemIndex,"radialGradient",G.outerRadius);var F=w.settings;this.renderer.attr(G.element,{fill:l.fillColor,stroke:l.lineColor,"stroke-width":F.stroke,"fill-opacity":F.opacity,"stroke-opacity":F.opacity,"stroke-dasharray":"none"||F.dashStyle});if(G.labelElement){this.renderer.removeElement(G.labelElement)}var J=z,K=f;var p=Math.abs(J-K);var v=p>180?1:0;if(p>360){J=0;K=360}var u=J*Math.PI*2/360;var j=K*Math.PI*2/360;var n=p/2+J;var I=n*Math.PI*2/360;var r=this._showLabel(w.groupIndex,w.serieIndex,G.itemIndex,{x:0,y:0,width:0,height:0},"left","top",true);var C=this.seriesGroups[w.groupIndex];var q=C.series[w.serieIndex];var e=q.labelRadius||G.outerRadius+Math.max(r.width,r.height);e+=G.centerOffset;var E=a.jqx.getNum([q.offsetX,C.offsetX,w.rect.width/2]);var D=a.jqx.getNum([q.offsetY,C.offsetY,w.rect.height/2]);var m=a.jqx._ptrnd(w.rect.x+E+e*Math.cos(I)-r.width/2);var k=a.jqx._ptrnd(w.rect.y+D-e*Math.sin(I)-r.height/2);G.labelElement=this._showLabel(w.groupIndex,w.serieIndex,G.itemIndex,{x:m,y:k,width:r.width,height:r.height},"left","top");if(c==1){this._installHandlers(G.element,w.groupIndex,w.serieIndex,G.itemIndex)}}},_getColumnGroupsCount:function(c){var e=0;c=c||"vertical";var f=this.seriesGroups;for(var d=0;d<f.length;d++){var b=f[d].orientation||"vertical";if(f[d].type.indexOf("column")!=-1&&b==c){e++}}return e},_getColumnGroupIndex:function(g){var b=0;var c=this.seriesGroups[g].orientation||"vertical";for(var e=0;e<g;e++){var f=this.seriesGroups[e];var d=f.orientation||"vertical";if(f.type.indexOf("column")!=-1&&d==c){b++}}return b},_renderBand:function(p,l,j){var o=this.seriesGroups[p];if(!o.bands||o.bands.length<=l){return}var c=j;if(o.orientation=="horizontal"){c={x:j.y,y:j.x,width:j.height,height:j.width}}var q=this._calcGroupOffsets(p,c);if(!q||q.length<=p){return}var r=o.bands[l];var g=q.bands[l];var n=g.from;var m=g.to;var e=Math.abs(n-m);var i={x:c.x,y:Math.min(n,m),width:c.width,height:e};if(o.orientation=="horizontal"){var d=i.x;i.x=i.y;i.y=d;d=i.width;i.width=i.height;i.height=d}var k=this.renderer.rect(i.x,i.y,i.width,i.height);var b=r.color||"#AAAAAA";var f=r.opacity;if(isNaN(f)||f<0||f>1){f=0.5}this.renderer.attr(k,{fill:b,"fill-opacity":f,stroke:b,"stroke-opacity":f,"stroke-width":0})},_renderColumnSeries:function(h,C){var q=this.seriesGroups[h];if(!q.series||q.series.length==0){return}var v=q.type.indexOf("stacked")!=-1;var d=v&&q.type.indexOf("100")!=-1;var A=q.type.indexOf("range")!=-1;var n=this._getDataLen(h);var J=q.columnsGapPercent;if(isNaN(J)||J<0||J>100){J=25}var K=q.seriesGapPercent;if(isNaN(K)||K<0||K>100){K=10}var r=q.orientation=="horizontal";var l=C;if(r){l={x:C.y,y:C.x,width:C.height,height:C.width}}var o=this._calcGroupOffsets(h,l);if(!o||o.xoffsets.length==0){return}var f=this._getColumnGroupsCount(q.orientation);var b=this._getColumnGroupIndex(h);if(this.columnSeriesOverlap==true){f=1;b=0}var M=this._alignValuesWithTicks(h);var c;if(q.polar==true||q.spider==true){c=this._getPolarAxisCoords(h,l);J=0;K=0}var t={groupIndex:h,rect:C,vertical:!r,seriesCtx:[],renderData:o,polarAxisCoords:c};for(var i=0;i<q.series.length;i++){var I=q.series[i];var E=I.columnsMaxWidth||q.columnsMaxWidth;var u=I.dataField;var G=this._getAnimProps(h,i);var w=G.enabled&&!this._isToggleRefresh&&o.xoffsets.length<100?G.duration:0;var H=0;var e=o.xoffsets.itemWidth;if(M){H-=e/2}H+=e*(b/f);e/=f;var p=H+e;var B=(p-H+1);var D=(p-H+1)/(1+J/100);var m=(!v&&q.series.length>1)?(D*K/100)/(q.series.length-1):0;var z=(D-m*(q.series.length-1));if(D<1){D=1}var j=0;if(!v&&q.series.length>1){z/=q.series.length;j=i}var N=H+(B-D)/2+j*(m+z);if(j==q.series.length){z=B-H+D-x}if(!isNaN(E)){var F=Math.min(z,E);N=N+(z-F)/2;z=F}var g=this._isSerieVisible(h,i);var L={seriesIndex:i,columnWidth:z,xAdjust:N,isVisible:g};t.seriesCtx.push(L)}this._animateColumns(t,w==0?1:0);var k=this;this._enqueueAnimation("series",undefined,undefined,w,function(O,s,P){k._animateColumns(s,P)},t)},_getColumnOffsets:function(n,e,p,z,j,b){var g=[];var f=NaN;for(var w=0;w<p.length;w++){var u=p[w];var q=u.seriesIndex;var h=this.seriesGroups[e];var m=h.series[q];var r=n.offsets[q][z].from;var c=n.offsets[q][z].to;var A=n.xoffsets.data[z];var d=undefined;var o=u.isVisible;if(!o){c=r}if(o&&this._elementRenderInfo&&this._elementRenderInfo.length>e){var k=n.xoffsets.xvalues[z];d=this._elementRenderInfo[e].series[q][k];if(d&&!isNaN(d.from)&&!isNaN(d.to)){r=d.from+(r-d.from)*b;if(!isNaN(f)&&j&&r!=f){r=f}c=d.to+(c-d.to)*b;A=d.xoffset+(A-d.xoffset)*b}}if(!d){c=r+(c-r)*(j?1:b)}f=c;g.push({from:r,to:c,xOffset:A})}if(j&&g.length>1&&!(this._elementRenderInfo&&this._elementRenderInfo.length>e)){var l=g[0].from+(f-g[0].from)*b;for(var v=0;v<g.length;v++){if(g[v].to<g[v].from){if(g[v].to<l){g[v].to=l}if(g[v].from<l){g[v].from=l}}else{if(g[v].to>l){g[v].to=l}if(g[v].from>l){g[v].from=l}}}}return g},_columnAsPieSlice:function(b,f,l,n,o){var e=this._toPolarCoord(n,l,o.x,o.y);var g=this._toPolarCoord(n,l,o.x,o.y+o.height);var p=this._toPolarCoord(n,l,o.x+o.width,o.y);var m=a.jqx._ptdist(n.x,n.y,g.x,g.y);var j=a.jqx._ptdist(n.x,n.y,e.x,e.y);var d=l.width;var c=-((o.x-l.x)*360)/d;var i=-((o.x+o.width-l.x)*360)/d;var k=n.startAngle;k=360*k/(Math.PI*2);c-=k;i-=k;if(b[f]!=undefined){var h=this.renderer.pieSlicePath(n.x,n.y,m,j,i,c,0);this.renderer.attr(b[f],{d:h})}else{b[f]=this.renderer.pieslice(n.x,n.y,m,j,i,c,0)}return{fromAngle:i,toAngle:c,innerRadius:m,outerRadius:j}},_animateColumns:function(e,b){var D=e.groupIndex;var h=this.seriesGroups[D];var r=e.renderData;var j=h.type.indexOf("stacked")!=-1;var m=e.polarAxisCoords;for(var B=r.xoffsets.first;B<=r.xoffsets.last;B++){var g=this._getColumnOffsets(r,D,e.seriesCtx,B,j,b);for(var A=0;A<e.seriesCtx.length;A++){var w=e.seriesCtx[A];var u=w.seriesIndex;var o=h.series[u];var v=g[A].from;var d=g[A].to;var E=g[A].xOffset;if(!w.elements){w.elements={}}if(!w.labelElements){w.labelElements={}}var n=w.elements;var q=w.labelElements;var z=(e.vertical?e.rect.x:e.rect.y)+w.xAdjust;var C=this._getSerieSettings(D,u);var k=C.colors;var t=this._isSerieVisible(D,u);if(!t){if(!j){continue}}var l=a.jqx._ptrnd(z+E);var c={x:l,width:w.columnWidth};if(e.vertical){c.y=v;c.height=d-v;if(c.height<0){c.y+=c.height;c.height=-c.height}}else{c.x=v<d?v:d;c.width=Math.abs(v-d);c.y=l;c.height=w.columnWidth}var p=v-d;if(isNaN(p)){continue}p=Math.abs(p);if(n[B]==undefined){if(!m){n[B]=this.renderer.rect(c.x,c.y,e.vertical?c.width:0,e.vertical?0:c.height)}else{this._columnAsPieSlice(n,B,e.rect,m,c)}this.renderer.attr(n[B],{fill:k.fillColor,"fill-opacity":C.opacity,"stroke-opacity":C.opacity,stroke:k.lineColor,"stroke-width":C.stroke,"stroke-dasharray":C.dashStyle})}if(p<1&&b!=1){this.renderer.attr(n[B],{display:"none"})}else{this.renderer.attr(n[B],{display:"block"})}if(m){var f=this._columnAsPieSlice(n,B,e.rect,m,c);var k=this._getColors(D,u,undefined,"radialGradient",f.outerRadius);this.renderer.attr(n[B],{fill:k.fillColor,"fill-opacity":C.opacity,"stroke-opacity":C.opacity,stroke:k.lineColor,"stroke-width":C.stroke,"stroke-dasharray":C.dashStyle})}else{if(e.vertical==true){this.renderer.attr(n[B],{x:c.x,y:c.y,height:p})}else{this.renderer.attr(n[B],{x:c.x,y:c.y,width:p})}}this.renderer.removeElement(q[B]);q[B]=this._showLabel(D,u,B,c);if(b==1){this._installHandlers(n[B],D,u,B)}}}},_renderScatterSeries:function(d,z){var o=this.seriesGroups[d];if(!o.series||o.series.length==0){return}var e=o.type=="bubble";var p=o.orientation=="horizontal";var k=z;if(p){k={x:z.y,y:z.x,width:z.height,height:z.width}}var l=this._calcGroupOffsets(d,k);if(!l||l.xoffsets.length==0){return}var I=k.width;var b;if(o.polar||o.spider){b=this._getPolarAxisCoords(d,k);I=2*b.r}var Q=this._alignValuesWithTicks(d);for(var f=0;f<o.series.length;f++){var O=this._getSerieSettings(d,f);var G=O.colors;var F=o.series[f];var u=F.dataField;var P=NaN,t=NaN;if(e){for(var N=l.xoffsets.first;N<=l.xoffsets.last;N++){var w=this._getDataValueAsNumber(N,F.radiusDataField,d);if(typeof(w)!="number"){throw"Invalid radiusDataField value at ["+N+"]"}if(!isNaN(w)){if(isNaN(P)||w<P){P=w}if(isNaN(t)||w>t){t=w}}}}var h=F.minRadius;if(isNaN(h)){h=I/50}var A=F.maxRadius;if(isNaN(A)){A=I/25}if(h>A){A=h}var H=F.radius||5;var B=this._getAnimProps(d,f);var v=B.enabled&&!this._isToggleRefresh&&l.xoffsets.length<5000?B.duration:0;var q={groupIndex:d,seriesIndex:f,fill:G.fillColor,"fill-opacity":O.opacity,"stroke-opacity":O.opacity,stroke:G.lineColor,"stroke-width":O.stroke,"stroke-dasharray":O.dashStyle,items:[],polarAxisCoords:b};for(var N=l.xoffsets.first;N<=l.xoffsets.last;N++){var w=this._getDataValueAsNumber(N,u,d);if(typeof(w)!="number"){continue}var E=l.xoffsets.data[N];var D=l.offsets[f][N].to;var C=l.xoffsets.xvalues[N];if(isNaN(E)||isNaN(D)){continue}if(p){var K=E;E=D;D=K+z.y}else{E+=z.x}var J=H;if(e){var m=this._getDataValueAsNumber(N,F.radiusDataField,d);if(typeof(m)!="number"){continue}J=h+(A-h)*(m-P)/Math.max(1,t-P);if(isNaN(J)){J=h}}var j=NaN,L=NaN;var n=0;if(C!=undefined&&this._elementRenderInfo&&this._elementRenderInfo.length>d){var c=this._elementRenderInfo[d].series[f][C];if(c&&!isNaN(c.to)){j=c.to;L=c.xoffset;n=H;if(p){var K=L;L=j;j=K+z.y}else{L+=z.x}if(e){n=h+(A-h)*(c.valueRadius-P)/Math.max(1,t-P);if(isNaN(n)){n=h}}}}q.items.push({from:n,to:J,itemIndex:N,x:E,y:D,xFrom:L,yFrom:j})}this._animR(q,0);var g=this;var M=undefined;this._enqueueAnimation("series",undefined,undefined,v,function(s,i,r){g._animR(i,r)},q)}},_animR:function(l,e){var f=l.items;for(var d=0;d<f.length;d++){var k=f[d];var h=k.x;var g=k.y;var b=Math.round((k.to-k.from)*e+k.from);if(!isNaN(k.yFrom)){g=k.yFrom+(g-k.yFrom)*e}if(!isNaN(k.xFrom)){h=k.xFrom+(h-k.xFrom)*e}if(l.polarAxisCoords){var j=this._toPolarCoord(l.polarAxisCoords,this._plotRect,h,g);h=j.x;g=j.y}h=a.jqx._ptrnd(h);g=a.jqx._ptrnd(g);b=a.jqx._ptrnd(b);var c=k.element;if(!c){c=this.renderer.circle(h,g,b);this.renderer.attr(c,{fill:l.fill,"fill-opacity":l["fill-opacity"],"stroke-opacity":l["fill-opacity"],stroke:l.stroke,"stroke-width":l["stroke-width"],"stroke-dasharray":l["stroke-dasharray"]});k.element=c}if(this._isVML){this.renderer.updateCircle(c,undefined,undefined,b)}else{this.renderer.attr(c,{r:b,cy:g,cx:h})}if(k.labelElement){this.renderer.removeElement(k.labelElement)}k.labelElement=this._showLabel(l.groupIndex,l.seriesIndex,k.itemIndex,{x:h-b,y:g-b,width:2*b,height:2*b});if(e>=1){this._installHandlers(c,l.groupIndex,l.seriesIndex,k.itemIndex)}}},_showToolTip:function(m,k,E,z,c){var u=this._getCategoryAxis(E);if(this._toolTipElement&&E==this._toolTipElement.gidx&&z==this._toolTipElement.sidx&&c==this._toolTipElement.iidx){return}var j=this.seriesGroups[E];var n=j.series[z];var g=this.enableCrosshairs&&!(j.polar||j.spider);if(this._pointMarker){m=parseInt(this._pointMarker.x+5);k=parseInt(this._pointMarker.y-5)}else{g=false}var i=g&&this.showToolTips==false;m=a.jqx._ptrnd(m);k=a.jqx._ptrnd(k);var F=this._toolTipElement==undefined;if(j.showToolTips==false||n.showToolTips==false){return}var f=n.toolTipFormatSettings||j.toolTipFormatSettings;var t=n.toolTipFormatFunction||j.toolTipFormatFunction||this.toolTipFormatFunction;var l=this._getColors(E,z,c);var b=this._getDataValue(c,u.dataField,E);if(u.dataField==undefined||u.dataField==""){b=c}if(u.type=="date"){b=this._castAsDate(b)}var q="";if(a.isFunction(t)){var w={};if(j.type.indexOf("range")==-1){w=this._getDataValue(c,n.dataField,E)}else{w.from=this._getDataValue(c,n.dataFieldFrom,E);w.to=this._getDataValue(c,n.dataFieldTo,E)}q=t(w,c,n,j,b,u)}else{q=this._getFormattedValue(E,z,c,f,t);var J=u.toolTipFormatSettings||u.formatSettings;var d=u.toolTipFormatFunction||u.formatFunction;var I=this._formatValue(b,J,d);if(j.type!="pie"&&j.type!="donut"){q=(n.displayText||n.dataField||"")+", "+I+": "+q}else{b=this._getDataValue(c,n.displayText||n.dataField,E);I=this._formatValue(b,J,d);q=I+": "+q}}var D=n.toolTipClass||j.toolTipClass||this.toThemeProperty("jqx-chart-tooltip-text",null);var G=n.toolTipBackground||j.toolTipBackground||"#FFFFFF";var H=n.toolTipLineColor||j.toolTipLineColor||l.lineColor;if(!this._toolTipElement){this._toolTipElement={}}this._toolTipElement.sidx=z;this._toolTipElement.gidx=E;this._toolTipElement.iidx=c;rect=this.renderer.getRect();if(g){var C=a.jqx._ptrnd(this._pointMarker.x);var B=a.jqx._ptrnd(this._pointMarker.y);if(this._toolTipElement.vLine&&this._toolTipElement.hLine){this.renderer.attr(this._toolTipElement.vLine,{x1:C,x2:C});this.renderer.attr(this._toolTipElement.hLine,{y1:B,y2:B})}else{var A=this.crosshairsColor||"#888888";this._toolTipElement.vLine=this.renderer.line(C,this._plotRect.y,C,this._plotRect.y+this._plotRect.height,{stroke:A,"stroke-width":this.crosshairsLineWidth||1,"stroke-dasharray":this.crosshairsDashStyle||""});this._toolTipElement.hLine=this.renderer.line(this._plotRect.x,B,this._plotRect.x+this._plotRect.width,B,{stroke:A,"stroke-width":this.crosshairsLineWidth||1,"stroke-dasharray":this.crosshairsDashStyle||""})}}if(!i&&this.showToolTips!=false){var s=!F?this._toolTipElement.box:document.createElement("div");var e={left:0,top:0};if(F){s.style.position="absolute";s.style.cursor="default";s.style.overflow="hidden";a(s).addClass("jqx-rc-all jqx-button");a(document.body).append(s);var v=this}s.style.backgroundColor=G;s.style.borderColor=H;this._toolTipElement.box=s;this._toolTipElement.txt=q;var o="<span class='"+D+"'>"+q+"</span>";var h=this._toolTipElement.tmp;if(F){this._toolTipElement.tmp=h=document.createElement("div");h.style.position="absolute";h.style.cursor="default";h.style.overflow="hidden";h.style.display="none";h.style.zIndex=999999;h.style.backgroundColor=G;h.style.borderColor=H;a(h).addClass("jqx-rc-all jqx-button");this.host.append(h)}a(h).html(o);var r={width:a(h).width(),height:a(h).height()};r.width=r.width+5;r.height=r.height+6;m=Math.max(m,rect.x);k=Math.max(k-r.height,rect.y);if(r.width>rect.width||r.height>rect.height){return}if(m+e.left+r.width>rect.x+rect.width-5){m=rect.x+rect.width-r.width-e.left-5;s.style.left=e.left+m+"px"}if(k+e.top+r.height>rect.y+rect.height-5){k=rect.y+rect.height-r.height-5;s.style.top=e.top+k+"px"}var p=this.host.coord();if(F){a(s).fadeOut(0,0);s.style.left=e.left+m+p.left+"px";s.style.top=e.top+k+p.top+"px"}a(s).html(o);a(s).clearQueue();a(s).animate({left:e.left+m+p.left,top:e.top+k+p.top,opacity:1},300,"easeInOutCirc");a(s).fadeTo(400,1)}},_hideToolTip:function(b){if(!this._toolTipElement){return}if(this._toolTipElement.box){if(b==0){a(this._toolTipElement.box).hide()}else{a(this._toolTipElement.box).fadeOut()}}this._hideCrosshairs();this._toolTipElement.gidx=undefined},_hideCrosshairs:function(){if(!this._toolTipElement){return}if(this._toolTipElement.vLine){this.renderer.removeElement(this._toolTipElement.vLine);this._toolTipElement.vLine=undefined}if(this._toolTipElement.hLine){this.renderer.removeElement(this._toolTipElement.hLine);this._toolTipElement.hLine=undefined}},_showLabel:function(u,r,d,b,m,f,c){var g=this.seriesGroups[u];var k=g.series[r];var p={width:0,height:0};if(k.showLabels==false||(!k.showLabels&&!g.showLabels)){return c?p:undefined}if(b.width<0||b.height<0){return c?p:undefined}var e=k.labelAngle||k.labelsAngle||g.labelAngle||g.labelsAngle||0;var s=k.labelOffset||g.labelOffset||{x:0,y:0};var q=k.labelClass||g.labelClass||this.toThemeProperty("jqx-chart-label-text",null);m=m||"center";f=f||"center";var o=this._getFormattedValue(u,r,d);var l=b.width;var t=b.height;p=this.renderer.measureText(o,e,{"class":q});if(c){return p}var j=0;if(m==""||m=="center"){j+=(l-p.width)/2}else{if(m=="right"){j+=(l-p.width)}}var i=0;if(f==""||f=="center"){i+=(t-p.height)/2}else{if(f=="bottom"){i+=(t-p.height)}}var n=this.renderer.text(o,j+b.x+s.x,i+b.y+s.y,p.width,p.height,e,{},false,"center","center");this.renderer.attr(n,{"class":q});if(this._isVML){this.renderer.removeElement(n);this.renderer.getContainer()[0].appendChild(n)}return n},_getAnimProps:function(j,f){var e=this.seriesGroups[j];var c=!isNaN(f)?e.series[f]:undefined;var b=this.enableAnimations==true;if(e.enableAnimations){b=e.enableAnimations==true}if(c&&c.enableAnimations){b=c.enableAnimations==true}var i=this.animationDuration;if(isNaN(i)){i=1000}var d=e.animationDuration;if(!isNaN(d)){i=d}if(c){var h=c.animationDuration;if(!isNaN(h)){i=h}}if(i>5000){i=1000}return{enabled:b,duration:i}},_renderLineSeries:function(f,I){var B=this.seriesGroups[f];if(!B.series||B.series.length==0){return}var n=B.type.indexOf("area")!=-1;var E=B.type.indexOf("stacked")!=-1;var b=E&&B.type.indexOf("100")!=-1;var W=B.type.indexOf("spline")!=-1;var o=B.type.indexOf("step")!=-1;var G=B.type.indexOf("range")!=-1;var Y=B.polar==true||B.spider==true;if(Y){o=false}if(o&&W){return}var t=this._getDataLen(f);var U=I.width/t;var aa=B.orientation=="horizontal";var v=this._getCategoryAxis(f).flip==true;var r=I;if(aa){r={x:I.y,y:I.x,width:I.height,height:I.width}}var w=this._calcGroupOffsets(f,r);if(!w||w.xoffsets.length==0){return}for(var Q=B.series.length-1;Q>=0;Q--){var e=this._isSerieVisible(f,Q);if(!e){continue}var X=this._getSerieSettings(f,Q);var M=w.xoffsets.first;var A=M;do{var O=[];var L=[];var m=[];var H=-1;var k=0;var J=NaN;var z=NaN;var Z=NaN;if(w.xoffsets.length<1){continue}var K=this._getAnimProps(f,Q);var F=K.enabled&&!this._isToggleRefresh&&w.xoffsets.length<10000&&this._isVML!=true?K.duration:0;var q=M;var p=false;for(var V=M;V<=w.xoffsets.last;V++){M=V;var P=w.xoffsets.data[V];var N=w.xoffsets.xvalues[V];if(P==undefined){continue}P=Math.max(P,1);k=P;var j=w.offsets[Q][V].to;var T=w.offsets[Q][V].from;if(isNaN(j)||isNaN(T)){M++;p=true;break}var c=undefined;if(this._elementRenderInfo&&this._elementRenderInfo.length>f&&this._elementRenderInfo[f].series.length>Q){c=this._elementRenderInfo[f].series[Q][N];var Z=a.jqx._ptrnd(c?c.to:undefined);var D=a.jqx._ptrnd(r.x+(c?c.xoffset:undefined));m.push(aa?{y:D,x:Z,index:V}:{x:D,y:Z,index:V})}A=V;if(!n&&b){if(j<=r.y){j=r.y+1}if(j>=r.y+r.height){j=r.y+r.height-1}if(T<=r.y){T=r.y+1}if(T>=r.y+r.height){T=r.y+r.height-1}}P=Math.max(P,1);k=P+r.x;if(o&&!isNaN(J)&&!isNaN(z)){if(z!=j){O.push(aa?{y:k,x:a.jqx._ptrnd(z)}:{x:k,y:a.jqx._ptrnd(z)})}}O.push(aa?{y:k,x:a.jqx._ptrnd(j),index:V}:{x:k,y:a.jqx._ptrnd(j),index:V});L.push(aa?{y:k,x:a.jqx._ptrnd(T),index:V}:{x:k,y:a.jqx._ptrnd(T),index:V});J=k;z=j;if(isNaN(Z)){Z=j}}var g=r.x+w.xoffsets.data[q];var S=r.x+w.xoffsets.data[A];if(n&&B.alignEndPointsWithIntervals==true){var u=v?-1:1;if(g>r.x){g=r.x}if(S<r.x+r.width){S=r.x+r.width}if(v){var R=g;g=S;S=R}}S=a.jqx._ptrnd(S);g=a.jqx._ptrnd(g);var h=w.baseOffset;Z=a.jqx._ptrnd(Z);var d=a.jqx._ptrnd(j)||h;if(G){O=O.concat(L.reverse())}var C={groupIndex:f,serieIndex:Q,settings:X,pointsArray:O,pointsStart:m,left:g,right:S,pyStart:Z,pyEnd:d,yBase:h,swapXY:aa,isArea:n,isSpline:W,isRange:G,isPolar:Y,labelElements:[],symbolElements:[]};this._animateLine(C,F==0?1:0);var l=this;this._enqueueAnimation("series",undefined,undefined,F,function(s,i,ab){l._animateLine(i,ab)},C)}while(M<w.xoffsets.length-1||p)}},_animateLine:function(s,m){var c=this._calculateLine(s,s.pointsArray,s.pointsStart,s.yBase,m,s.isArea,s.swapXY);if(c==""){return}var o=c.split(" ");var b=o.length;var g=c;if(g!=""){g=this._buildLineCmd(c,s.isRange,s.left,s.right,s.pyStart,s.pyEnd,s.yBase,s.isArea,s.isPolar,s.isSpline,s.swapXY)}else{g="M 0 0"}var f=s.settings;if(!s.pathElement){s.pathElement=this.renderer.path(g,{"stroke-width":f.stroke,stroke:f.colors.lineColor,"stroke-opacity":f.opacity,"fill-opacity":f.opacity,"stroke-dasharray":f.dashStyle,fill:s.isArea?f.colors.fillColor:"none"});this._installHandlers(s.pathElement,s.groupIndex,s.serieIndex)}else{this.renderer.attr(s.pathElement,{d:g})}if(s.labelElements){for(var j=0;j<s.labelElements.length;j++){this.renderer.removeElement(s.labelElements[j])}}if(s.symbolElements){for(var j=0;j<s.symbolElements.length;j++){this.renderer.removeElement(s.symbolElements[j])}}var e=this._getSymbol(s.groupIndex,s.serieIndex);if(s.pointsArray.length==o.length){var l=this.seriesGroups[s.groupIndex].series[s.serieIndex];if(e!="none"){var k=s.symbolElements;var d=l.symbolSize;for(var j=0;j<o.length;j++){var q=o[j].split(",");q={x:parseFloat(q[0]),y:parseFloat(q[1])};var h=this._drawSymbol(e,q.x,q.y,f.colors.fillColorSymbol,f.colors.lineColorSymbol,1,f.opacity,d);var p=(j>0?o[j-1]:o[j]).split(",");p={x:parseFloat(p[0]),y:parseFloat(p[1])};var r=(j<o.length-1?o[j+1]:o[j]).split(",");r={x:parseFloat(r[0]),y:parseFloat(r[1])};q=this._adjustLineLabelPosition(s.groupIndex,s.serieIndex,s.pointsArray[j].index,q,p,r);var n=this._showLabel(s.groupIndex,s.serieIndex,s.pointsArray[j].index,{x:q.x,y:q.y,width:0,height:0});s.symbolElements.push(h);s.labelElements.push(n)}}}if(m==1&&e!="none"){for(var j=0;j<s.symbolElements.length;j++){this._installHandlers(s.symbolElements[j],s.groupIndex,s.serieIndex)}}},_adjustLineLabelPosition:function(i,g,d,h,f,e){var b=this._showLabel(i,g,d,{width:0,height:0},"","",true);var c={x:0,y:0};if(h.y==f.y&&h.x==f.x){if(e.y<h.y){c={x:h.x,y:h.y+b.height}}else{c={x:h.x,y:h.y-b.height}}}else{if(h.y==e.y&&h.x==e.x){if(f.y<h.y){c={x:h.x,y:h.y+b.height}}else{c={x:h.x,y:h.y-b.height}}}}if(h.y>f.y&&h.y>e.y){c={x:h.x,y:h.y+b.height}}else{c={x:h.x,y:h.y-b.height}}return c},_calculateLine:function(p,n,m,f,e,u,b){var t=this.seriesGroups[p.groupIndex];var l=undefined;if(t.polar==true||t.spider==true){l=this._getPolarAxisCoords(p.groupIndex,this._plotRect)}var q="";var r=n.length;if(!u&&m.length==0){r=Math.round(r*e)}var h=NaN;for(var s=0;s<r+1&&s<n.length;s++){if(s>0){q+=" "}var j=n[s].y;var k=n[s].x;var c=!u?j:f;var d=k;if(m&&m.length>s){c=m[s].y;d=m[s].x;if(isNaN(c)||isNaN(d)){c=j;d=k}}h=d;if(r<=n.length&&s>0&&s==r){d=n[s-1].x;c=n[s-1].y}if(b){k=a.jqx._ptrnd((k-d)*e+d);j=a.jqx._ptrnd((j-c)*e+c)}else{k=a.jqx._ptrnd((k-d)*e+d);j=a.jqx._ptrnd((j-c)*e+c)}if(l){var o=this._toPolarCoord(l,this._plotRect,k,j);k=o.x;j=o.y}q+=k+","+j;if(n.length==1&&!u){q+=" "+(k+2)+","+(j+2)}}return q},_buildLineCmd:function(k,i,f,o,n,b,p,m,q,d,j){var e=k;if(m&&!q&&!i){var c=j?p+","+f:f+","+p;var h=j?p+","+o:o+","+p;e=c+" "+k+" "+h}if(d){e=this._getBezierPoints(e)}var l=e.split(" ");var g=l[0].replace("C","");if(m&&!q){if(!i){e="M "+c+" L "+g+" "+e+" Z"}else{e="M "+g+" L "+g+(d?"":(" L "+g+" "))+e+" Z"}}else{if(d){e="M "+g+" "+e}else{e="M "+g+" L "+g+" "+e}}if(q&&m){e+=" Z"}return e},_getSerieSettings:function(i,c){var h=this.seriesGroups[i];var g=h.type.indexOf("area")!=-1;var f=h.type.indexOf("line")!=-1;var b=this._getColors(i,c,undefined,this._getGroupGradientType(i));var d=h.series[c];var k=d.dashStyle||h.dashStyle||"";var e=d.opacity||h.opacity;if(isNaN(e)||e<0||e>1){e=1}var j=d.lineWidth;if(isNaN(j)&&j!="auto"){j=h.lineWidth}if(j=="auto"||isNaN(j)||j<0||j>15){if(g){j=2}else{if(f){j=3}else{j=1}}}return{colors:b,stroke:j,opacity:e,dashStyle:k}},getItemColor:function(f,d,c){var g=-1;for(var b=0;b<this.seriesGroups.length;b++){if(this.seriesGroups[b]==f){g=b;break}}if(g==-1){return"#000000"}var e=-1;for(var b=0;b<this.seriesGroups[g].series.length;b++){if(this.seriesGroups[g].series[b]==d){e=b;break}}if(e==-1){return"#000000"}return this._getColors(g,e,c)},_getColors:function(m,j,h,d){var k=this.seriesGroups[m];if(k.type!="pie"&&k.type!="donut"){h=undefined}var i=k.series[j].useGradient||k.useGradient;if(i==undefined){i=true}var b={};if(isNaN(h)){b=this._getSeriesColors(m,j)}else{var c=this._getDataLen(m);color=this._getColor(k.series[j].colorScheme||k.colorScheme||this.colorScheme,j*c+h,m,j);b.fillColor=color;b.fillColorSelected=a.jqx._adjustColor(color,1.1);b.lineColor=b.symbolColor=a.jqx._adjustColor(color,0.9);b.lineColorSelected=b.symbolColorSelected=a.jqx._adjustColor(color,0.9)}var g=[[0,1.5],[100,1]];var e=[[0,1],[25,1.1],[50,1.5],[100,1]];var n=[[0,1.3],[90,1.2],[100,1]];if(i){if(d=="verticalLinearGradient"){b.fillColor=this.renderer._toLinearGradient(b.fillColor,true,g);b.fillColorSelected=this.renderer._toLinearGradient(b.fillColorSelected,true,g)}else{if(d=="horizontalLinearGradient"){b.fillColor=this.renderer._toLinearGradient(b.fillColor,false,e);b.fillColorSelected=this.renderer._toLinearGradient(b.fillColorSelected,false,e)}else{if(d=="radialGradient"){var f=undefined;var l=g;if((k.type=="pie"||k.type=="donut"||k.polar)&&h!=undefined&&this._renderData[m]&&this._renderData[m].offsets[j]){f=this._renderData[m].offsets[j][h];l=n}b.fillColor=this.renderer._toRadialGradient(b.fillColor,l,f);b.fillColorSelected=this.renderer._toRadialGradient(b.fillColorSelected,l,f)}}}}return b},_installHandlers:function(d,j,i,c){var b=this;var h=this.seriesGroups[j];var e=this.seriesGroups[j].series[i];var f=h.type.indexOf("line")!=-1||h.type.indexOf("area")!=-1;if(!f){this.renderer.addHandler(d,"mousemove",function(k){k.preventDefault();var g=k.pageX||k.clientX||k.screenX;var m=k.pageY||k.clientY||k.screenY;var l=b.host.offset();g-=l.left;m-=l.top;if(b._mouseX==g&&b._mouseY==m){return}if(b._toolTipElement){if(b._toolTipElement.gidx==j&&b._toolTipElement.sidx==i&&b._toolTipElement.iidx==c){return}}b._startTooltipTimer(j,i,c)})}this.renderer.addHandler(d,"mouseover",function(g){g.preventDefault();b._select(d,j,i,c);if(f){return}if(isNaN(c)){return}b._raiseItemEvent("mouseover",h,e,c)});this.renderer.addHandler(d,"mouseout",function(g){g.preventDefault();if(c!=undefined){b._cancelTooltipTimer()}if(f){return}b._unselect();if(isNaN(c)){return}b._raiseItemEvent("mouseout",h,e,c)});this.renderer.addHandler(d,"click",function(g){g.preventDefault();if(f){return}if(h.type.indexOf("column")!=-1){b._unselect()}if(isNaN(c)){return}b._raiseItemEvent("click",h,e,c)})},_getHorizontalOffset:function(A,s,k,j){var c=this._plotRect;var h=this._getDataLen(A);if(h==0){return{index:undefined,value:k}}var p=this._calcGroupOffsets(A,this._plotRect);if(p.xoffsets.length==0){return{index:undefined,value:undefined}}var n=k;var m=j;var w=this.seriesGroups[A];var l;if(w.polar||w.spider){l=this._getPolarAxisCoords(A,c)}if(w.orientation=="horizontal"&&!l){var z=n;n=m;m=z}var e=this._getCategoryAxis(A).flip==true;var b,o,v,f;for(var t=p.xoffsets.first;t<=p.xoffsets.last;t++){var u=p.xoffsets.data[t];var d=p.offsets[s][t].to;var q=0;if(l){var r=this._toPolarCoord(l,c,u+c.x,d);u=r.x;d=r.y;q=a.jqx._ptdist(n,m,u,d)}else{u+=c.x;d+=c.y;q=Math.abs(n-u)}if(isNaN(b)||b>q){b=q;o=t;v=u;f=d}}return{index:o,value:p.xoffsets.data[o],polarAxisCoords:l,x:v,y:f}},onmousemove:function(l,j){if(this._mouseX==l&&this._mouseY==j){return}this._mouseX=l;this._mouseY=j;if(!this._selected){return}var b=this._plotRect;var h=this._paddedRect;if(l<h.x||l>h.x+h.width||j<h.y||j>h.y+h.height){this._unselect();return}var w=this._selected.group;var t=this.seriesGroups[w];var o=t.series[this._selected.series];var d=t.orientation=="horizontal";var b=this._plotRect;if(t.type.indexOf("line")!=-1||t.type.indexOf("area")!=-1){var f=this._getHorizontalOffset(w,this._selected.series,l,j);var r=f.index;if(r==undefined){return}if(this._selected.item!=r){if(this._selected.item){this._raiseItemEvent("mouseout",t,o,this._selected.item)}this._selected.item=r;this._raiseItemEvent("mouseover",t,o,r)}var n=this._getSymbol(this._selected.group,this._selected.series);if(n=="none"){n="circle"}var p=this._calcGroupOffsets(w,b);var c=p.offsets[this._selected.series][r].to;var q=c;if(t.type.indexOf("range")!=-1){q=p.offsets[this._selected.series][r].from}var m=d?l:j;if(!isNaN(q)&&Math.abs(m-q)<Math.abs(m-c)){j=q}else{j=c}if(isNaN(j)){return}l=f.value;if(d){var u=l;l=j;j=u+b.y}else{l+=b.x}if(f.polarAxisCoords){l=f.x;j=f.y}j=a.jqx._ptrnd(j);l=a.jqx._ptrnd(l);if(this._pointMarker&&this._pointMarker.element){this.renderer.removeElement(this._pointMarker.element);this._pointMarker.element=undefined}if(isNaN(l)||isNaN(j)){return}var k=this._getSeriesColors(this._selected.group,this._selected.series);var e=o.opacity;if(isNaN(e)||e<0||e>1){e=t.opacity}if(isNaN(e)||e<0||e>1){e=1}var v=o.symbolSizeSelected;if(isNaN(v)){v=o.symbolSize}if(isNaN(v)||v>10||v<0){v=t.symbolSize}if(isNaN(v)||v>10||v<0){v=6}this._pointMarker={type:n,x:l,y:j,gidx:w,sidx:this._selected.series,iidx:r};this._pointMarker.element=this._drawSymbol(n,l,j,k.fillColorSymbolSelected,k.lineColorSymbolSelected,1,e,v);this._startTooltipTimer(w,this._selected.series,r)}},_drawSymbol:function(g,i,h,j,k,d,e,m){var c;var f=m||6;var b=f/2;switch(g){case"none":return undefined;case"circle":c=this.renderer.circle(i,h,f/2);break;case"square":f=f-1;b=f/2;c=this.renderer.rect(i-b,h-b,f,f);break;case"diamond":var l="M "+(i-b)+","+(h)+" L"+(i)+","+(h-b)+" L"+(i+b)+","+(h)+" L"+(i)+","+(h+b)+" Z";c=this.renderer.path(l);break;case"triangle_up":var l="M "+(i-b)+","+(h+b)+" L "+(i+b)+","+(h+b)+" L "+(i)+","+(h-b)+" Z";c=this.renderer.path(l);break;case"triangle_down":var l="M "+(i-b)+","+(h-b)+" L "+(i)+","+(h+b)+" L "+(i+b)+","+(h-b)+" Z";c=this.renderer.path(l);break;case"triangle_left":var l="M "+(i-b)+","+(h)+" L "+(i+b)+","+(h+b)+" L "+(i+b)+","+(h-b)+" Z";c=this.renderer.path(l);break;case"triangle_right":var l="M "+(i-b)+","+(h-b)+" L "+(i-b)+","+(h+b)+" L "+(i+b)+","+(h)+" Z";c=this.renderer.path(l);break;default:c=this.renderer.circle(i,h,f)}this.renderer.attr(c,{fill:j,stroke:k,"stroke-width":d,"stroke-opacity":e,"fill-opacity":e});return c},_getSymbol:function(f,b){var c=["circle","square","diamond","triangle_up","triangle_down","triangle_left","triangle_right"];var e=this.seriesGroups[f];var d=e.series[b];var h=undefined;if(d.symbolType!=undefined){h=d.symbolType}if(h==undefined){h=e.symbolType}if(h=="default"){return c[b%c.length]}else{if(h!=undefined){return h}}return"none"},_startTooltipTimer:function(h,f,d){this._cancelTooltipTimer();var b=this;var e=b.seriesGroups[h];var c=this.toolTipShowDelay||this.toolTipDelay;if(isNaN(c)||c>10000||c<0){c=500}if(this._toolTipElement||(true==this.enableCrosshairs&&false==this.showToolTips)){c=0}clearTimeout(this._tttimerHide);this._tttimer=setTimeout(function(){b._showToolTip(b._mouseX,b._mouseY-3,h,f,d);var g=b.toolTipHideDelay;if(isNaN(g)){g=4000}b._tttimerHide=setTimeout(function(){b._hideToolTip()},g)},c)},_cancelTooltipTimer:function(){clearTimeout(this._tttimer)},_getGroupGradientType:function(c){var b=this.seriesGroups[c];if(b.type.indexOf("area")!=-1){return b.orientation=="horizontal"?"horizontalLinearGradient":"verticalLinearGradient"}else{if(b.type.indexOf("column")!=-1){if(b.polar){return"radialGradient"}return b.orientation=="horizontal"?"verticalLinearGradient":"horizontalLinearGradient"}else{if(b.type.indexOf("scatter")!=-1||b.type.indexOf("bubble")!=-1||b.type.indexOf("pie")!=-1||b.type.indexOf("donut")!=-1){return"radialGradient"}}}return undefined},_select:function(d,i,h,c){if(this._selected&&this._selected.element!=d){this._unselect()}this._selected={element:d,group:i,series:h,item:c};var f=this.seriesGroups[i];var b=this._getColors(i,h,c,this._getGroupGradientType(i));if(f.type.indexOf("line")!=-1&&f.type.indexOf("area")==-1){b.fillColorSelected="none"}var e=this._getSerieSettings(i,h,c);this.renderer.attr(d,{stroke:b.lineColorSelected,fill:b.fillColorSelected,"stroke-width":e.stroke+0})},_unselect:function(){if(this._selected){var i=this._selected.group;var h=this._selected.series;var c=this._selected.item;var f=this.seriesGroups[i];var e=f.series[h];var b=this._getColors(i,h,c,this._getGroupGradientType(i));if(f.type.indexOf("line")!=-1&&f.type.indexOf("area")==-1){b.fillColor="none"}var d=this._getSerieSettings(i,h,c);this.renderer.attr(this._selected.element,{stroke:b.lineColor,fill:b.fillColor,"stroke-width":d.stroke});if((f.type.indexOf("line")!=-1||f.type.indexOf("area")!=-1)&&!isNaN(c)){this._raiseItemEvent("mouseout",f,e,c)}this._selected=undefined}if(this._pointMarker){if(this._pointMarker.element){this.renderer.removeElement(this._pointMarker.element);this._pointMarker.element=undefined}this._pointMarker=undefined;this._hideCrosshairs()}},_raiseItemEvent:function(f,g,e,c){var d=e[f]||g[f];var h=0;for(;h<this.seriesGroups.length;h++){if(this.seriesGroups[h]==g){break}}if(h==this.seriesGroups.length){return}var b={event:f,seriesGroup:g,serie:e,elementIndex:c,elementValue:this._getDataValue(c,e.dataField,h)};if(d&&a.isFunction(d)){d(b)}this._raiseEvent(f,b)},_raiseEvent:function(d,c){var e=new jQuery.Event(d);e.owner=this;e.args=c;var b=this.host.trigger(e);return b},_calcInterval:function(d,j,h){var m=Math.abs(j-d);var k=m/h;var f=[1,2,3,4,5,10,15,20,25,50,100];var b=[0.5,0.25,0.125,0.1];var c=0.1;var g=f;if(k<1){g=b;c=10}var l=0;do{l=0;if(k>=1){c*=10}else{c/=10}for(var e=1;e<g.length;e++){if(Math.abs(g[l]*c-k)>Math.abs(g[e]*c-k)){l=e}else{break}}}while(l==g.length-1);return g[l]*c},_renderDataDeepCopy:function(){if(!this._renderData||this._isToggleRefresh){return}var d=this._elementRenderInfo=[];for(var h=0;h<this._renderData.length;h++){var c=this._getCategoryAxis(h).dataField;while(d.length<=h){d.push({})}var b=d[h];var f=this._renderData[h];if(!f.offsets){continue}if(f.valueAxis){b.valueAxis={itemOffsets:{}};for(var k in f.valueAxis.itemOffsets){b.valueAxis.itemOffsets[k]=f.valueAxis.itemOffsets[k]}}if(f.categoryAxis){b.categoryAxis={itemOffsets:{}};for(var k in f.categoryAxis.itemOffsets){b.categoryAxis.itemOffsets[k]=f.categoryAxis.itemOffsets[k]}}b.series=[];var g=b.series;var j=this.seriesGroups[h].type;var m=j.indexOf("pie")!=-1||j.indexOf("donut")!=-1;for(var n=0;n<f.offsets.length;n++){g.push({});for(var e=0;e<f.offsets[n].length;e++){if(!m){g[n][f.xoffsets.xvalues[e]]={value:f.offsets[n][e].value,valueFrom:f.offsets[n][e].valueFrom,valueRadius:f.offsets[n][e].valueRadius,xoffset:f.xoffsets.data[e],from:f.offsets[n][e].from,to:f.offsets[n][e].to}}else{var l=f.offsets[n][e];g[n][l.displayValue]={value:l.value,x:l.x,y:l.y,fromAngle:l.fromAngle,toAngle:l.toAngle}}}}}},_calcGroupOffsets:function(f,I){var u=this.seriesGroups[f];while(this._renderData.length<f+1){this._renderData.push({})}if(this._renderData[f]!=null&&this._renderData[f].offsets!=undefined){return this._renderData[f]}if(u.type.indexOf("pie")!=-1||u.type.indexOf("donut")!=-1){return this._calcPieSeriesGroupOffsets(f,I)}if(!u.valueAxis||!u.series||u.series.length==0){return this._renderData[f]}var v=u.valueAxis.flip==true;var L=u.valueAxis.logarithmicScale==true;var K=u.valueAxis.logarithmicScaleBase||10;var Q=new Array();var C=u.type.indexOf("stacked")!=-1;var c=C&&u.type.indexOf("100")!=-1;var H=u.type.indexOf("range")!=-1;var o=this._getDataLen(f);var n=u.baselineValue||u.valueAxis.baselineValue||0;if(H){n=0}var aa=this._stats.seriesGroups[f];if(!aa||!aa.isValid){return}if(n>aa.max){n=aa.max}if(n<aa.min){n=aa.min}var m=(c||L)?aa.maxRange:aa.max-aa.min;var ae=aa.min;var A=aa.max;var J=I.height/(L?aa.intervals:m);var ac=0;if(c){if(ae*A<0){m/=2;ac=-(m+n)*J}else{ac=-n*J}}else{ac=-(n-ae)*J}if(v){ac=I.y-ac}else{ac+=I.y+I.height}var ab=new Array();var X=new Array();var P=new Array();var ad,E;if(L){ad=a.jqx.log(A,K)-a.jqx.log(n,K);if(C){ad=aa.intervals;n=c?0:ae}E=aa.intervals-ad;if(!v){ac=I.y+ad/aa.intervals*I.height}}ac=a.jqx._ptrnd(ac);var b=(ae*A<0)?I.height/2:I.height;var g=[];var z=[];if(u.bands){for(var V=0;V<u.bands.length;V++){var r=u.bands[V].minValue;var ah=u.bands[V].maxValue;var aj=0;var ai=0;if(L){aj=(a.jqx.log(r,K)-a.jqx.log(n,K))*J;ai=(a.jqx.log(ah,K)-a.jqx.log(n,K))*J}else{aj=(r-n)*J;ai=(ah-n)*J}if(this._isVML){aj=Math.round(aj);ai=Math.round(ai)}else{aj=a.jqx._ptrnd(aj)-1;ai=a.jqx._ptrnd(ai)-1}if(v){z.push({from:ac+ai,to:ac+aj})}else{z.push({from:ac-ai,to:ac-aj})}}}for(var V=0;V<u.series.length;V++){if(!C&&L){g=[]}var B=u.series[V].dataField;var ag=u.series[V].dataFieldFrom;var M=u.series[V].dataFieldTo;var T=u.series[V].radiusDataField;Q.push(new Array());var e=this._isSerieVisible(f,V);for(var W=0;W<o;W++){var af=NaN;if(H){af=this._getDataValueAsNumber(W,ag,f);if(isNaN(af)){af=n}}var G=NaN;if(H){G=this._getDataValueAsNumber(W,M,f)}else{G=this._getDataValueAsNumber(W,B,f)}var d=this._getDataValueAsNumber(W,T,f);if(!e){G=NaN}if(isNaN(G)||(L&&G<=0)){Q[V].push({from:undefined,to:undefined});continue}var F=(G>=n)?ab:X;var Z=J*(G-n);if(H){Z=J*(G-af)}if(L){while(g.length<=W){g.push({p:{value:0,height:0},n:{value:0,height:0}})}var w=H?af:n;var U=G>w?g[W].p:g[W].n;U.value+=G;if(c){G=U.value/(aa.psums[W]+aa.nsums[W])*100;Z=(a.jqx.log(G,K)-aa.minPow)*J}else{Z=a.jqx.log(U.value,K)-a.jqx.log(w,K);Z*=J}Z-=U.height;U.height+=Z}var O=ac;if(H){var p=0;if(L){p=(a.jqx.log(af,K)-a.jqx.log(n,K))*J}else{p=(af-n)*J}O+=v?p:-p}if(C){if(c&&!L){var t=(aa.psums[W]-aa.nsums[W]);if(G>n){Z=(aa.psums[W]/t)*b;if(aa.psums[W]!=0){Z*=G/aa.psums[W]}}else{Z=(aa.nsums[W]/t)*b;if(aa.nsums[W]!=0){Z*=G/aa.nsums[W]}}}if(isNaN(F[W])){F[W]=O}O=F[W]}if(isNaN(P[W])){P[W]=0}var Y=P[W];Z=Math.abs(Z);var R=Z;h_new=this._isVML?Math.round(Z):a.jqx._ptrnd(Z)-1;if(Math.abs(Z-h_new)>0.5){Z=Math.round(Z)}else{Z=h_new}Y+=Z-R;if(!C){Y=0}if(Math.abs(Y)>0.5){if(Y>0){Z-=1;Y-=1}else{Z+=1;Y+=1}}P[W]=Y;if(V==u.series.length-1&&c){var s=0;for(var S=0;S<V;S++){s+=Math.abs(Q[S][W].to-Q[S][W].from)}s+=Z;if(s<b){if(Z>0.5){Z=a.jqx._ptrnd(Z+b-s)}else{var S=V-1;while(S>=0){var D=Math.abs(Q[S][W].to-Q[S][W].from);if(D>1){if(Q[S][W].from>Q[S][W].to){Q[S][W].from+=b-s}break}S--}}}}if(v){Z*=-1}var N=G<n;if(H){N=af>G}var l=isNaN(af)?G:{from:af,to:G};if(N){F[W]+=Z;Q[V].push({from:O,to:O+Z,value:l,valueFrom:af,valueRadius:d})}else{F[W]-=Z;Q[V].push({from:O,to:O-Z,value:l,valueFrom:af,valueRadius:d})}}}var q=this._renderData[f];q.baseOffset=ac;q.offsets=Q;q.bands=z;q.xoffsets=this._calculateXOffsets(f,I.width);return this._renderData[f]},_calcPieSeriesGroupOffsets:function(d,b){var k=this._getDataLen(d);var l=this.seriesGroups[d];var u=this._renderData[d]={};var A=u.offsets=[];for(var v=0;v<l.series.length;v++){var q=l.series[v];var m=q.initialAngle||0;var t=m;var e=q.radius||Math.min(b.width,b.height)*0.4;if(isNaN(e)){e=1}var j=q.innerRadius||0;if(isNaN(j)||j>=e){j=0}var c=q.centerOffset||0;var E=a.jqx.getNum([q.offsetX,l.offsetX,b.width/2]);var D=a.jqx.getNum([q.offsetY,l.offsetY,b.height/2]);A.push([]);var f=0;var g=0;for(var z=0;z<k;z++){var F=this._getDataValueAsNumber(z,q.dataField,d);if(isNaN(F)){continue}if(F>0){f+=F}else{g+=F}}var p=f-g;if(p==0){p=1}for(var z=0;z<k;z++){var F=this._getDataValueAsNumber(z,q.dataField,d);if(isNaN(F)){A[v].push({});continue}var w=q.displayText||q.displayField;var h=this._getDataValue(z,w,d);if(h==undefined){h=z}var C=Math.round(Math.abs(F)/p*360);if(z+1==k){C=360+m-t}var o=b.x+E;var n=b.y+D;var B=c;if(a.isFunction(c)){B=c({seriesIndex:v,seriesGroupIndex:d,itemIndex:z})}if(isNaN(B)){B=0}var r={key:d+"_"+v+"_"+z,value:F,displayValue:h,x:o,y:n,fromAngle:t,toAngle:t+C,centerOffset:B,innerRadius:j,outerRadius:e};A[v].push(r);t+=C}}return u},_isPointSeriesOnly:function(){for(var b=0;b<this.seriesGroups.length;b++){var c=this.seriesGroups[b];if(c.type.indexOf("line")==-1&&c.type.indexOf("area")==-1&&c.type.indexOf("scatter")==-1&&c.type.indexOf("bubble")==-1){return false}}return true},_alignValuesWithTicks:function(f){var b=this._isPointSeriesOnly();var c=this.seriesGroups[f];var e=this._getCategoryAxis(f);var d=e.valuesOnTicks==undefined?b:e.valuesOnTicks!=false;if(f==undefined){return d}if(c.valuesOnTicks==undefined){return d}return c.valuesOnTicks},_getYearsDiff:function(c,b){return b.getFullYear()-c.getFullYear()},_getMonthsDiff:function(c,b){return 12*(b.getFullYear()-c.getFullYear())+b.getMonth()-c.getMonth()},_getDateDiff:function(f,e,d,b){var c=0;if(d!="year"&&d!="month"){c=e.valueOf()-f.valueOf()}switch(d){case"year":c=this._getYearsDiff(f,e);break;case"month":c=this._getMonthsDiff(f,e);break;case"day":c/=(24*3600*1000);break;case"hour":c/=(3600*1000);break;case"minute":c/=(60*1000);break;case"second":c/=(1000);break;case"millisecond":break}if(d!="year"&&d!="month"&&b!=false){c=a.jqx._rnd(c,1,true)}return c},_getDateTimeArray:function(f,m,o,n,b){var h=[];var j=this._getDateDiff(f,m,o);if(n){j+=b}if(o=="year"){var d=f.getFullYear();for(var g=0;g<j;g++){h.push(new Date(d,0,1,0,0,0,0));d++}}else{if(o=="month"){var k=f.getMonth();var l=f.getFullYear();for(var g=0;g<j;g++){h.push(new Date(l,k,1,0,0,0,0));k++;if(k>11){l++;k=0}}}else{if(o=="day"){for(var g=0;g<j;g++){var e=new Date(f.valueOf()+g*1000*3600*24);h.push(e)}}else{var c=0;switch(o){case"millisecond":c=1;break;case"second":c=1000;break;case"minute":c=60*1000;break;case"hour":c=3600*1000;break}for(var g=0;g<j;g++){var e=new Date(f.valueOf()+g*c);h.push(e)}}}}return h},_getAsDate:function(b,c){b=this._castAsDate(b);if(c=="month"){return new Date(b.getFullYear(),b.getMonth(),1)}if(c=="year"){return new Date(b.getFullYear(),0,1)}if(c=="day"){return new Date(b.getFullYear(),b.getMonth(),b.getDate())}return b},_getCategoryAxisStats:function(p,c){var e=this._getDataLen(p);var m=c.type=="date"||c.type=="time";var l=m?this._castAsDate(c.minValue):this._castAsNumber(c.minValue);var b=m?this._castAsDate(c.maxValue):this._castAsNumber(c.maxValue);var h=l,n=b;if(isNaN(h)||isNaN(n)){for(var j=0;j<e;j++){var o=this._getDataValue(j,c.dataField,p);o=m?this._castAsDate(o):this._castAsNumber(o);if(isNaN(o)){continue}if(isNaN(l)){if(o<h||isNaN(h)){h=o}}if(isNaN(b)){if(o>n||isNaN(n)){n=o}}}}if(m){h=new Date(h);n=new Date(n)}if(m&&!(this._isDate(h)&&this._isDate(n))){throw"Invalid Date values"}var g=!isNaN(c.maxValue)||!isNaN(c.minValue);if(g&&(isNaN(n)||isNaN(h))){g=false;throw"Invalid min/max category values"}if(!g&&!m){h=0;n=e-1}var f=c.baseUnit;var k=f=="hour"||f=="minute"||f=="second"||f=="millisecond";var d=c.unitInterval;if(isNaN(d)||d<=0){d=1}if(k){if(f=="second"){d*=1000}else{if(f=="minute"){d*=60*1000}else{if(f=="hour"){d*=3600*1000}}}}return{min:h,max:n,isRange:g,isDateTime:m,isTimeUnit:k,dateTimeUnit:f,interval:d}},_scaleDateTimeAxis:function(h,f){var g=h.min;var k=h.max;var e=h.dateTimeUnit;var i=h.isTimeUnit;var c=h.interval;var l=this._getAsDate(k,e);var j=this._getAsDate(g,e);if(!i&&!f){if(e=="month"){l.setMonth(l.getMonth()+1)}else{if(e=="year"){l.setYear(l.getFullYear()+1)}else{l.setDate(l.getDate()+1)}}}var b=0;var d=this._getDateDiff(j,l,i?"millisecond":e);while(l<=k){d=a.jqx._rnd(d,c,true);if(e=="month"){j=new Date(j.getFullYear(),j.getMonth(),1);l=new Date(j);l.setMonth(l.getMonth()+d)}else{if(e=="year"){j=new Date(j.getFullYear(),0,1);l=new Date(j);l.setYear(l.getFullYear()+d)}else{l=new Date(g);if(i){l.setTime(j.getTime()+d)}else{l.setDate(j.getDate()+d)}}}if(l<k){d++}else{break}}if(!i){if(e=="day"){b=this._getDateDiff(j,l,"day",false)}else{b=a.jqx._rnd(this._getDateDiff(j,l,"day",false),c,true)}l=new Date(j);l.setDate(j.getDate()+b)}d=this._getDateDiff(j,l,i?"millisecond":e);return{min:j,max:l,rangeLength:d,daysRange:b}},_calculateXOffsets:function(f,H){var o=this._getCategoryAxis(f);var C=new Array();var m=new Array();var n=this._getDataLen(f);var d=this._getCategoryAxisStats(f,o);var A=d.min;var E=d.max;var z=d.isRange;var b=d.isDateTime;var K=d.isTimeUnit;var t=d.dateTimeUnit;var I=d.interval;var F=this.seriesGroups[f];var c=F.polar||F.spider;var M=NaN;var l=this._alignValuesWithTicks(f);if(z){if(l){M=E-A}else{M=E-A+I}}else{M=n-1;if(!l){M++}}if(c&&l){M+=I}if(M==0){M=I}var J=E;var G=A;var v=0;if(b){var L=this._scaleDateTimeAxis(d,l);G=L.min;J=L.max;M=L.rangeLength;v=L.daysRange}var k=Math.max(1,M/I);var h=H/k;var u=f!=undefined&&this.seriesGroups[f].type.indexOf("column")!=-1;var r=0;if(!l&&!u){if(b&&!K){r=H/Math.max(1,v*2)}else{r=h/2}}var q=t;if(b){q=K?"millisecond":"day"}var j=-1,p=-1;for(var D=0;D<n;D++){var w=(o.dataField===undefined)?D:this._getDataValue(D,o.dataField,f);if(!z&&!b){C.push(a.jqx._ptrnd(r+(D-G)/M*H));m.push(w);if(j==-1){j=D}if(p==-1||p<D){p=D}continue}w=b?this._castAsDate(w):this._castAsNumber(w);if(isNaN(w)||w<A||w>E){C.push(-1);m.push(undefined);continue}var s=0;if(!b||(b&&K)){diffFromMin=w-G;s=(w-G)*H/M}else{s=this._getDateDiff(G,w,t,false)*h/I;if(t!="day"){var B=this._getDateDiff(this._getAsDate(w,t),w,q,false);s+=B/v*H}}s=a.jqx._ptrnd(r+s);C.push(s);m.push(w);if(j==-1){j=D}if(p==-1||p<D){p=D}}if(o.flip==true){C.reverse()}if(K){M=this._getDateDiff(G,J,o.baseUnit);M=a.jqx._rnd(M,1,false)}var e=h;k=Math.max(1,M);h=H/k;return{data:C,xvalues:m,first:j,last:p,length:p==-1?0:p-j+1,itemWidth:h,intervalWidth:e,rangeLength:M,min:G,max:J,customRange:z}},_getCategoryAxis:function(b){if(b==undefined||this.seriesGroups.length<=b){return this.categoryAxis}return this.seriesGroups[b].categoryAxis||this.categoryAxis},_isGreyScale:function(e,b){var d=this.seriesGroups[e];var c=d.series[b];if(c.greyScale==true){return true}else{if(c.greyScale==false){return false}}if(d.greyScale==true){return true}else{if(d.greyScale==false){return false}}return this.greyScale==true},_getSeriesColors:function(e,c){var b=this._getSeriesColorsInternal(e,c);if(this._isGreyScale(e,c)){for(var d in b){b[d]=a.jqx.toGreyScale(b[d])}}return b},_getSeriesColorsInternal:function(u,h){var l=this.seriesGroups[u];var v=l.series[h];var r="#222222";var e="#151515";var n="#222222";var b="#151515";var d="#222222";var q="#333333";var o="#222222";var c="#333333";if(v.color||v.fillColor){d=v.color||v.fillColor}else{var t=0;for(var k=0;k<=u;k++){for(var f in this.seriesGroups[k].series){if(k==u&&f==h){break}else{t++}}}var p=this.colorScheme;if(l.colorScheme){p=l.colorScheme;sidex=h}if(p==undefined||p==""){p=this.colorSchemes[0].name}if(p){for(var k=0;k<this.colorSchemes.length;k++){var m=this.colorSchemes[k];if(m.name==p){while(t>m.colors.length){t-=m.colors.length;if(++k>=this.colorSchemes.length){k=0}m=this.colorSchemes[k]}d=m.colors[t%m.colors.length]}}}}if(v.fillColorSelected){q=v.fillColorSelected}else{q=a.jqx._adjustColor(d,1.1)}if(v.lineColor){r=v.lineColor}else{r=a.jqx._adjustColor(d,0.9)}if(v.lineColorSelected){e=v.lineColorSelected}else{e=a.jqx._adjustColor(d,0.8)}if(v.lineColorSymbol){n=v.lineColorSymbol}else{n=r}if(v.lineColorSymbolSelected){b=v.lineColorSymbolSelected}else{b=e}if(v.fillColorSymbol){o=v.fillColorSymbol}else{o=d}if(v.fillColorSymbolSelected){c=v.fillColorSymbolSelected}else{c=q}return{lineColor:r,lineColorSelected:e,fillColor:d,fillColorSelected:q,lineColorSymbol:n,lineColorSymbolSelected:b,fillColorSymbol:o,fillColorSymbolSelected:c}},_getColor:function(d,f,k,h){if(d==undefined||d==""){d=this.colorSchemes[0].name}for(var g=0;g<this.colorSchemes.length;g++){if(d==this.colorSchemes[g].name){break}}var e=0;while(e<=f){if(g==this.colorSchemes.length){g=0}var b=this.colorSchemes[g].colors.length;if(e+b<=f){e+=b;g++}else{var c=this.colorSchemes[g].colors[f-e];if(this._isGreyScale(k,h)&&c.indexOf("#")==0){c=a.jqx.toGreyScale(c)}return c}}},getColorScheme:function(b){for(var c in this.colorSchemes){if(this.colorSchemes[c].name==b){return this.colorSchemes[c].colors}}return undefined},addColorScheme:function(c,b){for(var d in this.colorSchemes){if(this.colorSchemes[d].name==c){this.colorSchemes[d].colors=b;return}}this.colorSchemes.push({name:c,colors:b})},removeColorScheme:function(b){for(var c in this.colorSchemes){if(this.colorSchemes[c].name==b){this.colorSchemes.splice(c,1);break}}},colorSchemes:[{name:"scheme01",colors:["#307DD7","#AA4643","#89A54E","#71588F","#4198AF"]},{name:"scheme02",colors:["#7FD13B","#EA157A","#FEB80A","#00ADDC","#738AC8"]},{name:"scheme03",colors:["#E8601A","#FF9639","#F5BD6A","#599994","#115D6E"]},{name:"scheme04",colors:["#D02841","#FF7C41","#FFC051","#5B5F4D","#364651"]},{name:"scheme05",colors:["#25A0DA","#309B46","#8EBC00","#FF7515","#FFAE00"]},{name:"scheme06",colors:["#0A3A4A","#196674","#33A6B2","#9AC836","#D0E64B"]},{name:"scheme07",colors:["#CC6B32","#FFAB48","#FFE7AD","#A7C9AE","#888A63"]},{name:"scheme08",colors:["#2F2933","#01A2A6","#29D9C2","#BDF271","#FFFFA6"]},{name:"scheme09",colors:["#1B2B32","#37646F","#A3ABAF","#E1E7E8","#B22E2F"]},{name:"scheme10",colors:["#5A4B53","#9C3C58","#DE2B5B","#D86A41","#D2A825"]},{name:"scheme11",colors:["#993144","#FFA257","#CCA56A","#ADA072","#949681"]}],_formatValue:function(f,i,b,h,d,c){if(f==undefined){return""}if(this._isObject(f)&&!b){return""}if(b){if(!a.isFunction(b)){return f.toString()}try{return b(f,c,d,h)}catch(g){return g.message}}if(this._isNumber(f)){return this._formatNumber(f,i)}if(this._isDate(f)){return this._formatDate(f,i)}if(i){return(i.prefix||"")+f.toString()+(i.sufix||"")}return f.toString()},_getFormattedValue:function(o,f,b,c,d){var j=this.seriesGroups[o];var q=j.series[f];var p="";var i=c,l=d;if(!l){l=q.formatFunction||j.formatFunction}if(!i){i=q.formatSettings||j.formatSettings}if(!q.formatFunction&&q.formatSettings){l=undefined}if(j.type.indexOf("range")!=-1){var h=this._getDataValue(b,q.dataFieldFrom,o);var n=this._getDataValue(b,q.dataFieldTo,o);if(l&&a.isFunction(l)){try{return l({from:h,to:n},b,q,j)}catch(k){return k.message}}if(undefined!=h){p=this._formatValue(h,i,l,j,q,b)}if(undefined!=n){p+=", "+this._formatValue(n,i,l,j,q,b)}}else{var m=this._getDataValue(b,q.dataField,o);if(undefined!=m){p=this._formatValue(m,i,l,j,q,b)}}return p||""},_isNumberAsString:function(d){if(typeof(d)!="string"){return false}d=a.trim(d);for(var b=0;b<d.length;b++){var c=d.charAt(b);if((c>="0"&&c<="9")||c==","||c=="."){continue}if(c=="-"&&b==0){continue}if((c=="("&&b==0)||(c==")"&&b==d.length-1)){continue}return false}return true},_castAsDate:function(c){if(c instanceof Date&&!isNaN(c)){return c}if(typeof(c)=="string"){var b=new Date(c);if(isNaN(b)){b=this._parseISO8601Date(c)}if(b!=undefined&&!isNaN(b)){return b}}return undefined},_parseISO8601Date:function(g){var k=g.split(" ");if(k.length<0){return NaN}var b=k[0].split("-");var c=k.length==2?k[1].split(":"):"";var f=b[0];var h=b.length>1?b[1]-1:0;var i=b.length>2?b[2]:1;var d=c[1];var e=c.length>1?c[1]:0;var d=c.length>2?c[2]:0;var j=c.length>3?c[3]:0;return new Date(f,h,i,d,e,j)},_castAsNumber:function(c){if(c instanceof Date&&!isNaN(c)){return c.valueOf()}if(typeof(c)=="string"){if(this._isNumber(c)){c=parseFloat(c)}else{var b=new Date(c);if(b!=undefined){c=b.valueOf()}}}return c},_isNumber:function(b){if(typeof(b)=="string"){if(this._isNumberAsString(b)){b=parseFloat(b)}}return typeof b==="number"&&isFinite(b)},_isDate:function(b){return b instanceof Date},_isBoolean:function(b){return typeof b==="boolean"},_isObject:function(b){return(b&&(typeof b==="object"||a.isFunction(b)))||false},_formatDate:function(c,b){return c.toString()},_formatNumber:function(n,e){if(!this._isNumber(n)){return n}e=e||{};var q=e.decimalSeparator||".";var o=e.thousandsSeparator||"";var m=e.prefix||"";var p=e.sufix||"";var h=e.decimalPlaces;if(isNaN(h)){h=((n*100!=parseInt(n)*100)?2:0)}var l=e.negativeWithBrackets||false;var g=(n<0);if(g&&l){n*=-1}var d=n.toString();var b;var k=Math.pow(10,h);d=(Math.round(n*k)/k).toString();if(isNaN(d)){d=""}b=d.lastIndexOf(".");if(h>0){if(b<0){d+=q;b=d.length-1}else{if(q!=="."){d=d.replace(".",q)}}while((d.length-1-b)<h){d+="0"}}b=d.lastIndexOf(q);b=(b>-1)?b:d.length;var f=d.substring(b);var c=0;for(var j=b;j>0;j--,c++){if((c%3===0)&&(j!==b)&&(!g||(j>1)||(g&&l))){f=o+f}f=d.charAt(j-1)+f}d=f;if(g&&l){d="("+d+")"}return m+d+p},_defaultNumberFormat:{prefix:"",sufix:"",decimalSeparator:".",thousandsSeparator:",",decimalPlaces:2,negativeWithBrackets:false},_getBezierPoints:function(h){var m=[];var j=h.split(" ");for(var g=0;g<j.length;g++){var n=j[g].split(",");m.push({x:parseFloat(n[0]),y:parseFloat(n[1])})}var o="";if(m.length<3){for(var g=0;g<m.length;g++){o+=(g>0?" ":"")+m[g].x+","+m[g].y}}else{for(var g=0;g<m.length-1;g++){var c=[];if(0==g){c.push(m[g]);c.push(m[g]);c.push(m[g+1]);c.push(m[g+2])}else{if(m.length-2==g){c.push(m[g-1]);c.push(m[g]);c.push(m[g+1]);c.push(m[g+1])}else{c.push(m[g-1]);c.push(m[g]);c.push(m[g+1]);c.push(m[g+2])}}var e=[];var k=g>3?9:5;var l=g==0?81:k;var f={x:((-c[0].x+l*c[1].x+c[2].x)/l),y:((-c[0].y+l*c[1].y+c[2].y)/l)};if(g==0){l=k}var d={x:((c[1].x+l*c[2].x-c[3].x)/l),y:((c[1].y+l*c[2].y-c[3].y)/l)};e.push({x:c[1].x,y:c[1].y});e.push(f);e.push(d);e.push({x:c[2].x,y:c[2].y});o+="C"+a.jqx._ptrnd(e[1].x)+","+a.jqx._ptrnd(e[1].y)+" "+a.jqx._ptrnd(e[2].x)+","+a.jqx._ptrnd(e[2].y)+" "+a.jqx._ptrnd(e[3].x)+","+a.jqx._ptrnd(e[3].y)+" "}}return o},_animTickInt:50,_createAnimationGroup:function(b){if(!this._animGroups){this._animGroups={}}this._animGroups[b]={animations:[],startTick:NaN}},_startAnimation:function(c){var e=new Date();var b=e.getTime();this._animGroups[c].startTick=b;this._runAnimation();this._enableAnimTimer()},_enqueueAnimation:function(e,d,c,g,f,b,h){if(g<0){g=0}if(h==undefined){h="easeInOutSine"}this._animGroups[e].animations.push({key:d,properties:c,duration:g,fn:f,context:b,easing:h})},_stopAnimations:function(){clearTimeout(this._animtimer);this._animtimer=undefined;this._animGroups=undefined},_enableAnimTimer:function(){if(!this._animtimer){var b=this;this._animtimer=setTimeout(function(){b._runAnimation()},this._animTickInt)}},_runAnimation:function(){if(this._animGroups){var s=new Date();var h=s.getTime();var o={};for(var l in this._animGroups){var r=this._animGroups[l].animations;var m=this._animGroups[l].startTick;var g=0;for(var n=0;n<r.length;n++){var t=r[n];var b=(h-m);if(t.duration>g){g=t.duration}var q=t.duration>0?b/t.duration:1;var k=q;if(t.easing&&t.duration!=0){k=jQuery.easing[t.easing](q,b,0,1,t.duration)}if(q>1){q=1;k=1}if(t.fn){t.fn(t.key,t.context,k);continue}var f={};for(var l=0;l<t.properties.length;l++){var c=t.properties[l];var e=0;if(q==1){e=c.to}else{e=easeParecent*(c.to-c.from)+c.from}f[c.key]=e}this.renderer.attr(t.key,f)}if(m+g>h){o[l]=({startTick:m,animations:r})}}this._animGroups=o;if(this.renderer instanceof a.jqx.HTML5Renderer){this.renderer.refresh()}}this._animtimer=null;for(var l in this._animGroups){this._enableAnimTimer();break}}});a.jqx.toGreyScale=function(b){if(b.indexOf("#")==-1){return b}var c=a.jqx.cssToRgb(b);c[0]=c[1]=c[2]=Math.round(0.3*c[0]+0.59*c[1]+0.11*c[2]);var d=a.jqx.rgbToHex(c[0],c[1],c[2]);return"#"+d[0]+d[1]+d[2]},a.jqx._adjustColor=function(d,b){if(d.indexOf("#")==-1){return d}var e=a.jqx.cssToRgb(d);var d="#";for(var f=0;f<3;f++){var g=Math.round(b*e[f]);if(g>255){g=255}else{if(g<=0){g=0}}g=a.jqx.decToHex(g);if(g.toString().length==1){d+="0"}d+=g}return d.toUpperCase()};a.jqx.decToHex=function(b){return b.toString(16)},a.jqx.hexToDec=function(b){return parseInt(b,16)};a.jqx.rgbToHex=function(e,d,c){return[a.jqx.decToHex(e),a.jqx.decToHex(d),a.jqx.decToHex(c)]};a.jqx.hexToRgb=function(c,d,b){return[a.jqx.hexToDec(c),a.jqx.hexToDec(d),a.jqx.hexToDec(b)]};a.jqx.cssToRgb=function(b){if(b.indexOf("rgb")<=-1){return a.jqx.hexToRgb(b.substring(1,3),b.substring(3,5),b.substring(5,7))}return b.substring(4,b.length-1).split(",")};a.jqx.swap=function(b,d){var c=b;b=d;d=c};a.jqx.getNum=function(b){if(!a.isArray(b)){if(isNaN(b)){return 0}}else{for(var c=0;c<b.length;c++){if(!isNaN(b[c])){return b[c]}}}return 0};a.jqx._ptdist=function(c,e,b,d){return Math.sqrt((b-c)*(b-c)+(d-e)*(d-e))};a.jqx._ptrnd=function(c){if(!document.createElementNS){if(Math.round(c)==c){return c}return a.jqx._rnd(c,1,false,true)}var b=a.jqx._rnd(c,0.5,false,true);if(Math.abs(b-Math.round(b))!=0.5){return b>c?b-0.5:b+0.5}return b};a.jqx._rup=function(c){var b=Math.round(c);if(c>b){b++}return b};a.jqx.log=function(c,b){return Math.log(c)/(b?Math.log(b):1)};a.jqx._mod=function(d,c){var e=Math.abs(d>c?c:d);var f=1;if(e!=0){while(e*f<100){f*=10}}d=d*f;c=c*f;return(d%c)/f};a.jqx._rnd=function(d,f,e,c){if(isNaN(d)){return d}var b=d-((c==true)?d%f:a.jqx._mod(d,f));if(d==b){return b}if(e){if(d>b){b+=f}}else{if(b>d){b-=f}}return b};a.jqx.commonRenderer={pieSlicePath:function(j,i,g,q,z,A,d){if(!q){q=1}var l=Math.abs(z-A);var o=l>180?1:0;if(l>=360){A=z+359.99}var p=z*Math.PI*2/360;var h=A*Math.PI*2/360;var v=j,u=j,f=i,e=i;var m=!isNaN(g)&&g>0;if(m){d=0}if(d+g>0){if(d>0){var k=l/2+z;var w=k*Math.PI*2/360;j+=d*Math.cos(w);i-=d*Math.sin(w)}if(m){var t=g;v=j+t*Math.cos(p);f=i-t*Math.sin(p);u=j+t*Math.cos(h);e=i-t*Math.sin(h)}}var s=j+q*Math.cos(p);var r=j+q*Math.cos(h);var c=i-q*Math.sin(p);var b=i-q*Math.sin(h);var n="";if(m){n="M "+u+","+e;n+=" a"+g+","+g;n+=" 0 "+o+",1 "+(v-u)+","+(f-e);n+=" L"+s+","+c;n+=" a"+q+","+q;n+=" 0 "+o+",0 "+(r-s)+","+(b-c)}else{n="M "+r+","+b;n+=" a"+q+","+q;n+=" 0 "+o+",1 "+(s-r)+","+(c-b);n+=" L"+j+","+i+" Z"}return n},measureText:function(o,f,g,n,l){var e=l._getTextParts(o,f,g);var i=e.width;var b=e.height;if(false==n){b/=0.6}var c={};if(isNaN(f)){f=0}if(f==0){c={width:a.jqx._rup(i),height:a.jqx._rup(b)}}else{var k=f*Math.PI*2/360;var d=Math.abs(Math.sin(k));var j=Math.abs(Math.cos(k));var h=Math.abs(i*d+b*j);var m=Math.abs(i*j+b*d);c={width:a.jqx._rup(m),height:a.jqx._rup(h)}}if(n){c.textPartsInfo=e}return c},alignTextInRect:function(q,n,b,r,m,o,i,p,e,d){var k=e*Math.PI*2/360;var c=Math.sin(k);var j=Math.cos(k);var l=m*c;var h=m*j;if(i=="center"||i==""||i=="undefined"){q=q+b/2}else{if(i=="right"){q=q+b}}if(p=="center"||p==""||p=="undefined"){n=n+r/2}else{if(p=="bottom"){n+=r-o/2}else{if(p=="top"){n+=o/2}}}d=d||"";var f="middle";if(d.indexOf("top")!=-1){f="top"}else{if(d.indexOf("bottom")!=-1){f="bottom"}}var g="center";if(d.indexOf("left")!=-1){g="left"}else{if(d.indexOf("right")!=-1){g="right"}}if(g=="center"){q-=h/2;n-=l/2}else{if(g=="right"){q-=h;n-=l}}if(f=="top"){q-=o*c;n+=o*j}else{if(f=="middle"){q-=o*c/2;n+=o*j/2}}q=a.jqx._rup(q);n=a.jqx._rup(n);return{x:q,y:n}}};a.jqx.svgRenderer=function(){};a.jqx.svgRenderer.prototype={_svgns:"http://www.w3.org/2000/svg",init:function(f){var d="<table id=tblChart cellspacing='0' cellpadding='0' border='0' align='left' valign='top'><tr><td colspan=2 id=tdTop></td></tr><tr><td id=tdLeft></td><td class='chartContainer'></td></tr></table>";f.append(d);this.host=f;var b=f.find(".chartContainer");b[0].style.width=f.width()+"px";b[0].style.height=f.height()+"px";var h;try{var c=document.createElementNS(this._svgns,"svg");c.setAttribute("id","svgChart");c.setAttribute("version","1.1");c.setAttribute("width","100%");c.setAttribute("height","100%");c.setAttribute("overflow","hidden");b[0].appendChild(c);this.canvas=c}catch(g){return false}this._id=new Date().getTime();this.clear();this._layout();this._runLayoutFix();return true},refresh:function(){},_runLayoutFix:function(){var b=this;this._fixLayout()},_fixLayout:function(){var g=a(this.canvas).position();var d=(parseFloat(g.left)==parseInt(g.left));var b=(parseFloat(g.top)==parseInt(g.top));if(a.jqx.browser.msie){var d=true,b=true;var e=this.host;var c=0,f=0;while(e&&e.position&&e[0].parentNode){var h=e.position();c+=parseFloat(h.left)-parseInt(h.left);f+=parseFloat(h.top)-parseInt(h.top);e=e.parent()}d=parseFloat(c)==parseInt(c);b=parseFloat(f)==parseInt(f)}if(!d){this.host.find("#tdLeft")[0].style.width="0.5px"}if(!b){this.host.find("#tdTop")[0].style.height="0.5px"}},_layout:function(){var c=a(this.canvas).offset();var b=this.host.find(".chartContainer");this._width=Math.max(a.jqx._rup(this.host.width())-1,0);this._height=Math.max(a.jqx._rup(this.host.height())-1,0);b[0].style.width=this._width;b[0].style.height=this._height;this._fixLayout()},getRect:function(){return{x:0,y:0,width:this._width,height:this._height}},getContainer:function(){var b=this.host.find(".chartContainer");return b},clear:function(){while(this.canvas.childElementCount>0){this.canvas.removeChild(this.canvas.firstElementChild)}this._defaultParent=undefined;this._defs=document.createElementNS(this._svgns,"defs");this._gradients={};this.canvas.appendChild(this._defs)},removeElement:function(d){if(d!=undefined){try{while(d.firstChild){this.removeElement(d.firstChild)}if(d.parentNode){d.parentNode.removeChild(d)}else{this.canvas.removeChild(d)}}catch(c){var b=c}}},_openGroups:[],beginGroup:function(){var b=this._activeParent();var c=document.createElementNS(this._svgns,"g");b.appendChild(c);this._openGroups.push(c);return c},endGroup:function(){if(this._openGroups.length==0){return}this._openGroups.pop()},_activeParent:function(){return this._openGroups.length==0?this.canvas:this._openGroups[this._openGroups.length-1]},createClipRect:function(d){var e=document.createElementNS(this._svgns,"clipPath");var b=document.createElementNS(this._svgns,"rect");this.attr(b,{x:d.x,y:d.y,width:d.width,height:d.height,fill:"none"});this._clipId=this._clipId||0;e.id="cl"+this._id+"_"+(++this._clipId).toString();e.appendChild(b);this._defs.appendChild(e);return e},setClip:function(c,b){return this.attr(c,{"clip-path":"url(#"+b.id+")"})},_clipId:0,addHandler:function(b,d,c){b["on"+d]=c},shape:function(b,e){var c=document.createElementNS(this._svgns,b);if(!c){return undefined}for(var d in e){c.setAttribute(d,e[d])}this._activeParent().appendChild(c);return c},_getTextParts:function(q,g,h){var f={width:0,height:0,parts:[]};var m=0.6;var r=q.toString().split("<br>");var o=this._activeParent();var k=document.createElementNS(this._svgns,"text");this.attr(k,h);for(var j=0;j<r.length;j++){var c=r[j];var d=k.ownerDocument.createTextNode(c);k.appendChild(d);o.appendChild(k);var p;try{p=k.getBBox()}catch(n){if(console&&console.log){console.log(n)}}var l=a.jqx._rup(p.width);var b=a.jqx._rup(p.height*m);k.removeChild(d);f.width=Math.max(f.width,l);f.height+=b+(j>0?4:0);f.parts.push({width:l,height:b,text:c})}o.removeChild(k);return f},_measureText:function(e,d,c,b){return a.jqx.commonRenderer.measureText(e,d,c,b,this)},measureText:function(d,c,b){return this._measureText(d,c,b,false)},text:function(t,q,p,B,z,H,J,I,s,k,c){var v=this._measureText(t,H,J,true);var j=v.textPartsInfo;var f=j.parts;var A;if(!s){s="center"}if(!k){k="center"}if(f.length>1||I){A=this.beginGroup()}if(I){var g=this.createClipRect({x:a.jqx._rup(q)-1,y:a.jqx._rup(p)-1,width:a.jqx._rup(B)+2,height:a.jqx._rup(z)+2});this.setClip(A,g)}var o=this._activeParent();var L=0,l=0;var b=0.6;L=j.width;l=j.height;if(isNaN(B)||B<=0){B=L}if(isNaN(z)||z<=0){z=l}var r=B||0;var G=z||0;if(!H||H==0){p+=l;if(k=="center"){p+=(G-l)/2}else{if(k=="bottom"){p+=G-l}}if(!B){B=L}if(!z){z=l}var o=this._activeParent();var n=0;for(var F=f.length-1;F>=0;F--){var u=document.createElementNS(this._svgns,"text");this.attr(u,J);this.attr(u,{cursor:"default"});var E=u.ownerDocument.createTextNode(f[F].text);u.appendChild(E);var M=q;var m=f[F].width;var e=f[F].height;if(s=="center"){M+=(r-m)/2}else{if(s=="right"){M+=(r-m)}}this.attr(u,{x:a.jqx._rup(M),y:a.jqx._rup(p+n),width:a.jqx._rup(m),height:a.jqx._rup(e)});o.appendChild(u);n-=f[F].height+4}if(A){this.endGroup();return A}return u}var C=a.jqx.commonRenderer.alignTextInRect(q,p,B,z,L,l,s,k,H,c);q=C.x;p=C.y;var D=this.shape("g",{transform:"translate("+q+","+p+")"});var d=this.shape("g",{transform:"rotate("+H+")"});D.appendChild(d);var n=0;for(var F=f.length-1;F>=0;F--){var K=document.createElementNS(this._svgns,"text");this.attr(K,J);this.attr(K,{cursor:"default"});var E=K.ownerDocument.createTextNode(f[F].text);K.appendChild(E);var M=0;var m=f[F].width;var e=f[F].height;if(s=="center"){M+=(j.width-m)/2}else{if(s=="right"){M+=(j.width-m)}}this.attr(K,{x:a.jqx._rup(M),y:a.jqx._rup(n),width:a.jqx._rup(m),height:a.jqx._rup(e)});d.appendChild(K);n-=e+4}o.appendChild(D);if(A){this.endGroup()}return D},line:function(d,f,c,e,g){var b=this.shape("line",{x1:d,y1:f,x2:c,y2:e});this.attr(b,g);return b},path:function(c,d){var b=this.shape("path");b.setAttribute("d",c);if(d){this.attr(b,d)}return b},rect:function(b,g,c,e,f){b=a.jqx._ptrnd(b);g=a.jqx._ptrnd(g);c=a.jqx._rup(c);e=a.jqx._rup(e);var d=this.shape("rect",{x:b,y:g,width:c,height:e});if(f){this.attr(d,f)}return d},circle:function(b,f,d,e){var c=this.shape("circle",{cx:b,cy:f,r:d});if(e){this.attr(c,e)}return c},pieSlicePath:function(c,h,g,e,f,d,b){return a.jqx.commonRenderer.pieSlicePath(c,h,g,e,f,d,b)},pieslice:function(j,h,g,d,f,b,i,c){var e=this.pieSlicePath(j,h,g,d,f,b,i);var k=this.shape("path");k.setAttribute("d",e);if(c){this.attr(k,c)}return k},attr:function(b,d){if(!b||!d){return}for(var c in d){if(c=="textContent"){b.textContent=d[c]}else{b.setAttribute(c,d[c])}}},getAttr:function(c,b){return c.getAttribute(b)},_gradients:{},_toLinearGradient:function(e,g,h){var c="grd"+this._id+e.replace("#","")+(g?"v":"h");var b="url(#"+c+")";if(this._gradients[b]){return b}var d=document.createElementNS(this._svgns,"linearGradient");this.attr(d,{x1:"0%",y1:"0%",x2:g?"0%":"100%",y2:g?"100%":"0%",id:c});for(var f in h){var j=document.createElementNS(this._svgns,"stop");var i="stop-color:"+a.jqx._adjustColor(e,h[f][1]);this.attr(j,{offset:h[f][0]+"%",style:i});d.appendChild(j)}this._defs.appendChild(d);this._gradients[b]=true;return b},_toRadialGradient:function(e,h,g){var c="grd"+this._id+e.replace("#","")+"r"+(g!=undefined?g.key:"");var b="url(#"+c+")";if(this._gradients[b]){return b}var d=document.createElementNS(this._svgns,"radialGradient");if(g==undefined){this.attr(d,{cx:"50%",cy:"50%",r:"100%",fx:"50%",fy:"50%",id:c})}else{this.attr(d,{cx:g.x,cy:g.y,r:g.outerRadius,id:c,gradientUnits:"userSpaceOnUse"})}for(var f in h){var j=document.createElementNS(this._svgns,"stop");var i="stop-color:"+a.jqx._adjustColor(e,h[f][1]);this.attr(j,{offset:h[f][0]+"%",style:i});d.appendChild(j)}this._defs.appendChild(d);this._gradients[b]=true;return b}};a.jqx.vmlRenderer=function(){};a.jqx.vmlRenderer.prototype={init:function(g){var f="<div class='chartContainer' style=\"position:relative;overflow:hidden;\"><div>";g.append(f);this.host=g;var b=g.find(".chartContainer");b[0].style.width=g.width()+"px";b[0].style.height=g.height()+"px";var d=true;try{for(var c=0;c<document.namespaces.length;c++){if(document.namespaces[c].name=="v"&&document.namespaces[c].urn=="urn:schemas-microsoft-com:vml"){d=false;break}}}catch(h){return false}if(a.jqx.browser.msie&&parseInt(a.jqx.browser.version)<9&&(document.childNodes&&document.childNodes.length>0&&document.childNodes[0].data&&document.childNodes[0].data.indexOf("DOCTYPE")!=-1)){if(d){document.namespaces.add("v","urn:schemas-microsoft-com:vml")}this._ie8mode=true}else{if(d){document.namespaces.add("v","urn:schemas-microsoft-com:vml");document.createStyleSheet().cssText="v\\:* { behavior: url(#default#VML); display: inline-block; }"}}this.canvas=b[0];this._width=Math.max(a.jqx._rup(b.width()),0);this._height=Math.max(a.jqx._rup(b.height()),0);b[0].style.width=this._width+2;b[0].style.height=this._height+2;this._id=new Date().getTime();this.clear();return true},refresh:function(){},getRect:function(){return{x:0,y:0,width:this._width,height:this._height}},getContainer:function(){var b=this.host.find(".chartContainer");return b},clear:function(){while(this.canvas.childElementCount>0){this.canvas.removeChild(this.canvas.firstElementChild)}this._gradients={};this._defaultParent=undefined},removeElement:function(b){if(b!=null){b.parentNode.removeChild(b)}},_openGroups:[],beginGroup:function(){var b=this._activeParent();var c=document.createElement("v:group");c.style.position="absolute";c.coordorigin="0,0";c.coordsize=this._width+","+this._height;c.style.left=0;c.style.top=0;c.style.width=this._width;c.style.height=this._height;b.appendChild(c);this._openGroups.push(c);return c},endGroup:function(){if(this._openGroups.length==0){return}this._openGroups.pop()},_activeParent:function(){return this._openGroups.length==0?this.canvas:this._openGroups[this._openGroups.length-1]},createClipRect:function(b){var c=document.createElement("div");c.style.height=(b.height+1)+"px";c.style.width=(b.width+1)+"px";c.style.position="absolute";c.style.left=b.x+"px";c.style.top=b.y+"px";c.style.overflow="hidden";this._clipId=this._clipId||0;c.id="cl"+this._id+"_"+(++this._clipId).toString();this._activeParent().appendChild(c);return c},setClip:function(c,b){},_clipId:0,addHandler:function(b,d,c){if(a(b).on){a(b).on(d,c)}else{a(b).bind(d,c)}},_getTextParts:function(o,f,g){var e={width:0,height:0,parts:[]};var m=0.6;var p=o.toString().split("<br>");var n=this._activeParent();var j=document.createElement("v:textbox");this.attr(j,g);n.appendChild(j);for(var h=0;h<p.length;h++){var c=p[h];var d=document.createElement("span");d.appendChild(document.createTextNode(c));j.appendChild(d);if(g&&g["class"]){d.className=g["class"]}var l=a(j);var k=a.jqx._rup(l.width());var b=a.jqx._rup(l.height()*m);if(b==0&&a.jqx.browser.msie&&parseInt(a.jqx.browser.version)<9){var q=l.css("font-size");if(q){b=parseInt(q);if(isNaN(b)){b=0}}}j.removeChild(d);e.width=Math.max(e.width,k);e.height+=b+(h>0?2:0);e.parts.push({width:k,height:b,text:c})}n.removeChild(j);return e},_measureText:function(e,d,c,b){if(Math.abs(d)>45){d=90}else{d=0}return a.jqx.commonRenderer.measureText(e,d,c,b,this)},measureText:function(d,c,b){return this._measureText(d,c,b,false)},text:function(r,n,m,A,t,G,I,H,q,g){var B;if(I&&I.stroke){B=I.stroke}if(B==undefined){B="black"}var s=this._measureText(r,G,I,true);var e=s.textPartsInfo;var b=e.parts;var J=s.width;var j=s.height;if(isNaN(A)||A==0){A=J}if(isNaN(t)||t==0){t=j}var v;if(!q){q="center"}if(!g){g="center"}if(b.length>0||H){v=this.beginGroup()}if(H){var c=this.createClipRect({x:a.jqx._rup(n),y:a.jqx._rup(m),width:a.jqx._rup(A),height:a.jqx._rup(t)});this.setClip(v,c)}var l=this._activeParent();var p=A||0;var F=t||0;if(Math.abs(G)>45){G=90}else{G=0}var u=0,E=0;if(q=="center"){u+=(p-J)/2}else{if(q=="right"){u+=(p-J)}}if(g=="center"){E=(F-j)/2}else{if(g=="bottom"){E=F-j}}if(G==0){m+=j+E;n+=u}else{n+=J+u;m+=E}var k=0,K=0;var d;for(var D=b.length-1;D>=0;D--){var z=b[D];var o=(J-z.width)/2;if(G==0&&q=="left"){o=0}else{if(G==0&&q=="right"){o=J-z.width}else{if(G==90){o=(j-z.width)/2}}}var f=k-z.height;E=G==90?o:f;u=G==90?f:o;d=document.createElement("v:textbox");d.style.position="absolute";d.style.left=a.jqx._rup(n+u);d.style.top=a.jqx._rup(m+E);d.style.width=a.jqx._rup(z.width);d.style.height=a.jqx._rup(z.height);if(G==90){d.style.filter="progid:DXImageTransform.Microsoft.BasicImage(rotation=3)"}var C=document.createElement("span");C.appendChild(document.createTextNode(z.text));if(I&&I["class"]){C.className=I["class"]}d.appendChild(C);l.appendChild(d);k-=z.height+(D>0?2:0)}if(v){this.endGroup();return l}return d},shape:function(b,e){var c=document.createElement(this._createElementMarkup(b));if(!c){return undefined}for(var d in e){c.setAttribute(d,e[d])}this._activeParent().appendChild(c);return c},line:function(e,g,d,f,h){var b="M "+e+","+g+" L "+d+","+f+" X E";var c=this.path(b);this.attr(c,h);return c},_createElementMarkup:function(b){var c="<v:"+b+' style=""></v:'+b+">";if(this._ie8mode){c=c.replace('style=""','style="behavior: url(#default#VML);"')}return c},path:function(c,d){var b=document.createElement(this._createElementMarkup("shape"));b.style.position="absolute";b.coordsize=this._width+" "+this._height;b.coordorigin="0 0";b.style.width=parseInt(this._width);b.style.height=parseInt(this._height);b.style.left=0+"px";b.style.top=0+"px";b.setAttribute("path",c);this._activeParent().appendChild(b);if(d){this.attr(b,d)}return b},rect:function(b,g,c,d,f){b=a.jqx._ptrnd(b);g=a.jqx._ptrnd(g);c=a.jqx._rup(c);d=a.jqx._rup(d);var e=this.shape("rect",f);e.style.position="absolute";e.style.left=b;e.style.top=g;e.style.width=c;e.style.height=d;e.strokeweight=0;if(f){this.attr(e,f)}return e},circle:function(b,f,d,e){var c=this.shape("oval");b=a.jqx._ptrnd(b-d);f=a.jqx._ptrnd(f-d);d=a.jqx._rup(d);c.style.position="absolute";c.style.left=b;c.style.top=f;c.style.width=d*2;c.style.height=d*2;if(e){this.attr(c,e)}return c},updateCircle:function(d,b,e,c){if(b==undefined){b=parseFloat(d.style.left)+parseFloat(d.style.width)/2}if(e==undefined){e=parseFloat(d.style.top)+parseFloat(d.style.height)/2}if(c==undefined){c=parseFloat(d.width)/2}b=a.jqx._ptrnd(b-c);e=a.jqx._ptrnd(e-c);c=a.jqx._rup(c);d.style.left=b;d.style.top=e;d.style.width=c*2;d.style.height=c*2},pieSlicePath:function(k,j,h,r,B,C,d){if(!r){r=1}var m=Math.abs(B-C);var p=m>180?1:0;if(m>360){B=0;C=360}var q=B*Math.PI*2/360;var i=C*Math.PI*2/360;var w=k,v=k,f=j,e=j;var n=!isNaN(h)&&h>0;if(n){d=0}if(d>0){var l=m/2+B;var A=l*Math.PI*2/360;k+=d*Math.cos(A);j-=d*Math.sin(A)}if(n){var u=h;w=a.jqx._ptrnd(k+u*Math.cos(q));f=a.jqx._ptrnd(j-u*Math.sin(q));v=a.jqx._ptrnd(k+u*Math.cos(i));e=a.jqx._ptrnd(j-u*Math.sin(i))}var t=a.jqx._ptrnd(k+r*Math.cos(q));var s=a.jqx._ptrnd(k+r*Math.cos(i));var c=a.jqx._ptrnd(j-r*Math.sin(q));var b=a.jqx._ptrnd(j-r*Math.sin(i));r=a.jqx._ptrnd(r);h=a.jqx._ptrnd(h);k=a.jqx._ptrnd(k);j=a.jqx._ptrnd(j);var g=Math.round(B*65535);var z=Math.round((C-B)*65536);if(h<0){h=1}var o="";if(n){o="M"+w+" "+f;o+=" AE "+k+" "+j+" "+h+" "+h+" "+g+" "+z;o+=" L "+s+" "+b;g=Math.round((B-C)*65535);z=Math.round(C*65536);o+=" AE "+k+" "+j+" "+r+" "+r+" "+z+" "+g;o+=" L "+w+" "+f}else{o="M"+k+" "+j;o+=" AE "+k+" "+j+" "+r+" "+r+" "+g+" "+z}o+=" X E";return o},pieslice:function(k,i,h,e,g,b,j,d){var f=this.pieSlicePath(k,i,h,e,g,b,j);var c=this.path(f,d);if(d){this.attr(c,d)}return c},_keymap:[{svg:"fill",vml:"fillcolor"},{svg:"stroke",vml:"strokecolor"},{svg:"stroke-width",vml:"strokeweight"},{svg:"stroke-dasharray",vml:"dashstyle"},{svg:"fill-opacity",vml:"fillopacity"},{svg:"stroke-opacity",vml:"strokeopacity"},{svg:"opacity",vml:"opacity"},{svg:"cx",vml:"style.left"},{svg:"cy",vml:"style.top"},{svg:"height",vml:"style.height"},{svg:"width",vml:"style.width"},{svg:"x",vml:"style.left"},{svg:"y",vml:"style.top"},{svg:"d",vml:"v"},{svg:"display",vml:"style.display"}],_translateParam:function(b){for(var c in this._keymap){if(this._keymap[c].svg==b){return this._keymap[c].vml}}return b},attr:function(c,e){if(!c||!e){return}for(var d in e){var b=this._translateParam(d);if(b=="fillcolor"&&e[d].indexOf("grd")!=-1){c.type=e[d]}else{if(b=="opacity"||b=="fillopacity"){if(c.fill){c.fill.opacity=e[d]}}else{if(b=="textContent"){c.children[0].innerText=e[d]}else{if(b=="dashstyle"){c.dashstyle=e[d].replace(","," ")}else{if(b.indexOf("style.")==-1){c[b]=e[d]}else{c.style[b.replace("style.","")]=e[d]}}}}}}},getAttr:function(d,c){var b=this._translateParam(c);if(b=="opacity"||b=="fillopacity"){if(d.fill){return d.fill.opacity}else{return 1}}if(b.indexOf("style.")==-1){return d[b]}return d.style[b.replace("style.","")]},_gradients:{},_toRadialGradient:function(b,d,c){return b},_toLinearGradient:function(g,i,j){if(this._ie8mode){return g}var d="grd"+g.replace("#","")+(i?"v":"h");var e="#"+d+"";if(this._gradients[e]){return e}var f=document.createElement(this._createElementMarkup("fill"));f.type="gradient";f.method="linear";f.angle=i?0:90;var c="";for(var h in j){if(h>0){c+=", "}c+=j[h][0]+"% "+a.jqx._adjustColor(g,j[h][1])}f.colors=c;var b=document.createElement(this._createElementMarkup("shapetype"));b.appendChild(f);b.id=d;this.canvas.appendChild(b);return e}};a.jqx.HTML5Renderer=function(){};a.jqx.ptrnd=function(c){if(Math.abs(Math.round(c)-c)==0.5){return c}var b=Math.round(c);if(b<c){b=b-1}return b+0.5};a.jqx.HTML5Renderer.prototype={_elements:{},init:function(b){try{this.host=b;this.host.append("<canvas id='__jqxCanvasWrap' style='width:100%; height: 100%;'/>");this.canvas=b.find("#__jqxCanvasWrap");this.canvas[0].width=b.width();this.canvas[0].height=b.height();this.ctx=this.canvas[0].getContext("2d")}catch(c){return false}return true},getContainer:function(){if(this.canvas&&this.canvas.length==1){return this.canvas}return undefined},getRect:function(){return{x:0,y:0,width:this.canvas[0].width-1,height:this.canvas[0].height-1}},beginGroup:function(){},endGroup:function(){},setClip:function(){},createClipRect:function(b){},addHandler:function(b,d,c){},clear:function(){this._elements={};this._maxId=0;this._renderers._gradients={};this._gradientId=0},removeElement:function(b){if(undefined==b){return}if(this._elements[b.id]){delete this._elements[b.id]}},_maxId:0,shape:function(b,e){var c={type:b,id:this._maxId++};for(var d in e){c[d]=e[d]}this._elements[c.id]=c;return c},attr:function(b,d){for(var c in d){b[c]=d[c]}},rect:function(b,g,c,e,f){if(isNaN(b)){throw'Invalid value for "x"'}if(isNaN(g)){throw'Invalid value for "y"'}if(isNaN(c)){throw'Invalid value for "width"'}if(isNaN(e)){throw'Invalid value for "height"'}var d=this.shape("rect",{x:b,y:g,width:c,height:e});if(f){this.attr(d,f)}return d},path:function(b,d){var c=this.shape("path",d);this.attr(c,{d:b});return c},line:function(c,e,b,d,f){return this.path("M "+c+","+e+" L "+b+","+d,f)},circle:function(b,f,d,e){var c=this.shape("circle",{x:b,y:f,r:d});if(e){this.attr(c,e)}return c},pieSlicePath:function(c,h,g,e,f,d,b){return a.jqx.commonRenderer.pieSlicePath(c,h,g,e,f,d,b)},pieslice:function(j,h,g,e,f,b,i,c){var d=this.path(this.pieSlicePath(j,h,g,e,f,b,i),c);this.attr(d,{x:j,y:h,innerRadius:g,outerRadius:e,angleFrom:f,angleTo:b});return d},_getCSSStyle:function(c){var g=document.styleSheets;try{for(var d=0;d<g.length;d++){for(var b=0;g[d].cssRules&&b<g[d].cssRules.length;b++){if(g[d].cssRules[b].selectorText.indexOf(c)!=-1){return g[d].cssRules[b].style}}}}catch(f){}return{}},_getTextParts:function(p,f,g){var l="Arial";var q="10pt";var m="";if(g&&g["class"]){var b=this._getCSSStyle(g["class"]);if(b.fontSize){q=b.fontSize}if(b.fontFamily){l=b.fontFamily}if(b.fontWeight){m=b.fontWeight}}this.ctx.font=m+" "+q+" "+l;var e={width:0,height:0,parts:[]};var k=0.6;var o=p.toString().split("<br>");for(var h=0;h<o.length;h++){var d=o[h];var j=this.ctx.measureText(d).width;var n=document.createElement("span");n.font=this.ctx.font;n.textContent=d;document.body.appendChild(n);var c=n.offsetHeight*k;document.body.removeChild(n);e.width=Math.max(e.width,a.jqx._rup(j));e.height+=c+(h>0?4:0);e.parts.push({width:j,height:c,text:d})}return e},_measureText:function(e,d,c,b){return a.jqx.commonRenderer.measureText(e,d,c,b,this)},measureText:function(d,c,b){return this._measureText(d,c,b,false)},text:function(m,l,j,c,n,f,g,d,h,k,e){var o=this.shape("text",{text:m,x:l,y:j,width:c,height:n,angle:f,clip:d,halign:h,valign:k,rotateAround:e});if(g){this.attr(o,g)}o.fontFamily="Arial";o.fontSize="10pt";o.fontWeight="";o.color="#000000";if(g&&g["class"]){var b=this._getCSSStyle(g["class"]);o.fontFamily=b.fontFamily||o.fontFamily;o.fontSize=b.fontSize||o.fontSize;o.fontWeight=b.fontWeight||o.fontWeight;o.color=b.color||o.color}var i=this._measureText(m,0,g,true);this.attr(o,{textPartsInfo:i.textPartsInfo,textWidth:i.width,textHeight:i.height});if(c<=0||isNaN(c)){this.attr(o,{width:i.width})}if(n<=0||isNaN(n)){this.attr(o,{height:i.height})}return o},_toLinearGradient:function(c,g,f){if(this._renderers._gradients[c]){return c}var b=[];for(var e=0;e<f.length;e++){b.push({percent:f[e][0]/100,color:a.jqx._adjustColor(c,f[e][1])})}var d="gr"+this._gradientId++;this.createGradient(d,g?"vertical":"horizontal",b);return d},_toRadialGradient:function(c,f){if(this._renderers._gradients[c]){return c}var b=[];for(var e=0;e<f.length;e++){b.push({percent:f[e][0]/100,color:a.jqx._adjustColor(c,f[e][1])})}var d="gr"+this._gradientId++;this.createGradient(d,"radial",b);return d},_gradientId:0,createGradient:function(d,c,b){this._renderers.createGradient(d,c,b)},_renderers:{_gradients:{},createGradient:function(d,c,b){this._gradients[d]={orientation:c,colorStops:b}},setStroke:function(b,c){b.strokeStyle=c.stroke||"transparent";b.lineWidth=c["stroke-width"]||1;if(c["fill-opacity"]){b.globalAlpha=c["fill-opacity"]}else{b.globalAlpha=1}if(b.setLineDash){if(c["stroke-dasharray"]){b.setLineDash(c["stroke-dasharray"].split(","))}else{b.setLineDash([])}}},setFillStyle:function(m,e){m.fillStyle="transparent";if(e["fill-opacity"]){m.globalAlpha=e["fill-opacity"]}else{m.globalAlpha=1}if(e.fill&&e.fill.indexOf("#")==-1&&this._gradients[e.fill]){var k=this._gradients[e.fill].orientation!="horizontal";var g=this._gradients[e.fill].orientation=="radial";var c=a.jqx.ptrnd(e.x);var l=a.jqx.ptrnd(e.y);var b=a.jqx.ptrnd(e.x+(k?0:e.width));var h=a.jqx.ptrnd(e.y+(k?e.height:0));var j;if((e.type=="circle"||e.type=="path")&&g){x=a.jqx.ptrnd(e.x);y=a.jqx.ptrnd(e.y);r1=e.innerRadius||0;r2=e.outerRadius||e.r||0;j=m.createRadialGradient(x,y,r1,x,y,r2)}if(!g){if(isNaN(c)||isNaN(b)||isNaN(l)||isNaN(h)){c=0;l=0;b=k?0:m.canvas.width;h=k?m.canvas.height:0}j=m.createLinearGradient(c,l,b,h)}var d=this._gradients[e.fill].colorStops;for(var f=0;f<d.length;f++){j.addColorStop(d[f].percent,d[f].color)}m.fillStyle=j}else{if(e.fill){m.fillStyle=e.fill}}},rect:function(b,c){if(c.width==0||c.height==0){return}b.fillRect(a.jqx.ptrnd(c.x),a.jqx.ptrnd(c.y),c.width,c.height);b.strokeRect(a.jqx.ptrnd(c.x),a.jqx.ptrnd(c.y),c.width,c.height)},circle:function(b,c){if(c.r==0){return}b.beginPath();b.arc(a.jqx.ptrnd(c.x),a.jqx.ptrnd(c.y),c.r,0,Math.PI*2,false);b.closePath();b.fill();b.stroke()},_parsePoint:function(c){var b=this._parseNumber(c);var d=this._parseNumber(c);return({x:b,y:d})},_parseNumber:function(d){var e=false;for(var b=this._pos;b<d.length;b++){if((d[b]>="0"&&d[b]<="9")||d[b]=="."||(d[b]=="-"&&!e)){e=true;continue}if(!e&&(d[b]==" "||d[b]==",")){this._pos++;continue}break}var c=parseFloat(d.substring(this._pos,b));if(isNaN(c)){return undefined}this._pos=b;return c},_pos:0,_cmds:"mlcaz",_lastCmd:"",_isRelativeCmd:function(b){return a.jqx.string.contains(this._cmds,b)},_parseCmd:function(b){for(var c=this._pos;c<b.length;c++){if(a.jqx.string.containsIgnoreCase(this._cmds,b[c])){this._pos=c+1;this._lastCmd=b[c];return this._lastCmd}if(b[c]==" "){this._pos++;continue}if(b[c]>="0"&&b[c]<="9"){this._pos=c;if(this._lastCmd==""){break}else{return this._lastCmd}}}return undefined},_toAbsolutePoint:function(b){return{x:this._currentPoint.x+b.x,y:this._currentPoint.y+b.y}},_currentPoint:{x:0,y:0},path:function(C,L){var z=L.d;this._pos=0;this._lastCmd="";var k=undefined;this._currentPoint={x:0,y:0};C.beginPath();var G=0;while(this._pos<z.length){var F=this._parseCmd(z);if(F==undefined){break}if(F=="M"||F=="m"){var D=this._parsePoint(z);if(D==undefined){break}C.moveTo(D.x,D.y);this._currentPoint=D;if(k==undefined){k=D}continue}if(F=="L"||F=="l"){var D=this._parsePoint(z);if(D==undefined){break}C.lineTo(D.x,D.y);this._currentPoint=D;continue}if(F=="A"||F=="a"){var g=this._parseNumber(z);var f=this._parseNumber(z);var J=this._parseNumber(z)*(Math.PI/180);var N=this._parseNumber(z);var e=this._parseNumber(z);var o=this._parsePoint(z);if(this._isRelativeCmd(F)){o=this._toAbsolutePoint(o)}if(g==0||f==0){continue}var h=this._currentPoint;var I={x:Math.cos(J)*(h.x-o.x)/2+Math.sin(J)*(h.y-o.y)/2,y:-Math.sin(J)*(h.x-o.x)/2+Math.cos(J)*(h.y-o.y)/2};var j=Math.pow(I.x,2)/Math.pow(g,2)+Math.pow(I.y,2)/Math.pow(f,2);if(j>1){g*=Math.sqrt(j);f*=Math.sqrt(j)}var p=(N==e?-1:1)*Math.sqrt(((Math.pow(g,2)*Math.pow(f,2))-(Math.pow(g,2)*Math.pow(I.y,2))-(Math.pow(f,2)*Math.pow(I.x,2)))/(Math.pow(g,2)*Math.pow(I.y,2)+Math.pow(f,2)*Math.pow(I.x,2)));if(isNaN(p)){p=0}var H={x:p*g*I.y/f,y:p*-f*I.x/g};var B={x:(h.x+o.x)/2+Math.cos(J)*H.x-Math.sin(J)*H.y,y:(h.y+o.y)/2+Math.sin(J)*H.x+Math.cos(J)*H.y};var A=function(i){return Math.sqrt(Math.pow(i[0],2)+Math.pow(i[1],2))};var t=function(m,i){return(m[0]*i[0]+m[1]*i[1])/(A(m)*A(i))};var M=function(m,i){return(m[0]*i[1]<m[1]*i[0]?-1:1)*Math.acos(t(m,i))};var E=M([1,0],[(I.x-H.x)/g,(I.y-H.y)/f]);var n=[(I.x-H.x)/g,(I.y-H.y)/f];var l=[(-I.x-H.x)/g,(-I.y-H.y)/f];var K=M(n,l);if(t(n,l)<=-1){K=Math.PI}if(t(n,l)>=1){K=0}if(e==0&&K>0){K=K-2*Math.PI}if(e==1&&K<0){K=K+2*Math.PI}var t=(g>f)?g:f;var w=(g>f)?1:g/f;var q=(g>f)?f/g:1;C.translate(B.x,B.y);C.rotate(J);C.scale(w,q);C.arc(0,0,t,E,E+K,1-e);C.scale(1/w,1/q);C.rotate(-J);C.translate(-B.x,-B.y);continue}if((F=="Z"||F=="z")&&k!=undefined){C.lineTo(k.x,k.y);this._currentPoint=k;continue}if(F=="C"||F=="c"){var d=this._parsePoint(z);var c=this._parsePoint(z);var b=this._parsePoint(z);C.bezierCurveTo(d.x,d.y,c.x,c.y,b.x,b.y);this._currentPoint=b;continue}}C.fill();C.stroke();C.closePath()},text:function(u,D){var n=a.jqx.ptrnd(D.x);var m=a.jqx.ptrnd(D.y);var s=a.jqx.ptrnd(D.width);var q=a.jqx.ptrnd(D.height);var p=D.halign;var g=D.valign;var A=D.angle;var b=D.rotateAround;var e=D.textPartsInfo;var d=e.parts;var B=D.clip;if(B==undefined){B=true}u.save();if(!p){p="center"}if(!g){g="center"}if(B){u.rect(n,m,s,q);u.clip()}var E=D.textWidth;var j=D.textHeight;var o=s||0;var z=q||0;u.fillStyle=D.color;u.font=D.fontWeight+" "+D.fontSize+" "+D.fontFamily;if(!A||A==0){m+=j;if(g=="center"){m+=(z-j)/2}else{if(g=="bottom"){m+=z-j}}if(!s){s=E}if(!q){q=j}var l=0;for(var v=d.length-1;v>=0;v--){var r=d[v];var F=n;var k=d[v].width;var c=d[v].height;if(p=="center"){F+=(o-k)/2}else{if(p=="right"){F+=(o-k)}}u.fillText(r.text,F,m+l);l-=r.height+(v>0?4:0)}u.restore();return}var t=a.jqx.commonRenderer.alignTextInRect(n,m,s,q,E,j,p,g,A,b);n=t.x;m=t.y;var f=A*Math.PI*2/360;u.translate(n,m);u.rotate(f);var l=0;var C=e.width;for(var v=d.length-1;v>=0;v--){var F=0;if(p=="center"){F+=(C-d[v].width)/2}else{if(p=="right"){F+=(C-d[v].width)}}u.fillText(d[v].text,F,l);l-=d[v].height+4}u.restore()}},refresh:function(){this.ctx.clearRect(0,0,this.canvas[0].width,this.canvas[0].height);for(var b in this._elements){var c=this._elements[b];this._renderers.setFillStyle(this.ctx,c);this._renderers.setStroke(this.ctx,c);this._renderers[this._elements[b].type](this.ctx,c)}}}})(jQuery);

/*buttons*/
(function(a){a.jqx.cssroundedcorners=function(b){var c={all:"jqx-rc-all",top:"jqx-rc-t",bottom:"jqx-rc-b",left:"jqx-rc-l",right:"jqx-rc-r","top-right":"jqx-rc-tr","top-left":"jqx-rc-tl","bottom-right":"jqx-rc-br","bottom-left":"jqx-rc-bl"};for(prop in c){if(!c.hasOwnProperty(prop)){continue}if(b==prop){return c[prop]}}};a.jqx.jqxWidget("jqxButton","",{});a.extend(a.jqx._jqxButton.prototype,{defineInstance:function(){this.cursor="arrow";this.roundedCorners="all";this.disabled=false;this.height=null;this.width=null;this.overrideTheme=false;this.enableHover=true;this.enableDefault=true;this.enablePressed=true;this.rtl=false;this._ariaDisabled=false;this.aria={"aria-disabled":{name:"disabled",type:"boolean"}}},createInstance:function(d){var b=this;this._setSize();if(!this._ariaDisabled){this.host.attr("role","button")}if(!this.overrideTheme){this.host.addClass(this.toThemeProperty(a.jqx.cssroundedcorners(this.roundedCorners)));if(this.enableDefault){this.host.addClass(this.toThemeProperty("jqx-button"))}this.host.addClass(this.toThemeProperty("jqx-widget"))}this.isTouchDevice=a.jqx.mobile.isTouchDevice();if(!this._ariaDisabled){a.jqx.aria(this)}if(this.cursor!="arrow"){if(!this.disabled){this.host.css({cursor:this.cursor})}else{this.host.css({cursor:"arrow"})}}this.addHandler(this.host,"mouseenter mouseleave mousedown focus blur",function(g){switch(g.type){case"mouseenter":if(!this.isTouchDevice){if(!b.disabled&&b.enableHover){b.isMouseOver=true;b.refresh()}}break;case"mouseleave":if(!this.isTouchDevice){if(!b.disabled&&b.enableHover){b.isMouseOver=false;b.refresh()}}break;case"mousedown":if(!b.disabled){b.isPressed=true;b.refresh()}break;case"focus":if(!b.disabled){b.isFocused=true;b.refresh()}break;case"blur":if(!b.disabled){b.isFocused=false;b.refresh()}break}});this.mouseupfunc=function(g){if(!b.disabled){b.isPressed=false;b.refresh()}};this.addHandler(a(document),"mouseup.button"+this.element.id,this.mouseupfunc);try{if(document.referrer!=""||window.frameElement){if(window.top!=null&&window.top!=window.self){var f="";if(window.parent&&document.referrer){f=document.referrer}if(f.indexOf(document.location.host)!=-1){var e=function(g){b.isPressed=false;b.refresh()};if(window.top.document){this.addHandler(a(window.top.document),"mouseup",e)}}}}}catch(c){}this.propertyChangeMap.roundedCorners=function(g,i,h,j){g.refresh()};this.propertyChangeMap.width=function(g,i,h,j){g._setSize();g.refresh()};this.propertyChangeMap.height=function(g,i,h,j){g._setSize();g.refresh()};this.propertyChangeMap.disabled=function(g,i,h,j){if(h!=j){g.host[0].disabled=j;g.host.attr("disabled",j);g.refresh();if(!j){g.host.css({cursor:g.cursor})}else{g.host.css({cursor:"default"})}a.jqx.aria(g,"aria-disabled",g.disabled)}};this.propertyChangeMap.rtl=function(g,i,h,j){if(h!=j){g.refresh()}};this.propertyChangeMap.theme=function(g,i,h,j){g.host.removeClass();g.host.addClass(g.toThemeProperty("jqx-button"));g.host.addClass(g.toThemeProperty("jqx-widget"));if(!g.overrideTheme){g.host.addClass(g.toThemeProperty(a.jqx.cssroundedcorners(g.roundedCorners)))}g._oldCSSCurrent=null;g.refresh()};if(this.disabled){this.element.disabled=true;this.host.attr("disabled",true)}},val:function(){var b=this.host.find("input");if(b.length>0){if(arguments.length==0||typeof(value)=="object"){return b.val()}b.val(value);this.refresh();return b.val()}if(arguments.length==0||typeof(value)=="object"){if(this.element.nodeName.toLowerCase()=="button"){return a(this.element).text()}return this.element.value}this.element.value=arguments[0];if(this.element.nodeName.toLowerCase()=="button"){a(this.element).text(arguments[0])}this.refresh()},_setSize:function(){if(this.width!=null&&(this.width.toString().indexOf("px")!=-1||this.width.toString().indexOf("%")!=-1)){this.host.css("width",this.width)}else{if(this.width!=undefined&&!isNaN(this.width)){this.host.css("width",this.width)}}if(this.height!=null&&(this.height.toString().indexOf("px")!=-1||this.height.toString().indexOf("%")!=-1)){this.host.css("height",this.height)}else{if(this.height!=undefined&&!isNaN(this.height)){this.host.css("height",parseInt(this.height))}}},_removeHandlers:function(){this.removeHandler(this.host,"selectstart");this.removeHandler(this.host,"click");this.removeHandler(this.host,"focus");this.removeHandler(this.host,"blur");this.removeHandler(this.host,"mouseenter");this.removeHandler(this.host,"mouseleave");this.removeHandler(this.host,"mousedown");this.removeHandler(a(document),"mouseup.button"+this.element.id,this.mouseupfunc);this.mouseupfunc=null;delete this.mouseupfunc},focus:function(){this.host.focus()},destroy:function(){this._removeHandlers();var b=a.data(this.element,"jqxButton");if(b){delete b.instance}this.host.removeClass();this.host.removeData();this.host.remove();delete this.set;delete this.get;delete this.call;delete this.propertyChangeMap.roundedCorners;delete this.propertyChangeMap.width;delete this.propertyChangeMap.height;delete this.propertyChangeMap.disabled;delete this.propertyChangeMap.rtl;delete this.propertyChangeMap.theme;delete this.propertyChangeMap;delete this.element;delete this.host},render:function(){this.refresh()},refresh:function(){if(this.overrideTheme){return}var d=this.toThemeProperty("jqx-fill-state-focus");var h=this.toThemeProperty("jqx-fill-state-disabled");var b=this.toThemeProperty("jqx-fill-state-normal");if(!this.enableDefault){b=""}var g=this.toThemeProperty("jqx-fill-state-hover");var e=this.toThemeProperty("jqx-fill-state-pressed");var f=this.toThemeProperty("jqx-fill-state-pressed");if(!this.enablePressed){e=""}var c="";if(!this.host){return}this.host[0].disabled=this.disabled;if(this.disabled){c=h}else{if(this.isMouseOver&&!this.isTouchDevice){if(this.isPressed){c=f}else{c=g}}else{if(this.isPressed){c=e}else{c=b}}}if(this.isFocused){c+=" "+d}if(c!=this._oldCSSCurrent){if(this._oldCSSCurrent){this.host.removeClass(this._oldCSSCurrent)}this.host.addClass(c);this._oldCSSCurrent=c}if(this.rtl){this.host.addClass(this.toThemeProperty("jqx-rtl"));this.host.css("direction","rtl")}}});a.jqx.jqxWidget("jqxLinkButton","",{});a.extend(a.jqx._jqxLinkButton.prototype,{defineInstance:function(){this.disabled=false;this.height=null;this.width=null;this.rtl=false;this.href=null},createInstance:function(d){var c=this;this.host.onselectstart=function(){return false};this.host.attr("role","button");var b=this.height||this.host.height();var e=this.width||this.host.width();this.href=this.host.attr("href");this.target=this.host.attr("target");this.content=this.host.text();this.element.innerHTML="";this.host.append("<input type='button' class='jqx-wrapper'/>");var f=this.host.find("input");f.addClass(this.toThemeProperty("jqx-reset"));f.width(e);f.height(b);f.val(this.content);this.host.find("tr").addClass(this.toThemeProperty("jqx-reset"));this.host.find("td").addClass(this.toThemeProperty("jqx-reset"));this.host.find("tbody").addClass(this.toThemeProperty("jqx-reset"));this.host.css("color","inherit");this.host.addClass(this.toThemeProperty("jqx-link"));f.css({width:e});f.css({height:b});var g=d==undefined?{}:d[0]||{};f.jqxButton(g);if(this.disabled){this.host[0].disabled=true}this.propertyChangeMap.disabled=function(h,j,i,k){h.host[0].disabled=k;h.host.find("input").jqxButton({disabled:k})};this.addHandler(f,"click",function(h){if(!this.disabled){c.onclick(h)}return false})},onclick:function(b){if(this.target!=null){window.open(this.href,this.target)}else{window.location=this.href}}});a.jqx.jqxWidget("jqxRepeatButton","jqxButton",{});a.extend(a.jqx._jqxRepeatButton.prototype,{defineInstance:function(){this.delay=50},createInstance:function(e){var c=this;var d=a.jqx.mobile.isTouchDevice();var b=!d?"mouseup."+this.base.element.id:"touchend."+this.base.element.id;var f=!d?"mousedown."+this.base.element.id:"touchstart."+this.base.element.id;this.addHandler(a(document),b,function(g){if(c.timeout!=null){clearTimeout(c.timeout);c.timeout=null;c.refresh()}if(c.timer!=undefined){clearInterval(c.timer);c.timer=null;c.refresh()}});this.addHandler(this.base.host,f,function(g){if(c.timer!=null){clearInterval(c.timer)}c.timeout=setTimeout(function(){clearInterval(c.timer);c.timer=setInterval(function(h){c.ontimer(h)},c.delay)},150)});this.mousemovefunc=function(g){if(!d){if(g.which==0){if(c.timer!=null){clearInterval(c.timer);c.timer=null}}}};this.addHandler(this.base.host,"mousemove",this.mousemovefunc)},destroy:function(){var c=a.jqx.mobile.isTouchDevice();var b=!c?"mouseup."+this.base.element.id:"touchend."+this.base.element.id;var e=!c?"mousedown."+this.base.element.id:"touchstart."+this.base.element.id;this.removeHandler(this.base.host,"mousemove",this.mousemovefunc);this.removeHandler(this.base.host,e);this.removeHandler(a(document),b);this.timer=null;delete this.mousemovefunc;delete this.timer;var d=a.data(this.base.element,"jqxRepeatButton");if(d){delete d.instance}a(this.base.element).removeData();this.base.destroy();delete this.base},stop:function(){clearInterval(this.timer);this.timer=null},ontimer:function(b){var b=new jQuery.Event("click");if(this.base!=null&&this.base.host!=null){this.base.host.trigger(b)}}});a.jqx.jqxWidget("jqxToggleButton","jqxButton",{});a.extend(a.jqx._jqxToggleButton.prototype,{defineInstance:function(){this.toggled=false;this.aria={"aria-checked":{name:"toggled",type:"boolean"},"aria-disabled":{name:"disabled",type:"boolean"}}},createInstance:function(c){var b=this;this.base.overrideTheme=true;this.isTouchDevice=a.jqx.mobile.isTouchDevice();a.jqx.aria(this);this.propertyChangeMap.toggled=function(d,f,e,g){d.refresh()};this.propertyChangeMap.disabled=function(d,f,e,g){b.base.disabled=g;d.refresh()};this.addHandler(this.base.host,"click",function(d){if(!b.base.disabled){b.toggle()}});if(!this.isTouchDevice){this.addHandler(this.base.host,"mouseenter",function(d){if(!b.base.disabled){b.refresh()}});this.addHandler(this.base.host,"mouseleave",function(d){if(!b.base.disabled){b.refresh()}})}this.addHandler(this.base.host,"mousedown",function(d){if(!b.base.disabled){b.refresh()}});this.addHandler(a(document),"mouseup",function(d){if(!b.base.disabled){b.refresh()}})},_removeHandlers:function(){this.removeHandler(this.base.host,"click");this.removeHandler(this.base.host,"mouseenter");this.removeHandler(this.base.host,"mouseleave");this.removeHandler(this.base.host,"mousedown");this.removeHandler(a(document),"mouseup")},toggle:function(){this.toggled=!this.toggled;this.refresh();a.jqx.aria(this,"aria-checked",this.toggled)},unCheck:function(){this.toggled=false;this.refresh()},check:function(){this.toggled=true;this.refresh()},refresh:function(){var g=this.base.toThemeProperty("jqx-fill-state-disabled");var b=this.base.toThemeProperty("jqx-fill-state-normal");var f=this.base.toThemeProperty("jqx-fill-state-hover");var d=this.base.toThemeProperty("jqx-fill-state-pressed");var e=this.base.toThemeProperty("jqx-fill-state-pressed");var c="";this.base.host[0].disabled=this.base.disabled;if(this.base.disabled){c=g}else{if(this.base.isMouseOver&&!this.isTouchDevice){if(this.base.isPressed||this.toggled){c=e}else{c=f}}else{if(this.base.isPressed||this.toggled){c=d}else{c=b}}}if(this.base.host.hasClass(g)&&g!=c){this.base.host.removeClass(g)}if(this.base.host.hasClass(b)&&b!=c){this.base.host.removeClass(b)}if(this.base.host.hasClass(f)&&f!=c){this.base.host.removeClass(f)}if(this.base.host.hasClass(d)&&d!=c){this.base.host.removeClass(d)}if(this.base.host.hasClass(e)&&e!=c){this.base.host.removeClass(e)}if(!this.base.host.hasClass(c)){this.base.host.addClass(c)}}})})(jQuery);

/*scrollbar*/
(function(a){a.jqx.jqxWidget("jqxScrollBar","",{});a.extend(a.jqx._jqxScrollBar.prototype,{defineInstance:function(){this.height=null;this.width=null;this.vertical=false;this.min=0;this.max=1000;this.value=this.min;this.step=10;this.largestep=50;this.thumbMinSize=10;this.thumbSize=0;this.thumbStep="auto";this.roundedCorners="all";this.showButtons=true;this.disabled=false;this.touchMode="auto";this.touchModeStyle="auto";this.thumbTouchSize=0;this._triggervaluechanged=true;this.rtl=false;this.areaDownCapture=false;this.areaUpCapture=false;this._initialLayout=false},createInstance:function(b){this.render()},render:function(){this._mouseup=new Date();var b=this;var c="<div id='jqxScrollOuterWrap' style='width:100%; height: 100%; align:left; border: 0px; valign:top; position: relative;'><div id='jqxScrollWrap' style='width:100%; height: 100%; left: 0px; top: 0px; align:left; valign:top; position: absolute;'><div id='jqxScrollBtnUp' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='jqxScrollAreaUp' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='jqxScrollThumb' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='jqxScrollAreaDown' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='jqxScrollBtnDown' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div></div></div>";if(b.WinJS){MSApp.execUnsafeLocalFunction(function(){WinJS.Utilities.setInnerHTMLUnsafe(this.element,c)})}else{this.element.innerHTML=c}if(this.width!=undefined&&parseInt(this.width)>0){this.host.width(parseInt(this.width))}if(this.height!=undefined&&parseInt(this.height)>0){this.host.height(parseInt(this.height))}this.isPercentage=false;if(this.width!=null&&this.width.toString().indexOf("%")!=-1){this.host.width(this.width);this.isPercentage=true}if(this.height!=null&&this.height.toString().indexOf("%")!=-1){this.host.height(this.height);this.isPercentage=true}if(this.isPercentage){var d=this;a.jqx.utilities.resize(this.host,function(){d._arrange()},false)}this.thumbCapture=false;this.btnUp=this.host.find("#jqxScrollBtnUp");this.btnDown=this.host.find("#jqxScrollBtnDown");this.btnThumb=this.host.find("#jqxScrollThumb");this.areaUp=this.host.find("#jqxScrollAreaUp");this.arrowUp=a("<div></div>");this.arrowUp.appendTo(this.btnUp);this.arrowDown=a("<div></div>");this.arrowDown.appendTo(this.btnDown);this.areaDown=this.host.find("#jqxScrollAreaDown");this.scrollWrap=this.host.find("#jqxScrollWrap");this.scrollOuterWrap=this.host.find("#jqxScrollOuterWrap");this.btnUp[0].id="jqxScrollBtnUp"+this.element.id;this.btnDown[0].id="jqxScrollBtnDown"+this.element.id;this.btnThumb[0].id="jqxScrollThumb"+this.element.id;this.areaUp[0].id="jqxScrollAreaUp"+this.element.id;this.areaDown[0].id="jqxScrollAreaDown"+this.element.id;this.scrollWrap[0].id="jqxScrollWrap"+this.element.id;this.scrollOuterWrap[0].id="jqxScrollOuterWrap"+this.element.id;if(!this.host.jqxRepeatButton){throw new Error("jqxScrollBar: Missing reference to jqxbuttons.js.");return}this.btnUp.jqxRepeatButton({_ariaDisabled:true,overrideTheme:true,disabled:this.disabled});this.btnDown.jqxRepeatButton({_ariaDisabled:true,overrideTheme:true,disabled:this.disabled});this.btnDownInstance=a.data(this.btnDown[0],"jqxRepeatButton").instance;this.btnUpInstance=a.data(this.btnUp[0],"jqxRepeatButton").instance;this.areaUp.jqxRepeatButton({_ariaDisabled:true,overrideTheme:true});this.areaDown.jqxRepeatButton({_ariaDisabled:true,overrideTheme:true});this.btnThumb.jqxButton({_ariaDisabled:true,overrideTheme:true,disabled:this.disabled});this.propertyChangeMap.value=function(e,g,f,h){if(!(isNaN(h))){if(f!=h){e.setPosition(parseFloat(h),true)}}};this.propertyChangeMap.width=function(e,g,f,h){if(e.width!=undefined&&parseInt(e.width)>0){e.host.width(parseInt(e.width));e._arrange()}};this.propertyChangeMap.height=function(e,g,f,h){if(e.height!=undefined&&parseInt(e.height)>0){e.host.height(parseInt(e.height));e._arrange()}};this.propertyChangeMap.theme=function(e,g,f,h){e.setTheme()};this.propertyChangeMap.max=function(e,g,f,h){if(!(isNaN(h))){if(f!=h){e.max=parseInt(h);if(e.min>e.max){e.max=e.min+1}e._arrange();e.setPosition(e.value)}}};this.propertyChangeMap.min=function(e,g,f,h){if(!(isNaN(h))){if(f!=h){e.min=parseInt(h);if(e.min>e.max){e.max=e.min+1}e._arrange();e.setPosition(e.value)}}};this.propertyChangeMap.disabled=function(e,g,f,h){if(f!=h){if(h){e.host.addClass(e.toThemeProperty("jqx-fill-state-disabled"))}else{e.host.removeClass(e.toThemeProperty("jqx-fill-state-disabled"))}e.btnUp.jqxRepeatButton("disabled",e.disabled);e.btnDown.jqxRepeatButton("disabled",e.disabled);e.btnThumb.jqxButton("disabled",e.disabled)}};this.propertyChangeMap.touchMode=function(e,g,f,h){if(f!=h){e._updateTouchBehavior();if(h===true){e.showButtons=false;e.refresh()}else{if(h===false){e.showButtons=true;e.refresh()}}}};this.buttonUpCapture=false;this.buttonDownCapture=false;this._updateTouchBehavior();this.setPosition(this.value);this._addHandlers();this.setTheme()},_updateTouchBehavior:function(){this.isTouchDevice=a.jqx.mobile.isTouchDevice();if(this.touchMode==true){if(a.jqx.browser.msie&&a.jqx.browser.version<9){this.setTheme();return}this.isTouchDevice=true;a.jqx.mobile.setMobileSimulator(this.btnThumb[0]);this._removeHandlers();this._addHandlers();this.setTheme()}else{if(this.touchMode==false){this.isTouchDevice=false}}},_addHandlers:function(){var e=this;var d=false;try{if(("ontouchstart" in window)||window.DocumentTouch&&document instanceof DocumentTouch){d=true;this._touchSupport=true}}catch(h){}if(e.isTouchDevice||d){this.addHandler(this.btnThumb,a.jqx.mobile.getTouchEventName("touchend"),function(j){var k=e.vertical?e.toThemeProperty("jqx-scrollbar-thumb-state-pressed"):e.toThemeProperty("jqx-scrollbar-thumb-state-pressed-horizontal");var l=e.toThemeProperty("jqx-fill-state-pressed");e.btnThumb.removeClass(k);e.btnThumb.removeClass(l);if(!e.disabled){e.handlemouseup(e,j)}return false});this.addHandler(this.btnThumb,a.jqx.mobile.getTouchEventName("touchstart"),function(j){if(!e.disabled){if(e.touchMode==true){j.clientX=j.originalEvent.clientX;j.clientY=j.originalEvent.clientY}else{var k=j;if(k.originalEvent.touches&&k.originalEvent.touches.length){j.clientX=k.originalEvent.touches[0].clientX;j.clientY=k.originalEvent.touches[0].clientY}else{j.clientX=j.originalEvent.clientX;j.clientY=j.originalEvent.clientY}}e.handlemousedown(j);if(j.preventDefault){j.preventDefault()}}});a.jqx.mobile.touchScroll(this.element,e.max,function(p,o,k,j,l){if(e.host.css("visibility")=="visible"){if(e.touchMode==true){l.clientX=l.originalEvent.clientX;l.clientY=l.originalEvent.clientY}else{var n=l;if(n.originalEvent.touches&&n.originalEvent.touches.length){l.clientX=n.originalEvent.touches[0].clientX;l.clientY=n.originalEvent.touches[0].clientY}else{l.clientX=l.originalEvent.clientX;l.clientY=l.originalEvent.clientY}}var m=e.vertical?e.toThemeProperty("jqx-scrollbar-thumb-state-pressed"):e.toThemeProperty("jqx-scrollbar-thumb-state-pressed-horizontal");e.btnThumb.addClass(m);e.btnThumb.addClass(e.toThemeProperty("jqx-fill-state-pressed"));e.thumbCapture=true;e.handlemousemove(l)}},e.element.id)}this.addHandler(this.btnUp,"click",function(k){var j=e.step;if(e.rtl&&!e.vertical){j=-e.step}if(e.buttonUpCapture&&!e.isTouchDevice){if(!e.disabled){e.setPosition(e.value-j)}}else{if(!e.disabled&&e.isTouchDevice){e.setPosition(e.value-j)}}});this.addHandler(this.btnDown,"click",function(k){var j=e.step;if(e.rtl&&!e.vertical){j=-e.step}if(e.buttonDownCapture&&!e.isTouchDevice){if(!e.disabled){e.setPosition(e.value+j)}}else{if(!e.disabled&&e.isTouchDevice){e.setPosition(e.value+j)}}});if(!this.isTouchDevice){try{if(document.referrer!=""||window.frameElement){if(window.top!=null&&window.top!=window.self){var i=null;if(window.parent&&document.referrer){i=document.referrer}if(i&&i.indexOf(document.location.host)!=-1){var g=function(j){if(!e.disabled){e.handlemouseup(e,j)}};if(window.top.document.addEventListener){window.top.document.addEventListener("mouseup",g,false)}else{if(window.top.document.attachEvent){window.top.document.attachEvent("onmouseup",g)}}}}}}catch(f){}this.addHandler(this.btnDown,"mouseup",function(k){if(!e.btnDownInstance.base.disabled&&e.buttonDownCapture){e.buttonDownCapture=false;e.btnDown.removeClass(e.toThemeProperty("jqx-scrollbar-button-state-pressed"));e.btnDown.removeClass(e.toThemeProperty("jqx-fill-state-pressed"));e._removeArrowClasses("pressed","down");e.handlemouseup(e,k);var j=e.step;if(e.rtl&&!e.vertical){j=-e.step}e.setPosition(e.value+j);return false}});this.addHandler(this.btnUp,"mouseup",function(k){if(!e.btnUpInstance.base.disabled&&e.buttonUpCapture){e.buttonUpCapture=false;e.btnUp.removeClass(e.toThemeProperty("jqx-scrollbar-button-state-pressed"));e.btnUp.removeClass(e.toThemeProperty("jqx-fill-state-pressed"));e._removeArrowClasses("pressed","up");e.handlemouseup(e,k);var j=e.step;if(e.rtl&&!e.vertical){j=-e.step}e.setPosition(e.value-j);return false}});this.addHandler(this.btnDown,"mousedown",function(j){if(!e.btnDownInstance.base.disabled){e.buttonDownCapture=true;e.btnDown.addClass(e.toThemeProperty("jqx-fill-state-pressed"));e.btnDown.addClass(e.toThemeProperty("jqx-scrollbar-button-state-pressed"));e._addArrowClasses("pressed","down");return false}});this.addHandler(this.btnUp,"mousedown",function(j){if(!e.btnUpInstance.base.disabled){e.buttonUpCapture=true;e.btnUp.addClass(e.toThemeProperty("jqx-fill-state-pressed"));e.btnUp.addClass(e.toThemeProperty("jqx-scrollbar-button-state-pressed"));e._addArrowClasses("pressed","up");return false}})}var c="click";if(this.isTouchDevice){c=a.jqx.mobile.getTouchEventName("touchend")}this.addHandler(this.areaUp,c,function(k){if(!e.disabled){var j=e.largestep;if(e.rtl&&!e.vertical){j=-e.largestep}e.setPosition(e.value-j);return false}});this.addHandler(this.areaDown,c,function(k){if(!e.disabled){var j=e.largestep;if(e.rtl&&!e.vertical){j=-e.largestep}e.setPosition(e.value+j);return false}});this.addHandler(this.areaUp,"mousedown",function(j){if(!e.disabled){e.areaUpCapture=true;return false}});this.addHandler(this.areaDown,"mousedown",function(j){if(!e.disabled){e.areaDownCapture=true;return false}});this.addHandler(this.btnThumb,"mousedown",function(j){if(!e.disabled){e.handlemousedown(j)}return false});this.addHandler(this.btnThumb,"dragstart",function(j){return false});this.addHandler(a(document),"mouseup."+this.element.id,function(j){if(!e.disabled){e.handlemouseup(e,j)}});if(!this.isTouchDevice){this.mousemoveFunc=function(j){if(!e.disabled){e.handlemousemove(j)}};this.addHandler(a(document),"mousemove."+this.element.id,this.mousemoveFunc);this.addHandler(a(document),"mouseleave."+this.element.id,function(j){if(!e.disabled){e.handlemouseleave(j)}});this.addHandler(a(document),"mouseenter."+this.element.id,function(j){if(!e.disabled){e.handlemouseenter(j)}});if(!e.disabled){this.addHandler(this.btnUp,"mouseenter",function(){if(!e.disabled&&!e.btnUpInstance.base.disabled&&e.touchMode!=true){e.btnUp.addClass(e.toThemeProperty("jqx-scrollbar-button-state-hover"));e.btnUp.addClass(e.toThemeProperty("jqx-fill-state-hover"));e._addArrowClasses("hover","up")}});this.addHandler(this.btnUp,"mouseleave",function(){if(!e.disabled&&!e.btnUpInstance.base.disabled&&e.touchMode!=true){e.btnUp.removeClass(e.toThemeProperty("jqx-scrollbar-button-state-hover"));e.btnUp.removeClass(e.toThemeProperty("jqx-fill-state-hover"));e._removeArrowClasses("hover","up")}});var b=e.toThemeProperty("jqx-scrollbar-thumb-state-hover");if(!e.vertical){b=e.toThemeProperty("jqx-scrollbar-thumb-state-hover-horizontal")}this.addHandler(this.btnThumb,"mouseenter",function(){if(!e.disabled&&e.touchMode!=true){e.btnThumb.addClass(b);e.btnThumb.addClass(e.toThemeProperty("jqx-fill-state-hover"))}});this.addHandler(this.btnThumb,"mouseleave",function(){if(!e.disabled&&e.touchMode!=true){e.btnThumb.removeClass(b);e.btnThumb.removeClass(e.toThemeProperty("jqx-fill-state-hover"))}});this.addHandler(this.btnDown,"mouseenter",function(){if(!e.disabled&&!e.btnDownInstance.base.disabled&&e.touchMode!=true){e.btnDown.addClass(e.toThemeProperty("jqx-scrollbar-button-state-hover"));e.btnDown.addClass(e.toThemeProperty("jqx-fill-state-hover"));e._addArrowClasses("hover","down")}});this.addHandler(this.btnDown,"mouseleave",function(){if(!e.disabled&&!e.btnDownInstance.base.disabled&&e.touchMode!=true){e.btnDown.removeClass(e.toThemeProperty("jqx-scrollbar-button-state-hover"));e.btnDown.removeClass(e.toThemeProperty("jqx-fill-state-hover"));e._removeArrowClasses("hover","down")}})}}},destroy:function(){var b=this.btnUp;var f=this.btnDown;var d=this.btnThumb;var c=this.scrollWrap;var h=this.areaUp;var e=this.areaDown;this.arrowUp.remove();delete this.arrowUp;this.arrowDown.remove();delete this.arrowDown;e.removeClass();h.removeClass();f.removeClass();b.removeClass();d.removeClass();b.jqxRepeatButton("destroy");f.jqxRepeatButton("destroy");h.jqxRepeatButton("destroy");e.jqxRepeatButton("destroy");d.jqxButton("destroy");var g=a.data(this.element,"jqxScrollBar");this._removeHandlers();this.btnUp=null;this.btnDown=null;this.scrollWrap=null;this.areaUp=null;this.areaDown=null;this.scrollOuterWrap=null;delete this.mousemoveFunc;delete this.btnDownInstance;delete this.btnUpInstance;delete this.scrollOuterWrap;delete this.scrollWrap;delete this.btnDown;delete this.areaDown;delete this.areaUp;delete this.btnDown;delete this.btnUp;delete this.btnThumb;delete this.propertyChangeMap.value;delete this.propertyChangeMap.min;delete this.propertyChangeMap.max;delete this.propertyChangeMap.touchMode;delete this.propertyChangeMap.disabled;delete this.propertyChangeMap.theme;delete this.propertyChangeMap;if(g){delete g.instance}this.host.removeData();this.host.remove();delete this.host;delete this.set;delete this.get;delete this.call;delete this.element},_removeHandlers:function(){this.removeHandler(this.btnUp,"mouseenter");this.removeHandler(this.btnDown,"mouseenter");this.removeHandler(this.btnThumb,"mouseenter");this.removeHandler(this.btnUp,"mouseleave");this.removeHandler(this.btnDown,"mouseleave");this.removeHandler(this.btnThumb,"mouseleave");this.removeHandler(this.btnUp,"click");this.removeHandler(this.btnDown,"click");this.removeHandler(this.btnDown,"mouseup");this.removeHandler(this.btnUp,"mouseup");this.removeHandler(this.btnDown,"mousedown");this.removeHandler(this.btnUp,"mousedown");this.removeHandler(this.areaUp,"mousedown");this.removeHandler(this.areaDown,"mousedown");this.removeHandler(this.areaUp,"click");this.removeHandler(this.areaDown,"click");this.removeHandler(this.btnThumb,"mousedown");this.removeHandler(this.btnThumb,"dragstart");this.removeHandler(a(document),"mouseup."+this.element.id);if(!this.mousemoveFunc){this.removeHandler(a(document),"mousemove."+this.element.id)}else{this.removeHandler(a(document),"mousemove."+this.element.id,this.mousemoveFunc)}this.removeHandler(a(document),"mouseleave."+this.element.id);this.removeHandler(a(document),"mouseenter."+this.element.id);var b=this},_addArrowClasses:function(c,b){if(c=="pressed"){c="selected"}if(c!=""){c="-"+c}if(this.vertical){if(b=="up"||b==undefined){this.arrowUp.addClass(this.toThemeProperty("jqx-icon-arrow-up"+c))}if(b=="down"||b==undefined){this.arrowDown.addClass(this.toThemeProperty("jqx-icon-arrow-down"+c))}}else{if(b=="up"||b==undefined){this.arrowUp.addClass(this.toThemeProperty("jqx-icon-arrow-left"+c))}if(b=="down"||b==undefined){this.arrowDown.addClass(this.toThemeProperty("jqx-icon-arrow-right"+c))}}},_removeArrowClasses:function(c,b){if(c=="pressed"){c="selected"}if(c!=""){c="-"+c}if(this.vertical){if(b=="up"||b==undefined){this.arrowUp.removeClass(this.toThemeProperty("jqx-icon-arrow-up"+c))}if(b=="down"||b==undefined){this.arrowDown.removeClass(this.toThemeProperty("jqx-icon-arrow-down"+c))}}else{if(b=="up"||b==undefined){this.arrowUp.removeClass(this.toThemeProperty("jqx-icon-arrow-left"+c))}if(b=="down"||b==undefined){this.arrowDown.removeClass(this.toThemeProperty("jqx-icon-arrow-right"+c))}}},setTheme:function(){var o=this.btnUp;var m=this.btnDown;var p=this.btnThumb;var e=this.scrollWrap;var g=this.areaUp;var h=this.areaDown;var f=this.arrowUp;var i=this.arrowDown;this.scrollWrap[0].className=this.toThemeProperty("jqx-reset");this.scrollOuterWrap[0].className=this.toThemeProperty("jqx-reset");var k=this.toThemeProperty("jqx-reset");this.areaDown[0].className=k;this.areaUp[0].className=k;var d=this.toThemeProperty("jqx-scrollbar")+" "+this.toThemeProperty("jqx-widget")+" "+this.toThemeProperty("jqx-widget-content");this.element.className=d;m[0].className=this.toThemeProperty("jqx-scrollbar-button-state-normal");o[0].className=this.toThemeProperty("jqx-scrollbar-button-state-normal");var q="";if(this.vertical){f[0].className=k+" "+this.toThemeProperty("jqx-icon-arrow-up");i[0].className=k+" "+this.toThemeProperty("jqx-icon-arrow-down");q=this.toThemeProperty("jqx-scrollbar-thumb-state-normal")}else{f[0].className=k+" "+this.toThemeProperty("jqx-icon-arrow-left");i[0].className=k+" "+this.toThemeProperty("jqx-icon-arrow-right");q=this.toThemeProperty("jqx-scrollbar-thumb-state-normal-horizontal")}q+=" "+this.toThemeProperty("jqx-fill-state-normal");p[0].className=q;if(this.disabled){e.addClass(this.toThemeProperty("jqx-fill-state-disabled"));e.removeClass(this.toThemeProperty("jqx-scrollbar-state-normal"))}else{e.addClass(this.toThemeProperty("jqx-scrollbar-state-normal"));e.removeClass(this.toThemeProperty("jqx-fill-state-disabled"))}if(this.roundedCorners=="all"){this.host.addClass(this.toThemeProperty("jqx-rc-all"));if(this.vertical){var j=a.jqx.cssroundedcorners("top");j=this.toThemeProperty(j);o.addClass(j);var c=a.jqx.cssroundedcorners("bottom");c=this.toThemeProperty(c);m.addClass(c)}else{var n=a.jqx.cssroundedcorners("left");n=this.toThemeProperty(n);o.addClass(n);var l=a.jqx.cssroundedcorners("right");l=this.toThemeProperty(l);m.addClass(l)}}else{var b=a.jqx.cssroundedcorners(this.roundedCorners);b=this.toThemeProperty(b);elBtnUp.addClass(b);elBtnDown.addClass(b)}var b=a.jqx.cssroundedcorners(this.roundedCorners);b=this.toThemeProperty(b);if(!p.hasClass(b)){p.addClass(b)}if(this.isTouchDevice&&this.touchModeStyle!=false){this.showButtons=false;p.addClass(this.toThemeProperty("jqx-scrollbar-thumb-state-normal-touch"))}},isScrolling:function(){if(this.thumbCapture==undefined||this.buttonDownCapture==undefined||this.buttonUpCapture==undefined||this.areaDownCapture==undefined||this.areaUpCapture==undefined){return false}return this.thumbCapture||this.buttonDownCapture||this.buttonUpCapture||this.areaDownCapture||this.areaUpCapture},handlemousedown:function(c){if(this.thumbCapture==undefined||this.thumbCapture==false){this.thumbCapture=true;var b=this.btnThumb;if(b!=null){b.addClass(this.toThemeProperty("jqx-fill-state-pressed"));if(this.vertical){b.addClass(this.toThemeProperty("jqx-scrollbar-thumb-state-pressed"))}else{b.addClass(this.toThemeProperty("jqx-scrollbar-thumb-state-pressed-horizontal"))}}}this.dragStartX=c.clientX;this.dragStartY=c.clientY;this.dragStartValue=this.value},toggleHover:function(c,b){},refresh:function(){this._arrange()},_setElementPosition:function(c,b,d){if(!isNaN(b)){if(parseInt(c[0].style.left)!=parseInt(b)){c[0].style.left=b+"px"}}if(!isNaN(d)){if(parseInt(c[0].style.top)!=parseInt(d)){c[0].style.top=d+"px"}}},_setElementTopPosition:function(b,c){if(!isNaN(c)){b[0].style.top=c+"px"}},_setElementLeftPosition:function(c,b){if(!isNaN(b)){c[0].style.left=b+"px"}},handlemouseleave:function(e){var b=this.btnUp;var d=this.btnDown;if(this.buttonDownCapture||this.buttonUpCapture){b.removeClass(this.toThemeProperty("jqx-scrollbar-button-state-pressed"));d.removeClass(this.toThemeProperty("jqx-scrollbar-button-state-pressed"));this._removeArrowClasses("pressed")}if(this.thumbCapture!=true){return}var c=this.btnThumb;var f=this.vertical?this.toThemeProperty("jqx-scrollbar-thumb-state-pressed"):this.toThemeProperty("jqx-scrollbar-thumb-state-pressed-horizontal");c.removeClass(f);c.removeClass(this.toThemeProperty("jqx-fill-state-pressed"))},handlemouseenter:function(e){var b=this.btnUp;var d=this.btnDown;if(this.buttonUpCapture){b.addClass(this.toThemeProperty("jqx-scrollbar-button-state-pressed"));b.addClass(this.toThemeProperty("jqx-fill-state-pressed"));this._addArrowClasses("pressed","up")}if(this.buttonDownCapture){d.addClass(this.toThemeProperty("jqx-scrollbar-button-state-pressed"));d.addClass(this.toThemeProperty("jqx-fill-state-pressed"));this._addArrowClasses("pressed","down")}if(this.thumbCapture!=true){return}var c=this.btnThumb;if(this.vertical){c.addClass(this.toThemeProperty("jqx-scrollbar-thumb-state-pressed"))}else{c.addClass(this.toThemeProperty("jqx-scrollbar-thumb-state-pressed-horizontal"))}c.addClass(this.toThemeProperty("jqx-fill-state-pressed"))},handlemousemove:function(b){var i=this.btnUp;var e=this.btnDown;var d=0;if(e==null||i==null){return}if(i!=null&&e!=null&&this.buttonDownCapture!=undefined&&this.buttonUpCapture!=undefined){if(this.buttonDownCapture&&b.which==d){e.removeClass(this.toThemeProperty("jqx-scrollbar-button-state-pressed"));e.removeClass(this.toThemeProperty("jqx-fill-state-pressed"));this._removeArrowClasses("pressed","down");this.buttonDownCapture=false}else{if(this.buttonUpCapture&&b.which==d){i.removeClass(this.toThemeProperty("jqx-scrollbar-button-state-pressed"));i.removeClass(this.toThemeProperty("jqx-fill-state-pressed"));this._removeArrowClasses("pressed","up");this.buttonUpCapture=false}}}if(this.thumbCapture!=true){return false}var k=this.btnThumb;if(b.which==d&&!this.isTouchDevice&&!this._touchSupport){this.thumbCapture=false;this._arrange();var j=this.vertical?this.toThemeProperty("jqx-scrollbar-thumb-state-pressed"):this.toThemeProperty("jqx-scrollbar-thumb-state-pressed-horizontal");k.removeClass(j);k.removeClass(this.toThemeProperty("jqx-fill-state-pressed"));return true}if(b.preventDefault!=undefined){b.preventDefault()}if(b.originalEvent!=null){b.originalEvent.mouseHandled=true}if(b.stopPropagation!=undefined){b.stopPropagation()}var l=0;try{if(!this.vertical){l=b.clientX-this.dragStartX}else{l=b.clientY-this.dragStartY}var f=this._btnAndThumbSize;if(!this._btnAndThumbSize){f=(this.vertical)?i.height()+e.height()+k.height():i.width()+e.width()+k.width()}var g=(this.max-this.min)/(this.scrollBarSize-f);if(this.thumbStep=="auto"){l*=g}else{l*=g;if(Math.abs(this.dragStartValue+l-this.value)>=parseInt(this.thumbStep)){var c=Math.round(parseInt(l)/this.thumbStep)*this.thumbStep;if(this.rtl&&!this.vertical){this.setPosition(this.dragStartValue-c)}else{this.setPosition(this.dragStartValue+c)}return false}else{return false}}var c=l;if(this.rtl&&!this.vertical){c=-l}this.setPosition(this.dragStartValue+c)}catch(h){alert(h)}return false},handlemouseup:function(d,g){var c=false;if(this.thumbCapture){this.thumbCapture=false;var e=this.btnThumb;var h=this.vertical?this.toThemeProperty("jqx-scrollbar-thumb-state-pressed"):this.toThemeProperty("jqx-scrollbar-thumb-state-pressed-horizontal");e.removeClass(h);e.removeClass(this.toThemeProperty("jqx-fill-state-pressed"));c=true;this._mouseup=new Date()}this.areaDownCapture=this.areaUpCapture=false;if(this.buttonUpCapture||this.buttonDownCapture){var b=this.btnUp;var f=this.btnDown;this.buttonUpCapture=false;this.buttonDownCapture=false;b.removeClass(this.toThemeProperty("jqx-scrollbar-button-state-pressed"));f.removeClass(this.toThemeProperty("jqx-scrollbar-button-state-pressed"));b.removeClass(this.toThemeProperty("jqx-fill-state-pressed"));f.removeClass(this.toThemeProperty("jqx-fill-state-pressed"));this._removeArrowClasses("pressed");c=true;this._mouseup=new Date()}if(c){if(g.preventDefault!=undefined){g.preventDefault()}if(g.originalEvent!=null){g.originalEvent.mouseHandled=true}if(g.stopPropagation!=undefined){g.stopPropagation()}}},setPosition:function(b,g){var d=this.element;if(b==undefined||b==NaN){b=this.min}if(b>=this.max){b=this.max}if(b<this.min){b=this.min}if(this.value!==b||g==true){if(b==this.max){var c=new jQuery.Event("complete");this.host.trigger(c)}var f=this.value;if(this._triggervaluechanged){var e=new jQuery.Event("valuechanged");e.previousValue=this.value;e.currentValue=b}this.value=b;this._positionelements();if(this._triggervaluechanged){this.host.trigger(e)}if(this.valuechanged){this.valuechanged({currentValue:this.value,previousvalue:f})}}return b},_getThumbSize:function(b){var d=this.max-this.min;var c=0;if(d>1){c=(b/(d+b)*b)}else{if(d==1){c=b}}if(this.thumbSize>0){c=this.thumbSize}if(c<this.thumbMinSize){c=this.thumbMinSize}return Math.min(c,b)},_positionelements:function(){var g=this.element;var n=this.areaUp;var e=this.areaDown;var h=this.btnUp;var f=this.btnDown;var o=this.btnThumb;var b=this.scrollWrap;var p=this._height?this._height:this.host.height();var c=this._width?this._width:this.host.width();var l=(!this.vertical)?p:c;if(!this.showButtons){l=0}var m=(!this.vertical)?c:p;this.scrollBarSize=m;var d=this._getThumbSize(m-2*l);d=Math.round(d);if(d<this.thumbMinSize){d=this.thumbMinSize}if(p==NaN||p<10){p=10}if(c==NaN||c<10){c=10}l+=2;this.btnSize=l;var i=this._btnAndThumbSize;if(!this._btnAndThumbSize){var i=(this.vertical)?2*this.btnSize+o.outerHeight():2*this.btnSize+o.outerWidth();i=Math.round(i)}var k=(m-i)/(this.max-this.min)*(this.value-this.min);if(this.rtl&&!this.vertical){k=(m-i)/(this.max-this.min)*(this.max-this.value-this.min)}k=Math.round(k);if(k<0){k=0}if(this.vertical){var j=m-k-i;if(j<0){j=0}e[0].style.height=j+"px";n[0].style.height=k+"px";this._setElementTopPosition(n,l);this._setElementTopPosition(o,l+k);this._setElementTopPosition(e,l+k+d)}else{n[0].style.width=k+"px";if(m-k-i>=0){e[0].style.width=m-k-i+"px"}else{e[0].style.width="0px"}this._setElementLeftPosition(n,l);this._setElementLeftPosition(o,l+k);this._setElementLeftPosition(e,2+l+k+d)}},_arrange:function(){if(this._initialLayout){this._initialLayout=false;return}var d=this.element;var g=this.areaUp;var r=this.areaDown;var c=this.btnUp;var k=this.btnDown;var s=this.btnThumb;var n=this.scrollWrap;var l=parseInt(this.element.style.height);var o=parseInt(this.element.style.width);if(this.isPercentage){var l=this.host.height();var o=this.host.width()}if(isNaN(l)){l=0}if(isNaN(o)){o=0}this._width=o;this._height=l;var b=(!this.vertical)?l:o;if(!this.showButtons){b=0}c[0].style.width=b+"px";c[0].style.height=b+"px";k[0].style.width=b+"px";k[0].style.height=b+"px";if(this.vertical){n[0].style.width=o+2+"px"}else{n[0].style.height=l+2+"px"}this._setElementPosition(c,0,0);var q=b+2;if(this.vertical){this._setElementPosition(k,0,l-q)}else{this._setElementPosition(k,o-q,0)}var e=(!this.vertical)?o:l;this.scrollBarSize=e;var h=this._getThumbSize(e-2*b);h=Math.round(h);if(h<this.thumbMinSize){h=this.thumbMinSize}var m=false;if(this.isTouchDevice&&this.touchModeStyle!=false){m=true}if(!this.vertical){s[0].style.width=h+"px";s[0].style.height=l+"px";if(m&&this.thumbTouchSize!==0){s.css({height:this.thumbTouchSize+"px"});s.css("margin-top",(this.host.height()-this.thumbTouchSize)/2)}}else{s[0].style.width=o+"px";s[0].style.height=h+"px";if(m&&this.thumbTouchSize!==0){s.css({width:this.thumbTouchSize+"px"});s.css("margin-left",(this.host.width()-this.thumbTouchSize)/2)}}if(l==NaN||l<10){l=10}if(o==NaN||o<10){o=10}b+=2;this.btnSize=b;var f=(this.vertical)?2*this.btnSize+(2+parseInt(s[0].style.height)):2*this.btnSize+(2+parseInt(s[0].style.width));f=Math.round(f);this._btnAndThumbSize=f;var u=(e-f)/(this.max-this.min)*(this.value-this.min);if(this.rtl&&!this.vertical){u=(e-f)/(this.max-this.min)*(this.max-this.value-this.min)}u=Math.round(u);if(u===-Infinity||u==Infinity){u=0}if(isNaN(u)){u=0}if(u<0){u=0}if(this.vertical){var t=(e-u-f);if(t<0){t=0}r[0].style.height=t+"px";r[0].style.width=o+"px";g[0].style.height=u+"px";g[0].style.width=o+"px";var i=parseInt(this.element.style.height);if(this.isPercentage){i=this.host.height()}s[0].style.visibility="inherit";if(i-3*parseInt(b)<0){s[0].style.visibility="hidden"}else{if(i<f){s[0].style.visibility="hidden"}else{if(this.element.style.visibility=="visible"){s[0].style.visibility="inherit"}}}this._setElementPosition(g,0,b);this._setElementPosition(s,0,b+u);this._setElementPosition(r,0,b+u+h)}else{if(u>0){g[0].style.width=u+"px"}if(l>0){g[0].style.height=l+"px"}var j=(e-u-f);if(j<0){j=0}r[0].style.width=j+"px";r[0].style.height=l+"px";var p=parseInt(this.element.style.width);if(this.isPercentage){p=this.host.width()}s[0].style.visibility="inherit";if(p-3*parseInt(b)<0){s[0].style.visibility="hidden"}else{if(p<f){s[0].style.visibility="hidden"}else{if(this.element.style.visibility=="visible"){s[0].style.visibility="inherit"}}}this._setElementPosition(g,b,0);this._setElementPosition(s,b+u,0);this._setElementPosition(r,2+b+u+h,0)}}})})(jQuery);

/*panel*/
(function(a){a.jqx.jqxWidget("jqxPanel","",{});a.extend(a.jqx._jqxPanel.prototype,{defineInstance:function(){this.width=null;this.height=null;this.disabled=false;this.scrollBarSize=a.jqx.utilities.scrollBarSize;this.sizeMode="fixed";this.autoUpdate=false;this.autoUpdateInterval=500;this.touchMode="auto";this.horizontalScrollBarMax=null;this.verticalScrollBarMax=null;this.touchModeStyle="auto";this.rtl=false;this.events=["layout",]},createInstance:function(b){this.render()},render:function(){var b=this;this.host.addClass(this.toThemeProperty("jqx-panel"));this.host.addClass(this.toThemeProperty("jqx-widget"));this.host.addClass(this.toThemeProperty("jqx-widget-content"));this.host.addClass(this.toThemeProperty("jqx-rc-all"));var c=a("<div id='panelWrapper' style='overflow: hidden; width: 100%; height: 100%; background-color: transparent; -webkit-appearance: none; outline: none; align:left; border: 0px; padding: 0px; margin: 0px; left: 0px; top: 0px; valign:top; position: relative;'><div id='panelContent' style='-webkit-appearance: none; -moz-box-sizing: border-box; box-sizing: border-box; width: 100%; height: 100%; outline: none; border: none; padding: 0px; position: absolute; margin: 0px; align:left; valign:top; left: 0px; top: 0px;'/><div id='verticalScrollBar' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'/><div id='horizontalScrollBar' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'/><div id='bottomRight' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'/></div>");if(!this.host.jqxButton){throw new Error("jqxPanel: Missing reference to jqxbuttons.js.")}if(!this.host.jqxScrollBar){throw new Error("jqxPanel: Missing reference to jqxscrollbar.js.")}var d=this.host.children();this._rtl=false;if(d.length>0&&d.css("direction")=="rtl"){this.rtl=true;this._rtl=true}this.host.wrapInner(c);var g=this.host.find("#verticalScrollBar");g[0].id=this.element.id+"verticalScrollBar";this.vScrollBar=g.jqxScrollBar({vertical:true,rtl:this.rtl,touchMode:this.touchMode,theme:this.theme});var f=this.host.find("#horizontalScrollBar");f[0].id=this.element.id+"horizontalScrollBar";this.hScrollBar=f.jqxScrollBar({vertical:false,rtl:this.rtl,touchMode:this.touchMode,theme:this.theme});this.content=this.host.find("#panelContent");this.wrapper=this.host.find("#panelWrapper");this.content.addClass(this.toThemeProperty("jqx-widget-content"));this.wrapper[0].id=this.wrapper[0].id+this.element.id;this.content[0].id=this.content[0].id+this.element.id;this.bottomRight=this.host.find("#bottomRight").addClass(this.toThemeProperty("jqx-panel-bottomright"));this.bottomRight[0].id="bottomRight"+this.element.id;this.vScrollBar.css("visibility","inherit");this.hScrollBar.css("visibility","inherit");this.vScrollInstance=a.data(this.vScrollBar[0],"jqxScrollBar").instance;this.hScrollInstance=a.data(this.hScrollBar[0],"jqxScrollBar").instance;var e=this;this.propertyChangeMap.disabled=function(h,j,i,k){e.vScrollBar.jqxScrollBar({disabled:e.disabled});e.hScrollBar.jqxScrollBar({disabled:e.disabled})};this.vScrollBar.jqxScrollBar({disabled:this.disabled});this.hScrollBar.jqxScrollBar({disabled:this.disabled});this._addHandlers();if(this.width==null){this.width=this.content.width()}if(this.height==null){this.height=this.content.height()}this._arrange();this.contentWidth=e.content[0].scrollWidth;this.contentHeight=e.content[0].scrollHeight;if(this.autoUpdate){e._autoUpdate()}this.propertyChangeMap.autoUpdate=function(h,j,i,k){if(e.autoUpdate){e._autoUpdate()}else{clearInterval(e.autoUpdateId);e.autoUpdateId=null}};this.addHandler(a(window),"unload",function(){if(e.autoUpdateId!=null){clearInterval(e.autoUpdateId);e.autoUpdateId=null;e.destroy()}});this._updateTouchScrolling();this._render()},hiddenParent:function(){return a.jqx.isHidden(this.host)},_updateTouchScrolling:function(){var b=this;if(this.touchMode==true){a.jqx.mobile.setMobileSimulator(this.element)}var c=this.isTouchDevice();if(c){a.jqx.mobile.touchScroll(this.element,b.vScrollInstance.max,function(f,e){if(b.vScrollBar.css("visibility")!="hidden"){var d=b.vScrollInstance.value;b.vScrollInstance.setPosition(d+e)}if(b.hScrollBar.css("visibility")!="hidden"){var d=b.hScrollInstance.value;b.hScrollInstance.setPosition(d+f)}},this.element.id,this.hScrollBar,this.vScrollBar);this._arrange()}this.vScrollBar.jqxScrollBar({touchMode:this.touchMode});this.hScrollBar.jqxScrollBar({touchMode:this.touchMode})},isTouchDevice:function(){var b=a.jqx.mobile.isTouchDevice();if(this.touchMode==true){b=true}else{if(this.touchMode==false){b=false}}if(b&&this.touchModeStyle!=false){this.scrollBarSize=a.jqx.utilities.touchScrollBarSize}return b},append:function(b){if(b!=null){this.content.append(b);this._arrange()}},setcontent:function(b){this.content[0].innerHTML=b;this._arrange();var c=this;setTimeout(function(){c._arrange()},100)},prepend:function(b){if(b!=null){this.content.prepend(b);this._arrange()}},clearcontent:function(){this.content.text("");this.content.children().remove();this._arrange()},remove:function(b){if(b!=null){a(b).remove();this._arrange()}},_autoUpdate:function(){var b=this;this.autoUpdateId=setInterval(function(){var d=b.content[0].scrollWidth;var c=b.content[0].scrollHeight;var e=false;if(b.contentWidth!=d){b.contentWidth=d;e=true}if(b.contentHeight!=c){b.contentHeight=c;e=true}if(e){b._arrange()}},this.autoUpdateInterval)},_addHandlers:function(){var b=this;this.addHandler(this.vScrollBar,"valuechanged",function(c){b._render(b)});this.addHandler(this.hScrollBar,"valuechanged",function(c){b._render(b)});this.addHandler(this.host,"mousewheel",function(c){b.wheel(c,b)});this.addHandler(this.wrapper,"scroll",function(c){if(b.wrapper[0].scrollTop!=0){b.wrapper[0].scrollTop=0}if(b.wrapper[0].scrollLeft!=0){b.wrapper[0].scrollLeft=0}});this.addHandler(this.host,"mouseleave",function(c){b.focused=false});this.addHandler(this.host,"focus",function(c){b.focused=true});this.addHandler(this.host,"blur",function(c){b.focused=false});this.addHandler(this.host,"mouseenter",function(c){b.focused=true});a.jqx.utilities.resize(this.host,function(){if(a.jqx.isHidden(b.host)){return}b._arrange(false)})},_removeHandlers:function(){var b=this;this.removeHandler(this.vScrollBar,"valuechanged");this.removeHandler(this.hScrollBar,"valuechanged");this.removeHandler(this.host,"mousewheel");this.removeHandler(this.host,"mouseleave");this.removeHandler(this.host,"focus");this.removeHandler(this.host,"blur");this.removeHandler(this.host,"mouseenter");this.removeHandler(this.wrapper,"scroll");this.removeHandler(a(window),"resize."+this.element.id)},wheel:function(d,c){var e=0;if(d.originalEvent&&a.jqx.browser.msie&&d.originalEvent.wheelDelta){e=d.originalEvent.wheelDelta/120}if(!d){d=window.event}if(d.wheelDelta){e=d.wheelDelta/120}else{if(d.detail){e=-d.detail/3}}if(e){var b=c._handleDelta(e);if(!b){if(d.preventDefault){d.preventDefault()}}if(!b){return b}else{return false}}if(d.preventDefault){d.preventDefault()}d.returnValue=false},scrollDown:function(){if(this.vScrollBar.css("visibility")=="hidden"){return false}var b=this.vScrollInstance;if(b.value+b.largestep<=b.max){b.setPosition(b.value+b.largestep);return true}else{if(b.value+b.largestep!=b.max){b.setPosition(b.max);return true}}return false},scrollUp:function(){if(this.vScrollBar.css("visibility")=="hidden"){return false}var b=this.vScrollInstance;if(b.value-b.largestep>=b.min){b.setPosition(b.value-b.largestep);return true}else{if(b.value-b.largestep!=b.min){b.setPosition(b.min);return true}}return false},_handleDelta:function(d){if(this.focused){var c=this.vScrollInstance.value;if(d<0){this.scrollDown()}else{this.scrollUp()}var b=this.vScrollInstance.value;if(c!=b){return false}}return true},_render:function(c){if(c==undefined){c=this}var b=c.vScrollInstance.value;var d=c.hScrollInstance.value;if(this.rtl){if(this.hScrollBar[0].style.visibility!="hidden"){if(this._rtl==false){d=c.hScrollInstance.max-d}else{d=-c.hScrollInstance.value}}}c.content.css({left:-d+"px",top:-b+"px"})},scrollTo:function(c,b){if(c==undefined||b==undefined){return}this.vScrollInstance.setPosition(b);this.hScrollInstance.setPosition(c)},getScrollHeight:function(){return this.vScrollInstance.max},getVScrollPosition:function(){return this.vScrollInstance.value},getScrollWidth:function(){return this.hScrollInstance.max},getHScrollPosition:function(){return this.hScrollInstance.value},_getScrollSize:function(){var b=this.scrollBarSize;if(isNaN(b)){b=parseInt(b);if(isNaN(b)){b="17px"}else{b=b+"px"}}if(this.isTouchDevice()){b=a.jqx.utilities.touchScrollBarSize}b=parseInt(b);return b},_getScrollArea:function(){var c=0;this.content.css("margin-right","0px");this.content.css("max-width","9999999px");if(a.jqx.browser.msie&&a.jqx.browser.version<10){c=parseInt(this.content.css("left"));this.content.css("left",0)}this.content.css("overflow","auto");if(this.rtl){this.content.css("direction","rtl")}var b=parseInt(this.content[0].scrollWidth);a.each(this.content.children(),function(){b=Math.max(b,this.scrollWidth);b=Math.max(b,a(this).outerWidth())});if(a.jqx.browser.msie&&a.jqx.browser.version<10){this.content.css("left",c)}var d=parseInt(this.content[0].scrollHeight);this.content.css("overflow","visible");if(a.jqx.browser.msie&&a.jqx.browser.version<9){var d=parseInt(this.content[0].scrollHeight);switch(this.sizeMode){case"wrap":var d=parseInt(this.content[0].scrollHeight);var b=parseInt(this.content[0].scrollWidth);break;case"horizontalWrap":case"horizontalwrap":break;case"verticalWrap":case"verticalwrap":var d=parseInt(this.content[0].scrollHeight);break}}if(this.rtl){this.content.css("direction","ltr")}return{width:b,height:d}},_arrange:function(h){if(h!==false){if(this.width!=null){this.host.width(this.width)}if(this.height!=null){this.host.height(this.height)}}var b=this._getScrollSize();var d=this.host.width();var l=this.host.height();var e=this._getScrollArea();var c=e.width;var k=e.height;var i=k-parseInt(Math.round(this.host.height()));var g=c-parseInt(Math.round(this.host.width()));if(this.horizontalScrollBarMax!=undefined){g=this.horizontalScrollBarMax}if(this.verticalScrollBarMax!=undefined){i=this.verticalScrollBarMax}var j=function(o,p){var n=5;if(p>n){o.vScrollBar.jqxScrollBar({max:p});o.vScrollBar.css("visibility","inherit")}else{o.vScrollBar.jqxScrollBar("setPosition",0);o.vScrollBar.css("visibility","hidden")}};var m=function(o,n){if(n>0){if(a.jqx.browser.msie&&a.jqx.browser.version<8){if(n-10<=b){o.hScrollBar.css("visibility","hidden");o.hScrollBar.jqxScrollBar("setPosition",0)}else{o.hScrollBar.jqxScrollBar({max:n+4});o.hScrollBar.css("visibility","inherit")}}else{o.hScrollBar.jqxScrollBar({max:n+4});o.hScrollBar.css("visibility","inherit")}}else{o.hScrollBar.css("visibility","hidden");o.hScrollBar.jqxScrollBar("setPosition",0)}};switch(this.sizeMode){case"wrap":this.host.width(c);this.host.height(k);this.vScrollBar.css("visibility","hidden");this.hScrollBar.css("visibility","hidden");return;case"horizontalWrap":case"horizontalwrap":this.host.width(c);this.hScrollBar.css("visibility","hidden");j(this,i);this._arrangeScrollbars(b,c,l);return;case"verticalWrap":case"verticalwrap":this.host.height(k);this.vScrollBar.css("visibility","hidden");m(this,g);this._arrangeScrollbars(b,d,l);return}j(this,i);var f=2;if(this.vScrollBar.css("visibility")!="hidden"){if(this.horizontalScrollBarMax==undefined){g+=b+f}}m(this,g);if(this.hScrollBar.css("visibility")!="hidden"){this.vScrollBar.jqxScrollBar({max:i+b+f})}this._arrangeScrollbars(b,d,l)},_arrangeScrollbars:function(b,d,j){var i=this.vScrollBar[0].style.visibility!="hidden";var f=this.hScrollBar[0].style.visibility!="hidden";var h=2;var g=2;this.hScrollBar.height(b);this.hScrollBar.css({top:j-b-h-g+"px",left:"0px"});this.hScrollBar.width(d-h+"px");this.vScrollBar.width(b);this.vScrollBar.height(parseInt(j)-h+"px");this.vScrollBar.css({left:parseInt(d)-parseInt(b)-h-g+"px",top:"0px"});if(this.rtl){this.vScrollBar.css({left:"0px"});var c=i?parseInt(b)+"px":0;if(this.content.children().css("direction")!="rtl"){var e=false;if(a.jqx.browser.msie&&a.jqx.browser.version<8){e=true}if(!e){this.content.css("padding-left",c)}}}else{if(this.vScrollBar.css("visibility")!="hidden"){this.content.css("max-width",this.host.width()-this.vScrollBar.outerWidth())}}if((this.vScrollBar.css("visibility")!="hidden")&&(this.hScrollBar.css("visibility")!="hidden")){this.bottomRight.css("visibility","inherit");this.bottomRight.css({left:1+parseInt(this.vScrollBar.css("left")),top:1+parseInt(this.hScrollBar.css("top"))});this.bottomRight.width(parseInt(b)+3);this.bottomRight.height(parseInt(b)+3);if(this.rtl){this.bottomRight.css({left:"0px"});this.hScrollBar.css({left:b+g+"px"})}this.hScrollBar.width(d-(1*b)-h-g+"px");this.vScrollBar.height(parseInt(j)-h-b-g+"px")}else{this.bottomRight.css("visibility","hidden")}this.hScrollInstance.refresh();this.vScrollInstance.refresh()},destroy:function(){clearInterval(this.autoUpdateId);this.autoUpdateId=null;this.autoUpdate=false;a.jqx.utilities.resize(this.host,null,true);this._removeHandlers();this.removeHandler(a(window),"unload");this.vScrollBar.jqxScrollBar("destroy");this.hScrollBar.jqxScrollBar("destroy");this.host.remove()},_raiseevent:function(g,d,f){if(this.isInitialized!=undefined&&this.isInitialized==true){var c=this.events[g];var e=new jQuery.Event(c);e.previousValue=d;e.currentValue=f;e.owner=this;var b=this.host.trigger(e);return b}},beginUpdateLayout:function(){this.updating=true},resumeUpdateLayout:function(){this.updating=false;this.vScrollInstance.value=0;this.hScrollInstance.value=0;this._arrange();this._render()},propertyChangedHandler:function(c,d,b,e){if(!c.isInitialized){return}if(d=="rtl"){this.vScrollBar.jqxScrollBar({rtl:e});this.hScrollBar.jqxScrollBar({rtl:e});c._arrange()}if(!c.updating){if(d=="scrollBarSize"||d=="width"||d=="height"){if(b!=e){c._arrange()}}}if(d=="touchMode"){if(e!="auto"){c._updateTouchScrolling()}}if(d=="theme"){c.host.removeClass();c.host.addClass(this.toThemeProperty("jqx-panel"));c.host.addClass(this.toThemeProperty("jqx-widget"));c.host.addClass(this.toThemeProperty("jqx-widget-content"));c.host.addClass(this.toThemeProperty("jqx-rc-all"));c.vScrollBar.jqxScrollBar({theme:this.theme});c.hScrollBar.jqxScrollBar({theme:this.theme});c.bottomRight.removeClass();c.bottomRight.addClass(this.toThemeProperty("jqx-panel-bottomright"));c.content.removeClass();c.content.addClass(this.toThemeProperty("jqx-widget-content"))}},invalidate:function(){if(a.jqx.isHidden(this.host)){return}this.refresh()},refresh:function(b){this._arrange()}})})(jQuery);

/*tree*/
(function(a){a.jqx.jqxWidget("jqxTree","",{});a.extend(a.jqx._jqxTree.prototype,{defineInstance:function(){this.items=new Array();this.width=null;this.height=null;this.easing="easeInOutCirc";this.animationShowDuration="fast";this.animationHideDuration="fast";this.treeElements=new Array();this.disabled=false;this.enableHover=true;this.keyboardNavigation=true;this.enableKeyboardNavigation=true;this.toggleMode="dblclick";this.source=null;this.checkboxes=false;this.checkSize=13;this.toggleIndicatorSize=16;this.hasThreeStates=false;this.selectedItem=null;this.touchMode="auto";this.allowDrag=true;this.allowDrop=true;this.searchMode="startswithignorecase";this.incrementalSearch=true;this.incrementalSearchDelay=700;this.animationHideDelay=0;this.submitCheckedItems=false;this.dragStart=null;this.dragEnd=null;this.rtl=false;this.dropAction="default";this.events=["expand","collapse","select","initialized","added","removed","checkChange","dragEnd","dragStart"];this.aria={"aria-activedescendant":{name:"getActiveDescendant",type:"string"},"aria-disabled":{name:"disabled",type:"boolean"}}},createInstance:function(c){var b=this;this.host.attr("role","tree");this.host.attr("data-role","treeview");this.propertyChangeMap.disabled=function(f,h,g,j){if(b.disabled){b.host.addClass(b.toThemeProperty("jqx-tree-disabled"))}else{b.host.removeClass(b.toThemeProperty("jqx-tree-disabled"))}a.jqx.aria(b,"aria-disabled",j)};if(this.width!=null&&this.width.toString().indexOf("px")!=-1){this.host.width(this.width)}else{if(this.width!=undefined&&!isNaN(this.width)){this.host.width(this.width)}}if(this.height!=null&&this.height.toString().indexOf("px")!=-1){this.host.height(this.height)}else{if(this.height!=undefined&&!isNaN(this.height)){this.host.height(this.height)}}if(this.width!=null&&this.width.toString().indexOf("%")!=-1){this.host.width(this.width)}if(this.height!=null&&this.height.toString().indexOf("%")!=-1){this.host.height(this.height)}this.host.attr("tabIndex",1);if(this.disabled){this.host.addClass(this.toThemeProperty("jqx-tree-disabled"));a.jqx.aria(this,"aria-disabled",true)}if(this.host.jqxDragDrop){jqxTreeDragDrop()}this.originalInnerHTML=this.element.innerHTML;this.createdTree=false;if(this.element.innerHTML.indexOf("UL")){var e=this.host.find("ul:first");if(e.length>0){this.createTree(e[0]);this.createdTree=true}}if(this.source!=null){var d=this.loadItems(this.source);this.element.innerHTML=d;var e=this.host.find("ul:first");if(e.length>0){this.createTree(e[0]);this.createdTree=true}}this._itemslength=this.items.length;if(!this.createdTree){if(this.host.find("ul").length==0){this.host.append(a("<ul></ul>"));var e=this.host.find("ul:first");if(e.length>0){this.createTree(e[0]);this.createdTree=true}this.createdTree=true}}if(this.createdTree==true){this._render();this._handleKeys()}this._updateCheckLayout()},checkItems:function(f,h){var e=this;if(f!=null){var d=0;var g=false;var b=0;var j=a(f.element).find("li");b=j.length;a.each(j,function(k){var l=e.itemMapping["id"+this.id].item;if(l.checked!=false){if(l.checked==null){g=true}d++}});if(f!=h){if(d==b){this.checkItem(f.element,true,"tree")}else{if(d>0){this.checkItem(f.element,null,"tree")}else{this.checkItem(f.element,false,"tree")}}}else{var c=h.checked;var j=a(h.element).find("li");a.each(j,function(){var k=e.itemMapping["id"+this.id].item;e.checkItem(this,c,"tree")})}this.checkItems(this._parentItem(f),h)}else{var c=h.checked;var j=a(h.element).find("li");a.each(j,function(){var k=e.itemMapping["id"+this.id].item;e.checkItem(this,c,"tree")})}},_handleKeys:function(){var b=this;this.addHandler(this.host,"keydown",function(d){var l=d.keyCode;if(b.keyboardNavigation||b.enableKeyboardNavigation){if(b.selectedItem!=null){var g=b.selectedItem.element;switch(l){case 32:if(b.checkboxes){b.fromKey=true;var k=a(b.selectedItem.checkBoxElement).jqxCheckBox("checked");b.checkItem(b.selectedItem.element,!k,"tree");if(b.hasThreeStates){b.checkItems(b.selectedItem,b.selectedItem)}return false}return true;case 33:var f=b._getItemsOnPage();var j=b.selectedItem;for(var h=0;h<f;h++){j=b._prevVisibleItem(j)}if(j!=null){b.selectItem(j.element);b.ensureVisible(j.element)}else{b.selectItem(b._firstItem().element);b.ensureVisible(b._firstItem().element)}return false;case 34:var f=b._getItemsOnPage();var c=b.selectedItem;for(var h=0;h<f;h++){c=b._nextVisibleItem(c)}if(c!=null){b.selectItem(c.element);b.ensureVisible(c.element)}else{b.selectItem(b._lastItem().element);b.ensureVisible(b._lastItem().element)}return false;case 37:case 39:if((l==37&&!b.rtl)||(l==39&&b.rtl)){if(b.selectedItem.hasItems&&b.selectedItem.isExpanded){b.collapseItem(g)}else{var e=b._parentItem(b.selectedItem);if(e!=null){b.selectItem(e.element);b.ensureVisible(e.element)}}}if((l==39&&!b.rtl)||(l==37&&b.rtl)){if(b.selectedItem.hasItems){if(!b.selectedItem.isExpanded){b.expandItem(g)}else{var c=b._nextVisibleItem(b.selectedItem);if(c!=null){b.selectItem(c.element);b.ensureVisible(c.element)}}}}return false;case 13:if(b.selectedItem.hasItems){if(b.selectedItem.isExpanded){b.collapseItem(g)}else{b.expandItem(g)}}return false;case 36:b.selectItem(b._firstItem().element);b.ensureVisible(b._firstItem().element);return false;case 35:b.selectItem(b._lastItem().element);b.ensureVisible(b._lastItem().element);return false;case 38:var j=b._prevVisibleItem(b.selectedItem);if(j!=null){b.selectItem(j.element);b.ensureVisible(j.element)}return false;case 40:var c=b._nextVisibleItem(b.selectedItem);if(c!=null){b.selectItem(c.element);b.ensureVisible(c.element)}return false}}}})},_firstItem:function(){var d=null;var c=this;var f=this.host.find("ul:first");var e=a(f).find("li");for(i=0;i<=e.length-1;i++){var b=e[i];d=this.itemMapping["id"+b.id].item;if(c._isVisible(d)){return d}}return null},_lastItem:function(){var d=null;var c=this;var f=this.host.find("ul:first");var e=a(f).find("li");for(i=e.length-1;i>=0;i--){var b=e[i];d=this.itemMapping["id"+b.id].item;if(c._isVisible(d)){return d}}return null},_parentItem:function(d){if(d==null||d==undefined){return null}var c=d.parentElement;if(!c){return null}var b=null;a.each(this.items,function(){if(this.element==c){b=this;return false}});return b},_nextVisibleItem:function(c){if(c==null||c==undefined){return null}var b=c;while(b!=null){b=b.nextItem;if(this._isVisible(b)&&!b.disabled){return b}}return null},_prevVisibleItem:function(c){if(c==null||c==undefined){return null}var b=c;while(b!=null){b=b.prevItem;if(this._isVisible(b)&&!b.disabled){return b}}return null},_isVisible:function(c){if(c==null||c==undefined){return false}if(!this._isElementVisible(c.element)){return false}var b=this._parentItem(c);if(b==null){return true}if(b!=null){if(!this._isElementVisible(b.element)){return false}if(b.isExpanded){while(b!=null){b=this._parentItem(b);if(b!=null&&!this._isElementVisible(b.element)){return false}if(b!=null&&!b.isExpanded){return false}}}else{return false}}return true},_getItemsOnPage:function(){var d=0;var c=this.panel.jqxPanel("getVScrollPosition");var b=parseInt(this.host.height());var f=0;var e=this._firstItem();if(parseInt(a(e.element).height())>0){while(f<=b){f+=parseInt(a(e.element).outerHeight());d++}}return d},_isElementVisible:function(b){if(b==null){return false}if(a(b).css("display")!="none"&&a(b).css("visibility")!="hidden"){return true}return false},refresh:function(c){if(this.width!=null&&this.width.toString().indexOf("px")!=-1){this.host.width(this.width)}else{if(this.width!=undefined&&!isNaN(this.width)){this.host.width(this.width)}}if(this.height!=null&&this.height.toString().indexOf("px")!=-1){this.host.height(this.height)}else{if(this.height!=undefined&&!isNaN(this.height)){this.host.height(this.height)}}if(this.panel){if(this.width!=null&&this.width.toString().indexOf("%")!=-1){var b=this;this.panel.jqxPanel("width","100%");b.removeHandler(a(window),"resize.jqxtree"+b.element.id);b.addHandler(a(window),"resize.jqxtree"+b.element.id,function(){b._calculateWidth()})}else{this.panel.jqxPanel("width",this.host.width())}this.panel.jqxPanel("_arrange")}this._calculateWidth();if(a.jqx.isHidden(this.host)){var b=this;this._hiddenTimer=setInterval(function(){if(!a.jqx.isHidden(b.host)){clearInterval(b._hiddenTimer);b._calculateWidth()}},100)}if(c!=true){if(this.checkboxes){this._updateCheckLayout(null)}}},loadItems:function(c){if(c==null){return}var b=this;this.items=new Array();var d="<ul>";a.map(c,function(e){if(e==undefined){return null}d+=b._parseItem(e)});d+="</ul>";return d},_parseItem:function(m){var g="";if(m==undefined){return null}var k=m.label;if(!m.label&&m.html){k=m.html}if(!k){k="Item"}if(typeof m==="string"){k=m}var h=false;if(m.expanded!=undefined&&m.expanded){h=true}var f=false;if(m.locked!=undefined&&m.locked){f=true}var d=false;if(m.selected!=undefined&&m.selected){d=true}var e=false;if(m.disabled!=undefined&&m.disabled){e=true}var l=false;if(m.checked!=undefined&&m.checked){l=true}var j=m.icon;var c=m.iconsize;g+="<li";if(h){g+=' item-expanded="true" '}if(f){g+=' item-locked="true" '}if(e){g+=' item-disabled="true" '}if(d){g+=' item-selected="true" '}if(c){g+=' item-iconsize="'+m.iconsize+'" '}if(j!=null&&j!=undefined){g+=' item-icon="'+j+'" '}if(m.label&&!m.html){g+=' item-label="'+k+'" '}if(m.value!=null){g+=' item-value="'+m.value+'" '}if(m.checked!=undefined){g+=' item-checked="'+l+'" '}var b="";if(m.id!=undefined){b=m.id;g+=' id="'+b+'" '}else{b=this.createID();g+=' id="'+b+'" '}g+=">"+k;if(m.items){g+=this.loadItems(m.items)}if(!this._valueList){this._valueList=new Array()}this._valueList[b]=m.value;g+="</li>";return g},ensureVisible:function(d){if(d==null||d==undefined){return}var c=this.panel.jqxPanel("getVScrollPosition");var e=this.panel.jqxPanel("getHScrollPosition");var b=parseInt(this.host.height());var f=a(d).position().top;if(f<=c||f>=b+c){this.panel.jqxPanel("scrollTo",e,f-b+a(d).outerHeight())}},_syncItems:function(c){this._visibleItems=new Array();var b=this;a.each(c,function(){var e=a(this);if(e.css("display")!="none"){var d=e.outerHeight();if(e.height()>0){var f=parseInt(e.offset().top);b._visibleItems[b._visibleItems.length]={element:this,top:f,height:d,bottom:f+d}}}})},hitTest:function(h,g){var d=this;var b=this;var f=null;var e=this.host.find(".draggable");this._syncItems(e);if(b._visibleItems){var c=parseInt(b.host.offset().left);var j=b.host.outerWidth();a.each(b._visibleItems,function(l){if(h>=c&&h<c+j){if(this.top+5<g&&g<this.top+this.height){var k=a(this.element).parents("li:first");if(k.length>0){f=b.getItem(k[0]);if(f!=null){f.height=this.height;f.top=this.top;return false}}}}})}return f},addBefore:function(b,d,c){return this.addBeforeAfter(b,d,true,c)},addAfter:function(b,d,c){return this.addBeforeAfter(b,d,false,c)},addBeforeAfter:function(o,r,q,n){var l=this;var m=new Array();if(r&&r.treeInstance!=undefined){r=r.element}if(!a.isArray(o)){m[0]=o}else{m=o}var g="";var p=this;a.each(m,function(){g+=p._parseItem(this)});var b=a(g);if(l.element.innerHTML.indexOf("UL")){var h=l.host.find("ul:first")}if(r==undefined&&r==null){h.append(b)}else{if(q){a(r).before(b)}else{a(r).after(b)}}var d=b;for(var k=0;k<d.length;k++){this._createItem(d[k]);var c=a(d[k]).find("li");if(c.length>0){for(var f=0;f<c.length;f++){this._createItem(c[f])}}}var e=function(j){p._refreshMapping(false);p._updateItemsNavigation();if(j&&p.allowDrag&&p._enableDragDrop){p._enableDragDrop()}if(p.selectedItem!=null){a(p.selectedItem.titleElement).addClass(p.toThemeProperty("jqx-fill-state-pressed"));a(p.selectedItem.titleElement).addClass(p.toThemeProperty("jqx-tree-item-selected"))}};if(n==false){e(true);this._raiseEvent("4",{items:this.getItems()});return}e(false);p._render();this._raiseEvent("4",{items:this.getItems()});if(p.checkboxes){p._updateCheckLayout(null)}},addTo:function(q,s,p){var n=this;var o=new Array();if(s&&s.treeInstance!=undefined){s=s.element}if(!a.isArray(q)){o[0]=q}else{o=q}var k="";var r=this;a.each(o,function(){k+=r._parseItem(this)});var b=a(k);if(n.element.innerHTML.indexOf("UL")){var l=n.host.find("ul:first")}if(s==undefined&&s==null){l.append(b)}else{s=a(s);var e=s.find("ul:first");if(e.length==0){ulElement=a("<ul></ul>");a(s).append(ulElement);e=s.find("ul:first");var t=n.itemMapping["id"+s[0].id].item;t.subtreeElement=e[0];t.hasItems=true;e.addClass(n.toThemeProperty("jqx-tree-dropdown"));if(r.rtl){e.addClass(n.toThemeProperty("jqx-tree-dropdown-rtl"))}e.append(b);var h=e.find("li:first");t.parentElement=h}else{e.append(b)}}var d=b;for(var m=0;m<d.length;m++){this._createItem(d[m]);var c=a(d[m]).find("li");if(c.length>0){for(var g=0;g<c.length;g++){this._createItem(c[g])}}}var f=function(j){r._refreshMapping(false);r._updateItemsNavigation();if(j&&r.allowDrag&&r._enableDragDrop){r._enableDragDrop()}if(r.selectedItem!=null){a(r.selectedItem.titleElement).addClass(r.toThemeProperty("jqx-fill-state-pressed"));a(r.selectedItem.titleElement).addClass(r.toThemeProperty("jqx-tree-item-selected"))}};if(p==false){f(true);this._raiseEvent("4",{items:this.getItems()});return}f(false);r._render();if(r.checkboxes){r._updateCheckLayout(null)}this._raiseEvent("4",{items:this.getItems()})},updateItem:function(e,j){var h=e.treeInstance!=undefined?e:this.getItem(e);if(!h){var d=e;e=j;j=d;var h=e.treeInstance!=undefined?e:this.getItem(e)}if(h){if(typeof(j)==="string"){j={label:j}}if(j.value){h.value=j.value}if(j.label){h.label=j.label;a.jqx.utilities.html(a(h.titleElement),j.label);var b=a.jqx.browser.msie&&a.jqx.browser.version<8;if(b){a(document.body).append(this._measureItem);this._measureItem.html(a(h.titleElement).text());var g=this._measureItem.width();if(h.icon){g+=20}if(a(a(h.titleElement).find("img")).length>0){g+=20}a(h.titleElement).css("max-width",g+"px");this._measureItem.remove()}}if(j.icon){if(a(h.element).children(".itemicon").length>0){a(h.element).find(".itemicon")[0].src=j.icon}else{var c=j.iconsize;if(!c){c=16}var f=a('<img width="'+c+'" height="'+c+'" style="float: left;" class="itemicon" src="'+j.icon+'"/>');a(h.titleElement).prepend(f);f.css("margin-right","4px");if(this.rtl){f.css("margin-right","0px");f.css("margin-left","4px");f.css("float","right")}}}if(j.expanded){this.expandItem(h)}if(j.disabled){this.disableItem(h)}if(j.selected){this.selectItem(h)}return true}return false},removeItem:function(b,d){if(b==undefined||b==null){return}if(b.treeInstance!=undefined){b=b.element}var e=this;var h=b.id;var c=-1;var f=this.getItem(b);if(f){c=this.items.indexOf(f);if(c!=-1){(function g(p){var n=-1;n=this.items.indexOf(p);if(n!=-1){this.items.splice(n,1)}var k=a(p.element).find("li");var j=k.length;var o=this;var l=new Array();if(j>0){a.each(k,function(q){var r=o.itemMapping["id"+this.id].item;l.push(r)});for(var m=0;m<l.length;m++){g.apply(this,[l[m]])}}}).apply(this,[f])}}if(this.host.find("#"+b.id).length>0){a(b).remove()}if(d==false){this._raiseEvent("5");return}e._updateItemsNavigation();e._render();if(e.selectedItem!=null){if(e.selectedItem.element==b){a(e.selectedItem.titleElement).removeClass(e.toThemeProperty("jqx-fill-state-pressed"));a(e.selectedItem.titleElement).removeClass(e.toThemeProperty("jqx-tree-item-selected"));e.selectedItem=null}}this._raiseEvent("5");if(e.checkboxes){e._updateCheckLayout(null)}},clear:function(){this.items=new Array();this.itemMapping=new Array();var b=this.host.find("ul:first");if(b.length>0){b[0].innerHTML=""}this.selectedItem=null},disableItem:function(b){if(b==null){return false}if(b.treeInstance!=undefined){b=b.element}var c=this;a.each(c.items,function(){var d=this;if(d.element==b){d.disabled=true;a(d.titleElement).addClass(c.toThemeProperty("jqx-fill-state-disabled"));a(d.titleElement).addClass(c.toThemeProperty("jqx-tree-item-disabled"));if(c.checkboxes&&d.checkBoxElement){a(d.checkBoxElement).jqxCheckBox({disabled:true})}return false}})},_updateInputSelection:function(){if(this.input){if(this.selectedItem==null){this.input.val("")}else{var c=this.selectItem.value;if(c==null){c=this.selectedItem.label}this.input.val(c)}if(this.checkboxes){var b=this.getCheckedItems();if(this.submitCheckedItems){var f="";for(var d=0;d<b.length;d++){var e=b[d].value;if(e==null){e=b[d].label}if(d==b.length-1){f+=e}else{f+=e+","}}this.input.val(f)}}}},getCheckedItems:function(){var b=new Array();var c=this;a.each(c.items,function(){var d=this;if(d.checked){b.push(d)}});return b},getUncheckedItems:function(){var b=new Array();var c=this;a.each(c.items,function(){var d=this;if(!d.checked){b.push(d)}});return b},checkAll:function(){var b=this;a.each(b.items,function(){var c=this;if(!c.disabled){c.checked=true;a(c.checkBoxElement).jqxCheckBox("_setState",true)}});this._raiseEvent("6",{element:this,checked:true})},uncheckAll:function(){var b=this;a.each(b.items,function(){var c=this;if(!c.disabled){c.checked=false;a(c.checkBoxElement).jqxCheckBox("_setState",false)}});this._raiseEvent("6",{element:this,checked:false})},checkItem:function(d,f,b){if(d==null){return false}if(f===undefined){f=true}if(d.treeInstance!=undefined){d=d.element}var e=this;var c=false;var g=null;a.each(e.items,function(){var h=this;if(h.element==d&&!h.disabled){c=true;h.checked=f;g=h;a(h.checkBoxElement).jqxCheckBox({checked:f});return false}});if(c){this._raiseEvent("6",{element:d,checked:f});this._updateInputSelection()}if(b==undefined){if(g){if(this.hasThreeStates){this.checkItems(g,g)}}}},uncheckItem:function(b){this.checkItem(b,false)},enableItem:function(b){if(b==null){return false}if(b.treeInstance!=undefined){b=b.element}var c=this;a.each(c.items,function(){var d=this;if(d.element==b){d.disabled=false;a(d.titleElement).removeClass(c.toThemeProperty("jqx-fill-state-disabled"));a(d.titleElement).removeClass(c.toThemeProperty("jqx-tree-item-disabled"));if(c.checkboxes&&d.checkBoxElement){a(d.checkBoxElement).jqxCheckBox({disabled:false})}return false}})},enableAll:function(){var b=this;a.each(b.items,function(){var c=this;c.disabled=false;a(c.titleElement).removeClass(b.toThemeProperty("jqx-tree-item-disabled"));a(c.titleElement).removeClass(b.toThemeProperty("jqx-fill-state-disabled"));if(b.checkboxes&&c.checkBoxElement){a(c.checkBoxElement).jqxCheckBox({disabled:false})}})},lockItem:function(b){if(b==null){return false}var c=this;a.each(c.items,function(){var d=this;if(d.element==b){d.locked=true;return false}})},unlockItem:function(b){if(b==null){return false}var c=this;a.each(c.items,function(){var d=this;if(d.element==b){d.locked=false;return false}})},getItems:function(){return this.items},getItem:function(b){if(b==null||b==undefined){return null}if(this.itemMapping["id"+b.id]){var c=this.itemMapping["id"+b.id].item;return c}return null},isExpanded:function(b){if(b==null||b==undefined){return false}var c=this.itemMapping["id"+b.id].item;if(c!=null){return c.isExpanded}return false},isSelected:function(b){if(b==null||b==undefined){return false}var c=this.itemMapping["id"+b.id].item;if(c!=null){return c==this.selectedItem}return false},getPrevItem:function(c){var d=this.getItem(c);if(c.treeInstance!=undefined){d=c}var b=this._prevVisibleItem(d);return b},getNextItem:function(c){var d=this.getItem(c);if(c.treeInstance!=undefined){d=c}var b=this._nextVisibleItem(d);return b},getSelectedItem:function(b){return this.selectedItem},val:function(d){if(arguments.length==0||typeof(d)=="object"){return this.selectedItem}if(typeof d=="string"){var b=this.host.find("#"+d);if(b.length>0){var c=this.getItem(b[0]);this.selectItem(c)}}else{var c=this.getItem(d);this.selectItem(c)}},getActiveDescendant:function(){if(this.selectedItem){return this.selectedItem.element.id}return""},selectItem:function(b){if(this.disabled){return}var c=this;if(b&&b.treeInstance!=undefined){b=b.element}if(b==null||b==undefined){if(c.selectedItem!=null){a(c.selectedItem.titleElement).removeClass(c.toThemeProperty("jqx-fill-state-pressed"));a(c.selectedItem.titleElement).removeClass(c.toThemeProperty("jqx-tree-item-selected"));c.selectedItem=null}return}if(this.selectedItem!=null&&this.selectedItem.element==b){return}var d=this.selectedItem!=null?this.selectedItem.element:null;if(d){a(d).removeAttr("aria-selected")}a.each(c.items,function(){var e=this;if(!e.disabled){if(e.element==b){if(c.selectedItem==null||(c.selectedItem!=null&&c.selectedItem.titleElement!=e.titleElement)){if(c.selectedItem!=null){a(c.selectedItem.titleElement).removeClass(c.toThemeProperty("jqx-fill-state-pressed"));a(c.selectedItem.titleElement).removeClass(c.toThemeProperty("jqx-tree-item-selected"))}a(e.titleElement).addClass(c.toThemeProperty("jqx-fill-state-pressed"));a(e.titleElement).addClass(c.toThemeProperty("jqx-tree-item-selected"));c.selectedItem=e;a(e.element).attr("aria-selected","true");a.jqx.aria(c,"aria-activedescendant",e.element.id)}}}});this._updateInputSelection();this._raiseEvent("2",{element:b,prevElement:d})},collapseAll:function(){var c=this;var b=c.items;a.each(b,function(){var d=this;if(d.isExpanded==true){c._collapseItem(c,d)}})},expandAll:function(){var b=this;a.each(this.items,function(){var c=this;if(c.hasItems){b._expandItem(b,c)}})},collapseItem:function(b){if(b==null){return false}if(b.treeInstance!=undefined){b=b.element}var c=this;a.each(this.items,function(){var d=this;if(d.isExpanded==true&&d.element==b){c._collapseItem(c,d);return false}});return true},expandItem:function(b){if(b==null){return false}if(b.treeInstance!=undefined){b=b.element}var c=this;a.each(c.items,function(){var d=this;if(d.isExpanded==false&&d.element==b&&!d.disabled&&!d.locked){c._expandItem(c,d);if(d.parentElement){c.expandItem(d.parentElement)}}});return true},_getClosedSubtreeOffset:function(c){var b=a(c.subtreeElement);var e=-b.outerHeight();var d=-b.outerWidth();d=0;return{left:d,top:e}},_collapseItem:function(g,k,d,b){if(g==null||k==null){return false}if(k.disabled){return false}if(g.disabled){return false}if(g.locked){return false}var e=a(k.subtreeElement);var l=this._getClosedSubtreeOffset(k);var h=l.top;var c=l.left;$treeElement=a(k.element);var f=g.animationHideDelay;f=0;if(e.data("timer").show!=null){clearTimeout(e.data("timer").show);e.data("timer").show=null}var j=function(){k.isExpanded=false;if(g.checkboxes){var n=e.find(".chkbox");n.stop();n.css("opacity",1);e.find(".chkbox").animate({opacity:0},50)}var m=a(k.arrow);g._arrowStyle(m,"",k.isExpanded);e.slideUp(g.animationHideDuration,function(){k.isCollapsing=false;g._calculateWidth();var o=a(k.arrow);g._arrowStyle(o,"",k.isExpanded);e.hide();g._raiseEvent("1",{element:k.element})})};if(f>0){e.data("timer").hide=setTimeout(function(){j()},f)}else{j()}},_expandItem:function(g,k){if(g==null||k==null){return false}if(k.isExpanded){return false}if(k.locked){return false}if(k.disabled){return false}if(g.disabled){return false}var e=a(k.subtreeElement);if((e.data("timer"))!=null&&e.data("timer").hide!=null){clearTimeout(e.data("timer").hide)}var j=a(k.element);var h=0;var d=0;if(parseInt(e.css("top"))==h){k.isExpanded=true;return}var c=a(k.arrow);g._arrowStyle(c,"",k.isExpanded);if(g.checkboxes){var f=e.find(".chkbox");f.stop();f.css("opacity",0);f.animate({opacity:1},g.animationShowDuration)}e.slideDown(g.animationShowDuration,g.easing,function(){var l=a(k.arrow);k.isExpanded=true;g._arrowStyle(l,"",k.isExpanded);k.isExpanding=false;g._raiseEvent("0",{element:k.element});g._calculateWidth()});if(g.checkboxes){g._updateCheckItemLayout(k);if(k.subtreeElement){var b=a(k.subtreeElement).find("li");a.each(b,function(){var l=g.getItem(this);if(l!=null){g._updateCheckItemLayout(l)}})}}},_calculateWidth:function(){var f=this;var g=this.checkboxes?20:0;var e=0;a.each(this.items,function(){var h=a(this.element).height();if(h!=0){var l=this.titleElement.outerWidth()+10+g+(1+this.level)*20;e=Math.max(e,l);if(this.hasItems){var j=parseInt(a(this.titleElement).css("padding-top"));if(isNaN(j)){j=0}j=j*2;j+=2;var k=(j+a(this.titleElement).height())/2-17/2;if(a.jqx.browser.msie&&a.jqx.browser.version<9){a(this.arrow).css("margin-top","3px")}else{if(parseInt(k)>=0){a(this.arrow).css("margin-top",parseInt(k)+"px")}}}}});if(this.toggleIndicatorSize>16){e=e+this.toggleIndicatorSize-16}if(f.panel){if(e>this.host.width()){var b=e-this.host.width();var d=f.panel.jqxPanel("vScrollBar").css("visibility")!=="hidden"?10:0;b+=d;f.panel.jqxPanel({horizontalScrollBarMax:b})}else{f.panel.jqxPanel({horizontalScrollBarMax:0})}}this.host.find("ul:first").width(e);var c=this.host.width()-30;if(c>0){this.host.find("ul:first").css("min-width",c)}if(f.panel){f.panel.jqxPanel("_arrange")}},_arrowStyle:function(c,h,b){var e=this;if(c.length>0){c.removeClass();var g="";if(h=="hover"){g="-"+h}var f=b?"-expand":"-collapse";var d="jqx-tree-item-arrow"+f+g;c.addClass(e.toThemeProperty(d));if(this.rtl){c.addClass(e.toThemeProperty(d+"-rtl"))}}},_initialize:function(f,c){var e=this;var d=0;this.host.addClass(e.toThemeProperty("jqx-widget"));this.host.addClass(e.toThemeProperty("jqx-widget-content"));this.host.addClass(e.toThemeProperty("jqx-tree"));this._updateDisabledState();var b=a.jqx.browser.msie&&a.jqx.browser.version<8;a.each(this.items,function(){var m=this;$element=a(m.element);var k=null;if(e.checkboxes&&!m.hasItems&&m.checkBoxElement){a(m.checkBoxElement).css("margin-left","0px")}if(!b){if(!m.hasItems){if(!e.rtl){m.element.style.marginLeft=parseInt(e.toggleIndicatorSize)+"px"}else{m.element.style.marginRight=parseInt(e.toggleIndicatorSize)+"px"}var j=a(m.arrow);if(j.length>0){j.remove();m.arrow=null}return true}else{m.element.style.marginLeft="0px"}}else{if(!m.hasItems&&a(m.element).find("ul").length>0){a(m.element).find("ul").remove()}}var j=a(m.arrow);if(j.length>0){j.remove()}k=a('<span style="height: 17px; border: none; background-color: transparent;" id="arrow'+$element[0].id+'"></span>');k.prependTo($element);if(!e.rtl){k.css("float","left")}else{k.css("float","right")}k.css("clear","both");k.width(e.toggleIndicatorSize);e._arrowStyle(k,"",m.isExpanded);var l=parseInt(a(this.titleElement).css("padding-top"));if(isNaN(l)){l=0}l=l*2;l+=2;var n=(l+a(this.titleElement).height())/2-17/2;if(a.jqx.browser.msie&&a.jqx.browser.version<9){k.css("margin-top","3px")}else{if(parseInt(n)>=0){k.css("margin-top",parseInt(n)+"px")}}$element.addClass(e.toThemeProperty("jqx-disableselect"));k.addClass(e.toThemeProperty("jqx-disableselect"));var g="click";var h=e.isTouchDevice();if(h){g=a.jqx.mobile.getTouchEventName("touchend")}e.addHandler(k,g,function(){if(!m.isExpanded){e._expandItem(e,m)}else{e._collapseItem(e,m)}return false});e.addHandler(k,"selectstart",function(){return false});e.addHandler(k,"mouseup",function(){if(!h){return false}});if(!h){e.addHandler(k,"mouseenter",function(){e._arrowStyle(k,"hover",m.isExpanded)});e.addHandler(k,"mouseleave",function(){e._arrowStyle(k,"",m.isExpanded)})}m.hasItems=a(m.element).find("li").length>0;m.arrow=k[0];if(!m.hasItems){k.css("visibility","hidden")}$element.css("float","none")})},_getOffset:function(b){var f=a(window).scrollTop();var h=a(window).scrollLeft();var c=a.jqx.mobile.isSafariMobileBrowser();var g=a(b).offset();var e=g.top;var d=g.left;if(c!=null&&c){return{left:d-h,top:e-f}}else{return a(b).offset()}},_renderHover:function(c,e,b){var d=this;if(!b){var f=a(e.titleElement);d.addHandler(f,"mouseenter",function(){if(!e.disabled&&d.enableHover&&!d.disabled){f.addClass(d.toThemeProperty("jqx-fill-state-hover"));f.addClass(d.toThemeProperty("jqx-tree-item-hover"))}});d.addHandler(f,"mouseleave",function(){if(!e.disabled&&d.enableHover&&!d.disabled){f.removeClass(d.toThemeProperty("jqx-fill-state-hover"));f.removeClass(d.toThemeProperty("jqx-tree-item-hover"))}})}},_updateDisabledState:function(){if(this.disabled){this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled"))}else{this.host.removeClass(this.toThemeProperty("jqx-fill-state-disabled"))}},_addInput:function(){if(this.input==null){var b=this.host.attr("name");if(!b){b=this.element.id}else{this.host.attr("name","")}this.input=a("<input type='hidden'/>");this.host.append(this.input);this.input.attr("name",b);this._updateInputSelection()}},render:function(){this._updateItemsNavigation();this._render()},_render:function(f,j){if(a.jqx.browser.msie&&a.jqx.browser.version<8){var g=this;a.each(this.items,function(){var n=a(this.element);var p=n.parent();var m=parseInt(this.titleElement.css("margin-left"))+this.titleElement[0].scrollWidth+13;n.css("min-width",m);var o=parseInt(p.css("min-width"));if(isNaN(o)){o=0}var l=n.css("min-width");if(o<parseInt(n.css("min-width"))){p.css("min-width",l)}this.titleElement[0].style.width=null})}var h=1000;var c=[5,5];var g=this;a.data(g.element,"animationHideDelay",g.animationHideDelay);a.data(document.body,"treeel",this);this._initialize();var d=this.isTouchDevice();if(d&&this.toggleMode=="dblclick"){this.toggleMode="click"}if(f==undefined||f==true){a.each(this.items,function(){g._updateItemEvents(g,this)})}if(this.allowDrag&&this._enableDragDrop&&(j==undefined||j==true)){this._enableDragDrop()}this._addInput();if(this.host.jqxPanel){if(this.host.find("#panel"+this.element.id).length>0){this.panel.jqxPanel({touchMode:this.touchMode});this.panel.jqxPanel("refresh");return}this.host.find("ul:first").wrap('<div style="background-color: transparent; overflow: hidden; width: 100%; height: 100%;" id="panel'+this.element.id+'"></div>');var b=this.host.find("div:first");var k="fixed";if(this.height==null||this.height=="auto"){k="verticalwrap"}if(this.width==null||this.width=="auto"){if(k=="fixed"){k="horizontalwrap"}else{k="wrap"}}b.jqxPanel({rtl:this.rtl,theme:this.theme,width:"100%",height:"100%",touchMode:this.touchMode,sizeMode:k});if(a.jqx.browser.msie&&a.jqx.browser.version<8){b.jqxPanel("content").css("left","0px")}if(this.height==null||(this.height!=null&&this.height.toString().indexOf("%")!=-1)){if(this.isTouchDevice()){this.removeHandler(b,a.jqx.mobile.getTouchEventName("touchend")+".touchScroll touchcancel.touchScroll");this.removeHandler(b,a.jqx.mobile.getTouchEventName("touchmove")+".touchScroll");this.removeHandler(b,a.jqx.mobile.getTouchEventName("touchstart")+".touchScroll")}}var e=a.data(b[0],"jqxPanel").instance;if(e!=null){this.vScrollInstance=e.vScrollInstance;this.hScrollInstance=e.hScrollInstance}this.panelInstance=e;if(a.jqx.browser.msie&&a.jqx.browser.version<8){this.host.attr("hideFocus",true);this.host.find("div").attr("hideFocus",true);this.host.find("ul").attr("hideFocus",true)}b[0].className="";this.panel=b}this._raiseEvent("3",this)},focus:function(){try{this.host.focus()}catch(b){}},_updateItemEvents:function(h,k){var b=this.isTouchDevice();if(b){this.toggleMode=a.jqx.mobile.getTouchEventName("touchend")}var j=a(k.element);if(h.enableRoundedCorners){j.addClass(h.toThemeProperty("jqx-rc-all"))}var e=!b?"mousedown":a.jqx.mobile.getTouchEventName("touchend");if(h.touchMode===true){h.removeHandler(a(k.checkBoxElement),"mousedown")}h.removeHandler(a(k.checkBoxElement),e);h.addHandler(a(k.checkBoxElement),e,function(l){if(!h.disabled){if(!this.treeItem.disabled){this.treeItem.checked=!this.treeItem.checked;h.checkItem(this.treeItem.element,this.treeItem.checked,"tree");if(h.hasThreeStates){h.checkItems(this.treeItem,this.treeItem)}}}return false});var c=a(k.titleElement);h.removeHandler(j);var f=this.allowDrag&&this._enableDragDrop;if(!f){h.removeHandler(c)}else{h.removeHandler(c,"mousedown.item");h.removeHandler(c,"click");h.removeHandler(c,"dblclick");h.removeHandler(c,"mouseenter");h.removeHandler(c,"mouseleave")}h._renderHover(j,k,b);var d=a(k.subtreeElement);if(d.length>0){var g=k.isExpanded?"block":"none";d.css({overflow:"hidden",display:g});d.data("timer",{})}h.addHandler(c,"selectstart",function(l){return false});if(a.jqx.browser.opera){h.addHandler(c,"mousedown.item",function(l){return false})}if(h.toggleMode!="click"){h.addHandler(c,"click",function(l){h.selectItem(k.element);if(h.panel!=null){h.panel.jqxPanel({focused:true})}h.host.focus()})}h.addHandler(c,h.toggleMode,function(l){if(d.length>0){clearTimeout(d.data("timer").hide)}if(h.panel!=null){h.panel.jqxPanel({focused:true})}h.selectItem(k.element);if(k.isExpanding==undefined){k.isExpanding=false}if(k.isCollapsing==undefined){k.isCollapsing=false}if(d.length>0){if(!k.isExpanded){if(false==k.isExpanding){k.isExpanding=true;h._expandItem(h,k)}}else{if(false==k.isCollapsing){k.isCollapsing=true;h._collapseItem(h,k,true)}}return false}})},isTouchDevice:function(){if(this._isTouchDevice!=undefined){return this._isTouchDevice}var b=a.jqx.mobile.isTouchDevice();if(this.touchMode==true){b=true}else{if(this.touchMode==false){b=false}}this._isTouchDevice=b;return b},createID:function(){return a.jqx.utilities.createId()},createTree:function(b){if(b==null){return}var d=this;var f=a(b).find("li");var c=0;this.items=new Array();this.itemMapping=new Array();a(b).addClass(d.toThemeProperty("jqx-tree-dropdown-root"));if(this.rtl){a(b).addClass(d.toThemeProperty("jqx-tree-dropdown-root-rtl"))}if(this.rtl||a.jqx.browser.msie&&a.jqx.browser.version<8){this._measureItem=a("<span style='position: relative; visibility: hidden;'></span>");this._measureItem.addClass(this.toThemeProperty("jqx-widget"));this._measureItem.addClass(this.toThemeProperty("jqx-fill-state-normal"));this._measureItem.addClass(this.toThemeProperty("jqx-tree-item"));this._measureItem.addClass(this.toThemeProperty("jqx-item"));a(document.body).append(this._measureItem)}if(a.jqx.browser.msie&&a.jqx.browser.version<8){}for(var e=0;e<f.length;e++){this._createItem(f[e])}if(this.rtl||a.jqx.browser.msie&&a.jqx.browser.version<8){this._measureItem.remove()}this._updateItemsNavigation();this._updateCheckStates()},_updateCheckLayout:function(c){var b=this;if(!this.checkboxes){return}a.each(this.items,function(){if(this.level==c||c==undefined){b._updateCheckItemLayout(this)}})},_updateCheckItemLayout:function(b){if(this.checkboxes){if(a(b.titleElement).css("display")!="none"){var c=a(b.checkBoxElement);var d=a(b.titleElement).outerHeight()/2-1-parseInt(this.checkSize)/2;c.css("margin-top",d);if(!this.rtl){if(a.jqx.browser.msie&&a.jqx.browser.version<8){b.titleElement.css("margin-left",parseInt(this.checkSize)+25)}else{if(b.hasItems){c.css("margin-left",this.toggleIndicatorSize)}}}}}},_updateCheckStates:function(){var b=this;if(b.hasThreeStates){a.each(this.items,function(){b._updateCheckState(this)})}else{a.each(this.items,function(){if(this.checked==null){b.checkItem(this.element,false,"tree")}})}},_updateCheckState:function(e){if(e==null||e==undefined){return}var d=this;var c=0;var f=false;var b=0;var g=a(e.element).find("li");b=g.length;if(e.checked&&b>0){a.each(g,function(h){var k=d.itemMapping["id"+this.id].item;var j=k.element.getAttribute("item-checked");if(j==undefined||j==null||j=="true"||j==true){d.checkItem(k.element,true,"tree")}})}a.each(g,function(h){var j=d.itemMapping["id"+this.id].item;if(j.checked!=false){if(j.checked==null){f=true}c++}});if(b>0){if(c==b){this.checkItem(e.element,true,"tree")}else{if(c>0){this.checkItem(e.element,null,"tree")}else{this.checkItem(e.element,false,"tree")}}}},_updateItemsNavigation:function(){var g=this.host.find("ul:first");var f=a(g).find("li");var c=0;for(var d=0;d<f.length;d++){var b=f[d];if(this.itemMapping["id"+b.id]){var e=this.itemMapping["id"+b.id].item;if(!e){continue}e.prevItem=null;e.nextItem=null;if(d>0){if(this.itemMapping["id"+f[d-1].id]){e.prevItem=this.itemMapping["id"+f[d-1].id].item}}if(d<f.length-1){if(this.itemMapping["id"+f[d+1].id]){e.nextItem=this.itemMapping["id"+f[d+1].id].item}}}}},_applyTheme:function(e,h){var f=this;this.host.removeClass("jqx-tree-"+e);this.host.removeClass("jqx-widget-"+e);this.host.removeClass("jqx-widget-content-"+e);this.host.addClass(f.toThemeProperty("jqx-tree"));this.host.addClass(f.toThemeProperty("jqx-widget"));var b=this.host.find("ul:first");a(b).removeClass(f.toThemeProperty("jqx-tree-dropdown-root-"+e));a(b).addClass(f.toThemeProperty("jqx-tree-dropdown-root"));if(this.rtl){a(b).removeClass(f.toThemeProperty("jqx-tree-dropdown-root-rtl-"+e));a(b).addClass(f.toThemeProperty("jqx-tree-dropdown-root-rtl"))}var g=a(b).find("li");for(var d=0;d<g.length;d++){var c=g[d];a(c).children().each(function(){if(this.tagName=="ul"||this.tagName=="UL"){a(this).removeClass(f.toThemeProperty("jqx-tree-dropdown-"+e));a(this).addClass(f.toThemeProperty("jqx-tree-dropdown"));if(f.rtl){a(this).removeClass(f.toThemeProperty("jqx-tree-dropdown-rtl-"+e));a(this).addClass(f.toThemeProperty("jqx-tree-dropdown-rtl"))}return false}})}a.each(this.items,function(){var l=this;var k=a(l.element);k.removeClass(f.toThemeProperty("jqx-tree-item-li-"+e));k.addClass(f.toThemeProperty("jqx-tree-item-li"));if(this.rtl){k.removeClass(f.toThemeProperty("jqx-tree-item-li-"+e));k.addClass(f.toThemeProperty("jqx-tree-item-li"))}a(l.titleElement).removeClass(f.toThemeProperty("jqx-tree-item-"+e));a(l.titleElement).addClass(f.toThemeProperty("jqx-tree-item"));a(l.titleElement).removeClass("jqx-item-"+e);a(l.titleElement).addClass(f.toThemeProperty("jqx-item"));var j=a(l.arrow);if(j.length>0){f._arrowStyle(j,"",l.isExpanded)}if(l.checkBoxElement){a(l.checkBoxElement).jqxCheckBox({theme:h})}if(f.enableRoundedCorners){k.removeClass("jqx-rc-all-"+e);k.addClass(f.toThemeProperty("jqx-rc-all"))}});if(this.host.jqxPanel){this.panel.jqxPanel({theme:h})}},_refreshMapping:function(f,q){var e=this.host.find("li");var b=new Array();var p=new Array();var h=a.data(document.body,"treeItemsStorage");var l=this;for(var j=0;j<e.length;j++){var k=e[j];var d=a(k);var o=h[k.id];if(o==null){continue}p[p.length]=o;if(f==undefined||f==true){this._updateItemEvents(this,o)}o.level=d.parents("li").length;o.treeInstance=this;var n=null;var g=null;if(o.titleElement[0].className.indexOf("jqx-fill-state-pressed")!=-1){a(o.titleElement).removeClass(l.toThemeProperty("jqx-fill-state-pressed"));a(o.titleElement).removeClass(l.toThemeProperty("jqx-tree-item-selected"))}var c=d.children();c.each(function(){if(this.tagName=="ul"||this.tagName=="UL"){o.subtreeElement=this;a(this).addClass(l.toThemeProperty("jqx-tree-dropdown"));if(l.rtl){a(this).addClass(l.toThemeProperty("jqx-tree-dropdown-rtl"))}return false}});var m=d.parents();m.each(function(){if((this.tagName=="li"||this.tagName=="LI")){g=this.id;n=this;return false}});o.parentElement=n;o.parentId=g;o.hasItems=a(o.element).find("li").length>0;if(o!=null){b[j]={element:k,item:o};b["id"+k.id]=b[j]}}this.itemMapping=b;this.items=p},_createItem:function(c){if(c==null||c==undefined){return}var r=c.id;if(!r){r=this.createID()}var F=c;var m=a(c);F.id=r;var g=a.data(document.body,"treeItemsStorage");if(g==undefined){g=new Array()}var x=this.items.length;this.items[x]=new a.jqx._jqxTree.jqxTreeItem();this.treeElements[r]=this.items[x];g[F.id]=this.items[x];a.data(document.body,"treeItemsStorage",g);x=this.items.length;var A=0;var H=this;var e=null;m.attr("role","treeitem");m.children().each(function(){if(this.tagName=="ul"||this.tagName=="UL"){H.items[x-1].subtreeElement=this;a(this).addClass(H.toThemeProperty("jqx-tree-dropdown"));if(H.rtl){a(this).addClass(H.toThemeProperty("jqx-tree-dropdown-rtl"));a(this).css("clear","both")}return false}});m.parents().each(function(){if((this.tagName=="li"||this.tagName=="LI")){A=this.id;e=this;return false}});var w=c.getAttribute("item-expanded");if(w==null||w==undefined||(w!="true"&&w!=true)){w=false}else{w=true}F.removeAttribute("item-expanded");var G=c.getAttribute("item-locked");if(G==null||G==undefined||(G!="true"&&G!=true)){G=false}else{G=true}F.removeAttribute("item-locked");var s=c.getAttribute("item-selected");if(s==null||s==undefined||(s!="true"&&s!=true)){s=false}else{s=true}F.removeAttribute("item-selected");var d=c.getAttribute("item-disabled");if(d==null||d==undefined||(d!="true"&&d!=true)){d=false}else{d=true}F.removeAttribute("item-disabled");var j=c.getAttribute("item-checked");if(j==null||j==undefined||(j!="true"&&j!=true)){j=false}else{j=true}var I=c.getAttribute("item-title");if(I==null||I==undefined||(I!="true"&&I!=true)){I=false}F.removeAttribute("item-title");var D=c.getAttribute("item-icon");var t=c.getAttribute("item-iconsize");var l=c.getAttribute("item-label");var v=c.getAttribute("item-value");F.removeAttribute("item-icon");F.removeAttribute("item-iconsize");F.removeAttribute("item-label");F.removeAttribute("item-value");var C=this.items[x-1];C.id=r;if(C.value==undefined){if(this._valueList&&this._valueList[r]){C.value=this._valueList[r]}else{C.value=v}}C.icon=D;C.iconsize=t;C.parentId=A;C.disabled=d;C.parentElement=e;C.element=c;C.locked=G;C.selected=s;C.checked=j;C.isExpanded=w;C.treeInstance=this;this.itemMapping[x-1]={element:F,item:C};this.itemMapping["id"+F.id]=this.itemMapping[x-1];var h=false;var E=false;h=false;if(this.rtl){a(C.element).css("float","right");a(C.element).css("clear","both")}if(!h||!E){if(a(F.firstChild).length>0){if(C.icon){var t=C.iconsize;if(!t){t=16}var D=a('<img width="'+t+'" height="'+t+'" style="float: left;" class="itemicon" src="'+C.icon+'"/>');a(F).prepend(D);D.css("margin-right","4px");if(this.rtl){D.css("margin-right","0px");D.css("margin-left","4px");D.css("float","right")}}var b=F.innerHTML.indexOf("<ul");if(b==-1){b=F.innerHTML.indexOf("<UL")}if(b==-1){C.originalTitle=F.innerHTML;F.innerHTML='<div style="display: inline-block;">'+F.innerHTML+"</div>";C.titleElement=a(a(F)[0].firstChild)}else{var B=F.innerHTML.substring(0,b);B=a.trim(B);C.originalTitle=B;B=a('<div style="display: inline-block;">'+B+"</div>");var o=a(F).find("ul:first");o.remove();F.innerHTML="";a(F).prepend(B);a(F).append(o);C.titleElement=B;if(this.rtl){B.css("float","right")}}if(a.jqx.browser.msie&&a.jqx.browser.version<8){a(a(F)[0].firstChild).css("display","inline-block");var n=false;if(this._measureItem.parents().length==0){a(document.body).append(this._measureItem);n=true}this._measureItem.css("min-width","20px");this._measureItem[0].innerHTML=(a(C.titleElement).text());var u=this._measureItem.width();if(C.icon){u+=20}if(a(a(item.titleElement).find("img")).length>0){u+=20}a(a(F)[0].firstChild).css("max-width",u+"px");if(n){this._measureItem.remove()}}}else{C.originalTitle="Item";a(F).append(a("<span>Item</span>"));a(F.firstChild).wrap("<span/>");C.titleElement=a(F)[0].firstChild;if(a.jqx.browser.msie&&a.jqx.browser.version<8){a(F.firstChild).css("display","inline-block")}}}var z=a(C.titleElement);var q=this.toThemeProperty("jqx-rc-all");if(this.allowDrag){z.addClass("draggable")}if(l==null||l==undefined){l=C.titleElement;C.label=a.trim(z.text())}else{C.label=l}a(F).addClass(this.toThemeProperty("jqx-tree-item-li"));if(this.rtl){a(F).addClass(this.toThemeProperty("jqx-tree-item-li-rtl"))}q+=" "+this.toThemeProperty("jqx-tree-item")+" "+this.toThemeProperty("jqx-item");if(this.rtl){q+=" "+this.toThemeProperty("jqx-tree-item-rtl")}z[0].className=z[0].className+" "+q;C.level=a(c).parents("li").length;C.hasItems=a(c).find("li").length>0;if(this.rtl&&C.parentElement){if(!this.checkboxes){z.css("margin-right","5px")}}if(this.checkboxes){if(this.host.jqxCheckBox){var p=a('<div style="position: absolute; width: 18px; height: 18px;" tabIndex=0 class="chkbox"/>');p.width(parseInt(this.checkSize));p.height(parseInt(this.checkSize));a(F).prepend(p);if(this.rtl){p.css("float","right");p.css("position","static")}p.jqxCheckBox({hasInput:false,checked:C.checked,boxSize:this.checkSize,animationShowDelay:0,animationHideDelay:0,disabled:d,theme:this.theme});if(!this.rtl){z.css("margin-left",parseInt(this.checkSize)+6)}else{var y=5;if(C.parentElement){p.css("margin-right",y+5+"px")}else{p.css("margin-right",y+"px")}}C.checkBoxElement=p[0];p[0].treeItem=C;var f=z.outerHeight()/2-1-parseInt(this.checkSize)/2;p.css("margin-top",f);if(a.jqx.browser.msie&&a.jqx.browser.version<8){z.css("width","1%");z.css("margin-left",parseInt(this.checkSize)+25)}else{if(C.hasItems){if(!this.rtl){p.css("margin-left",this.toggleIndicatorSize)}}}}else{throw new Error("jqxTree: Missing reference to jqxcheckbox.js.");return}}else{if(a.jqx.browser.msie&&a.jqx.browser.version<8){z.css("width","1%")}}if(d){this.disableItem(C.element)}if(s){this.selectItem(C.element)}if(a.jqx.browser.msie&&a.jqx.browser.version<8){a(F).css("margin","0px");a(F).css("padding","0px")}},destroy:function(){this.removeHandler(a(window),"resize.jqxtree"+this.element.id);this.host.removeClass();if(this.isTouchDevice()){this.removeHandler(this.panel,a.jqx.mobile.getTouchEventName("touchend")+".touchScroll touchcancel.touchScroll");this.removeHandler(this.panel,a.jqx.mobile.getTouchEventName("touchmove")+".touchScroll");this.removeHandler(this.panel,a.jqx.mobile.getTouchEventName("touchstart")+".touchScroll")}var c=this;var b=this.isTouchDevice();a.each(this.items,function(){var g=this;var e=a(this.element);var d=!b?"click":a.jqx.mobile.getTouchEventName("touchend");c.removeHandler(a(g.checkBoxElement),d);var h=a(g.titleElement);c.removeHandler(e);var f=c.allowDrag&&c._enableDragDrop;if(!f){c.removeHandler(h)}else{c.removeHandler(h,"mousedown.item");c.removeHandler(h,"click");c.removeHandler(h,"dblclick");c.removeHandler(h,"mouseenter");c.removeHandler(h,"mouseleave")}$arrowSpan=a(g.arrow);if($arrowSpan.length>0){c.removeHandler($arrowSpan,d);c.removeHandler($arrowSpan,"selectstart");c.removeHandler($arrowSpan,"mouseup");if(!b){c.removeHandler($arrowSpan,"mouseenter");c.removeHandler($arrowSpan,"mouseleave")}c.removeHandler(h,"selectstart")}if(a.jqx.browser.opera){c.removeHandler(h,"mousedown.item")}if(c.toggleMode!="click"){c.removeHandler(h,"click")}c.removeHandler(h,c.toggleMode)});if(this.panel){this.panel.jqxPanel("destroy");this.panel=null}this.host.remove()},_raiseEvent:function(f,c){if(c==undefined){c={owner:null}}var d=this.events[f];args=c;args.owner=this;var e=new jQuery.Event(d);e.owner=this;e.args=args;var b=this.host.trigger(e);return b},propertyChangedHandler:function(d,l,b,j){if(this.isInitialized==undefined||this.isInitialized==false){return}if(l=="submitCheckedItems"){d._updateInputSelection()}if(l=="disabled"){d._updateDisabledState()}if(l=="theme"){d._applyTheme(b,j)}if(l=="keyboardNavigation"){d.enableKeyboardNavigation=j}if(l=="width"||l=="height"){d.refresh();d._initialize();d._calculateWidth();if(d.host.jqxPanel){var k="fixed";if(this.height==null||this.height=="auto"){k="verticalwrap"}if(this.width==null||this.width=="auto"){if(k=="fixed"){k="horizontalwrap"}else{k="wrap"}}d.panel.jqxPanel({sizeMode:k})}}if(l=="touchMode"){d._isTouchDevice=null;if(j){d.enableHover=false}d._render()}if(l=="source"){if(this.source!=null){var m=[];a.each(d.items,function(){if(this.isExpanded){m[m.length]={label:this.label,level:this.level}}});var f=d.loadItems(d.source);if(!d.host.jqxPanel){d.element.innerHTML=f}else{d.panel.jqxPanel("setcontent",f)}var e=d.disabled;var g=d.host.find("ul:first");if(g.length>0){d.createTree(g[0]);d._render()}var h=d;var c=h.animationShowDuration;h.animationShowDuration=0;d.disabled=false;if(m.length>0){a.each(d.items,function(){for(var n=0;n<m.length;n++){if(m[n].label==this.label&&m[n].level==this.level){var o=h.getItem(this.element);h._expandItem(h,o)}}})}d.disabled=e;h.animationShowDuration=c}}if(l=="hasThreeStates"){d._render();d._updateCheckStates()}if(l=="toggleIndicatorSize"){d._updateCheckLayout();d._render()}}})})(jQuery);(function(a){a.jqx._jqxTree.jqxTreeItem=function(e,d,b){var c={label:null,id:e,parentId:d,parentElement:null,parentItem:null,disabled:false,selected:false,locked:false,checked:false,level:0,isExpanded:false,hasItems:false,element:null,subtreeElement:null,checkBoxElement:null,titleElement:null,arrow:null,prevItem:null,nextItem:null};return c}})(jQuery);